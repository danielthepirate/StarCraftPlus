include "TriggerLibs/natives"

//--------------------------------------------------------------------------------------------------
// Library: WCS_Pirated Lib
//--------------------------------------------------------------------------------------------------
// Preset Declarations
const int libWCSP_ge_UpgradeNotificationsSlotStatus_HiddenOccupiedwithrunningUpgrade = 0;
const int libWCSP_ge_UpgradeNotificationsSlotStatus_VisibleOccupiedwithrunningUpgrade = 1;
const int libWCSP_ge_UpgradeNotificationsSlotStatus_OccupiedwithdestroyedcompletedUpgrade = 2;
const int libWCSP_ge_UpgradeNotificationsSlotStatus_NoUpgrade = 3;

// Constants
const int libWCSP_gv_upgradeNotificationsMaxUISlots = 50;
const fixed libWCSP_gv_upgradeNotificationsVisibleTime = 15.0;

// Structures
struct libWCSP_gs_Labels {
    int lv_iconSize;
    int lv_iconSizeEgg;
    int lv_iconSizeTechLab;
    string[17] lv_colorStrings;
};

struct libWCSP_gs_UpgradeNotifications {
    bool lv_active;
    bool lv_updateThreadRunning;
    int[libWCSP_gv_upgradeNotificationsMaxUISlots + 1] lv_itemIcon;
    int[libWCSP_gv_upgradeNotificationsMaxUISlots + 1] lv_itemName;
    int[libWCSP_gv_upgradeNotificationsMaxUISlots + 1] lv_itemPanel;
    int[libWCSP_gv_upgradeNotificationsMaxUISlots + 1] lv_itemProgressBar;
    int[libWCSP_gv_upgradeNotificationsMaxUISlots + 1] lv_itemTimerStatus;
    int[libWCSP_gv_upgradeNotificationsMaxUISlots + 1] lv_itemTimerLabel;
    timer[libWCSP_gv_upgradeNotificationsMaxUISlots + 1] lv_timerDestruction;
    int[libWCSP_gv_upgradeNotificationsMaxUISlots + 1] lv_slotStatus;
    unit[101] lv_slotFacility;
    int lv_slotLastUsed;
};

// Variable Declarations
libWCSP_gs_Labels libWCSP_gv_labels;
playergroup libWCSP_gv_labelsObs;
libWCSP_gs_UpgradeNotifications libWCSP_gv_upgradeNotifications;
playergroup libWCSP_gv_upgradeNotificationsObs;
int libWCSP_gv_upgradeNotificationsObsID;

// Function Declarations
bool libWCSP_gf_LabelsUnitUsesCustomStatusBar (unit lp_unit);
bool libWCSP_gf_LabelsUnitMorphTwoStage (unit lp_unit);
int libWCSP_gf_LabelsUnitIconSize (unit lp_productionUnit);
void libWCSP_gf_UpgradeNotificationsRemoveRunningUpgrade (int lp_slot);
int libWCSP_gf_UpgradeNotificationsFacilitySlot (unit lp_facility);
string libWCSP_gf_UpgradeNotificationsUpgradeImage (string lp_upgrade);
text libWCSP_gf_UpgradeNotificationsUpgradeName (string lp_upgrade);
bool libWCSP_gf_UpgradeNotificationsUpgradeNeedsToBeVisible (fixed lp_remainingTime);
void libWCSP_gf_UpgradeNotificationsUpdateThread ();
void libWCSP_gf_UpgradeNotificationsSetStatusLabel (int lp_slot, text lp_status);
void libWCSP_gf_UpgradeNotificationsSetSlotData (int lp_slot, text lp_name, string lp_icon, color lp_color, bool lp_visible);
void libWCSP_gf_UpgradeNotificationsSwapSlotWithLowestInvisibleOne (int lp_slot);
void libWCSP_gf_UpgradeNotificationsSwapSlotInformation (int lp_slotA, int lp_slotB);
void libWCSP_gf_UpgradeNotificationsUpdateProgressData (int lp_slot);

// Trigger Declarations
trigger libWCSP_gt_LabelsUnitCreatedPIR;
trigger libWCSP_gt_LabelsUnitTrainingStartedPIR;
trigger libWCSP_gt_LabelsUnitTrainingStoppedPIR;
trigger libWCSP_gt_LabelsUnitTrainingReactorDestroyedPIR;
trigger libWCSP_gt_LabelsResearchStartedPIR;
trigger libWCSP_gt_LabelsResearchStoppedPIR;
trigger libWCSP_gt_LabelsConstructionStartedPIR;
trigger libWCSP_gt_LabelsConstructionStoppedPIR;
trigger libWCSP_gt_LabelsMorphStartedPIR;
trigger libWCSP_gt_LabelsMorphStoppedPIR;
trigger libWCSP_gt_UpgradeNotificationsInitialization;
trigger libWCSP_gt_UpgradeNotificationsResearchCancelled;
trigger libWCSP_gt_UpgradeNotificationsResearchCompleted;
trigger libWCSP_gt_UpgradeNotificationsResearchStarted;
trigger libWCSP_gt_UpgradeNotificationsDestructionTimerRunsOut;

// Library Initialization
void libWCSP_InitVariables ();

