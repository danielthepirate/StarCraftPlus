include "TriggerLibs/NativeLib"
include "LibPPRL_h"

include "LibSCPL_h"

//--------------------------------------------------------------------------------------------------
// Library: StarCraftPlus Lib
//--------------------------------------------------------------------------------------------------
// External Library Initialization
void libSCPL_InitLibraries () {
    libNtve_InitVariables();
    libPPRL_InitVariables();
}

// Variable Initialization
bool libSCPL_InitVariables_completed = false;

void libSCPL_InitVariables () {
    int init_i;
    int init_i1;
    int init_j1;

    if (libSCPL_InitVariables_completed) {
        return;
    }

    libSCPL_InitVariables_completed = true;

    libSCPL_gv_globalSelectionPlayers = PlayerGroupEmpty();
    libSCPL_gv_constants.lv_spendBufferMinerals = 1000;
    libSCPL_gv_constants.lv_spendBufferVespene = 1000;
    libSCPL_gv_constants.lv_spendTickIncrement = 0.5;
    libSCPL_gv_constants.lv_spendTickIncrementBoosted = 0.4375;
    libSCPL_gv_constants.lv_townHallResourceRadius = 15.0;
    for (init_i = 0; init_i <= 16; init_i += 1) {
        libSCPL_gv_player[init_i].lv_autoCreepNodeTargets = UnitGroupEmpty();
        libSCPL_gv_player[init_i].lv_autoCreepNodes = UnitGroupEmpty();
        libSCPL_gv_player[init_i].lv_globalTerran_AutoWallToggle = true;
        libSCPL_gv_player[init_i].lv_globalZerg_CreepSpreadToggle = true;
        for (init_i1 = 0; init_i1 <= 3; init_i1 += 1) {
            libSCPL_gv_player[init_i].lv_globalRallyGroup[init_i1] = UnitGroupEmpty();
        }
        libSCPL_gv_player[init_i].lv_globalMicroSelection = UnitGroupEmpty();
        libSCPL_gv_player[init_i].lv_globalMacroTab = 2;
    }
    libSCPL_gv_uI.lv_resourceMineralSpend = c_invalidDialogControlId;
    libSCPL_gv_uI.lv_resourceVespeneSpend = c_invalidDialogControlId;
    libSCPL_gv_uI.lv_consoleRallyCommandCard = c_invalidDialogControlId;
    for (init_i1 = 0; init_i1 <= 10; init_i1 += 1) {
        libSCPL_gv_uI.lv_consoleControlGroupAnimListener[init_i1] = c_invalidDialogControlId;
    }
    for (init_i1 = 0; init_i1 <= 4; init_i1 += 1) {
        libSCPL_gv_uI.lv_consoleGlobalTab[init_i1] = c_invalidDialogControlId;
    }
    for (init_i1 = 0; init_i1 <= 4; init_i1 += 1) {
        for (init_j1 = 0; init_j1 <= 2; init_j1 += 1) {
            libSCPL_gv_uI.lv_consoleGlobalTabCommandCard[init_i1][init_j1] = c_invalidDialogControlId;
        }
    }
    libSCPL_gv_uI.lv_consoleActiveCommandCard = c_invalidDialogControlId;
    libSCPL_gv_hotkey.lv_supplyDepot = "S";
    libSCPL_gv_hotkey.lv_commandCenter = "C";
    libSCPL_gv_hotkey.lv_barracks = "B";
    libSCPL_gv_hotkey.lv_engineeringBay = "E";
    libSCPL_gv_hotkey.lv_refinery = "R";
    libSCPL_gv_hotkey.lv_missileTurret = "T";
    libSCPL_gv_hotkey.lv_sensorTower = "N";
    libSCPL_gv_hotkey.lv_factory = "F";
    libSCPL_gv_hotkey.lv_ghostAcademy = "G";
    libSCPL_gv_hotkey.lv_bunker = "U";
    libSCPL_gv_hotkey.lv_starport = "S";
    libSCPL_gv_hotkey.lv_armory = "A";
    libSCPL_gv_hotkey.lv_fusionCore = "C";
    libSCPL_gv_hotkey.lv_sCV = "S";
    libSCPL_gv_hotkey.lv_marine = "A";
    libSCPL_gv_hotkey.lv_marauder = "D";
    libSCPL_gv_hotkey.lv_reaper = "R";
    libSCPL_gv_hotkey.lv_ghost = "G";
    libSCPL_gv_hotkey.lv_hellion = "E";
    libSCPL_gv_hotkey.lv_siegeTank = "S";
    libSCPL_gv_hotkey.lv_widowMine = "D";
    libSCPL_gv_hotkey.lv_cyclone = "N";
    libSCPL_gv_hotkey.lv_hellbat = "R";
    libSCPL_gv_hotkey.lv_thor = "T";
    libSCPL_gv_hotkey.lv_viking = "V";
    libSCPL_gv_hotkey.lv_medivac = "D";
    libSCPL_gv_hotkey.lv_raven = "R";
    libSCPL_gv_hotkey.lv_banshee = "E";
    libSCPL_gv_hotkey.lv_battleCruiser = "B";
    libSCPL_gv_hotkey.lv_liberator = "N";
    libSCPL_gv_hotkey.lv_nuke = "N";
    libSCPL_gv_hotkey.lv_infantryWeapons = "E";
    libSCPL_gv_hotkey.lv_infantryArmor = "A";
    libSCPL_gv_hotkey.lv_combatShield = "C";
    libSCPL_gv_hotkey.lv_stimpack = "T";
    libSCPL_gv_hotkey.lv_concussiveShells = "G";
    libSCPL_gv_hotkey.lv_autoTracking = "H";
    libSCPL_gv_hotkey.lv_structureArmor = "B";
    libSCPL_gv_hotkey.lv_neosteelFrame = "N";
    libSCPL_gv_hotkey.lv_vehicleWeapons = "E";
    libSCPL_gv_hotkey.lv_shipWeapons = "S";
    libSCPL_gv_hotkey.lv_vehicleShipArmor = "V";
    libSCPL_gv_hotkey.lv_infernalPreIgniters = "I";
    libSCPL_gv_hotkey.lv_drillingClaws = "C";
    libSCPL_gv_hotkey.lv_magFieldAccellerators = "R";
    libSCPL_gv_hotkey.lv_highCapacityFuelTanks = "R";
    libSCPL_gv_hotkey.lv_explosiveShrapnelShells = "E";
    libSCPL_gv_hotkey.lv_corvidReactor = "T";
    libSCPL_gv_hotkey.lv_cloakingField = "C";
    libSCPL_gv_hotkey.lv_hyperflightRotors = "B";
    libSCPL_gv_hotkey.lv_advancedBallistics = "N";
    libSCPL_gv_hotkey.lv_personalCloaking = "C";
    libSCPL_gv_hotkey.lv_behemothReactor = "B";
    libSCPL_gv_hotkey.lv_weaponRefit = "R";
    libSCPL_gv_hotkey.lv_hatchery = "H";
    libSCPL_gv_hotkey.lv_spawningPool = "S";
    libSCPL_gv_hotkey.lv_evolutionChamber = "V";
    libSCPL_gv_hotkey.lv_extractor = "E";
    libSCPL_gv_hotkey.lv_roachWarren = "R";
    libSCPL_gv_hotkey.lv_banelingNest = "B";
    libSCPL_gv_hotkey.lv_spineCrawler = "C";
    libSCPL_gv_hotkey.lv_sporeCrawler = "A";
    libSCPL_gv_hotkey.lv_infestationPit = "I";
    libSCPL_gv_hotkey.lv_hydraliskDen = "H";
    libSCPL_gv_hotkey.lv_spire = "S";
    libSCPL_gv_hotkey.lv_nydusNetwork = "N";
    libSCPL_gv_hotkey.lv_ultraliskCavern = "U";
    libSCPL_gv_hotkey.lv_lair = "L";
    libSCPL_gv_hotkey.lv_hive = "H";
    libSCPL_gv_hotkey.lv_greaterSpire = "G";
    libSCPL_gv_hotkey.lv_queen = "Q";
    libSCPL_gv_hotkey.lv_drone = "D";
    libSCPL_gv_hotkey.lv_overlord = "V";
    libSCPL_gv_hotkey.lv_mutalisk = "T";
    libSCPL_gv_hotkey.lv_zergling = "Z";
    libSCPL_gv_hotkey.lv_infestor = "F";
    libSCPL_gv_hotkey.lv_roach = "R";
    libSCPL_gv_hotkey.lv_swarmHost = "A";
    libSCPL_gv_hotkey.lv_hydralisk = "H";
    libSCPL_gv_hotkey.lv_viper = "E";
    libSCPL_gv_hotkey.lv_corruptor = "C";
    libSCPL_gv_hotkey.lv_ultralisk = "U";
    libSCPL_gv_hotkey.lv_nydusWorm = "N";
    libSCPL_gv_hotkey.lv_overseer = "V";
    libSCPL_gv_hotkey.lv_baneling = "E";
    libSCPL_gv_hotkey.lv_ravager = "V";
    libSCPL_gv_hotkey.lv_lurker = "E";
    libSCPL_gv_hotkey.lv_broodlord = "B";
    libSCPL_gv_hotkey.lv_burrow = "B";
    libSCPL_gv_hotkey.lv_pneumatizedCarapace = "P";
    libSCPL_gv_hotkey.lv_adrenalGlands = "A";
    libSCPL_gv_hotkey.lv_metabolicBoost = "M";
    libSCPL_gv_hotkey.lv_meleeAttacks = "M";
    libSCPL_gv_hotkey.lv_missileAttacks = "A";
    libSCPL_gv_hotkey.lv_groundCarapace = "C";
    libSCPL_gv_hotkey.lv_muscularAugmentation = "A";
    libSCPL_gv_hotkey.lv_groovedSpines = "G";
    libSCPL_gv_hotkey.lv_tunnelingClaws = "T";
    libSCPL_gv_hotkey.lv_glialReconstitution = "G";
    libSCPL_gv_hotkey.lv_centrifugalHooks = "C";
    libSCPL_gv_hotkey.lv_pathogenGlands = "G";
    libSCPL_gv_hotkey.lv_neuralParasite = "E";
    libSCPL_gv_hotkey.lv_flyerAttacks = "A";
    libSCPL_gv_hotkey.lv_flyerCarapace = "C";
    libSCPL_gv_hotkey.lv_chitinousPlating = "C";
    libSCPL_gv_hotkey.lv_nexus = "N";
    libSCPL_gv_hotkey.lv_pylon = "E";
    libSCPL_gv_hotkey.lv_assimilator = "A";
    libSCPL_gv_hotkey.lv_gateway = "G";
    libSCPL_gv_hotkey.lv_forge = "F";
    libSCPL_gv_hotkey.lv_cyberneticsCore = "Y";
    libSCPL_gv_hotkey.lv_photonCannon = "C";
    libSCPL_gv_hotkey.lv_stargate = "S";
    libSCPL_gv_hotkey.lv_roboticsFacility = "R";
    libSCPL_gv_hotkey.lv_twilightCouncil = "C";
    libSCPL_gv_hotkey.lv_fleetBeacon = "F";
    libSCPL_gv_hotkey.lv_roboticsBay = "B";
    libSCPL_gv_hotkey.lv_templarArchives = "T";
    libSCPL_gv_hotkey.lv_darkShrine = "D";
    libSCPL_gv_hotkey.lv_probe = "E";
    libSCPL_gv_hotkey.lv_mothershipCore = "M";
    libSCPL_gv_hotkey.lv_zealot = "Z";
    libSCPL_gv_hotkey.lv_sentry = "E";
    libSCPL_gv_hotkey.lv_stalker = "S";
    libSCPL_gv_hotkey.lv_highTemplar = "T";
    libSCPL_gv_hotkey.lv_darkTemplar = "D";
    libSCPL_gv_hotkey.lv_adept = "H";
    libSCPL_gv_hotkey.lv_phoenix = "X";
    libSCPL_gv_hotkey.lv_oracle = "T";
    libSCPL_gv_hotkey.lv_voidRay = "V";
    libSCPL_gv_hotkey.lv_tempest = "E";
    libSCPL_gv_hotkey.lv_carrier = "C";
    libSCPL_gv_hotkey.lv_observer = "B";
    libSCPL_gv_hotkey.lv_warpPrism = "A";
    libSCPL_gv_hotkey.lv_immortal = "I";
    libSCPL_gv_hotkey.lv_colossus = "C";
    libSCPL_gv_hotkey.lv_disruptor = "D";
    libSCPL_gv_hotkey.lv_mothership = "M";
    libSCPL_gv_hotkey.lv_archon = "C";
    libSCPL_gv_hotkey.lv_groundWeapons = "G";
    libSCPL_gv_hotkey.lv_groundArmor = "A";
    libSCPL_gv_hotkey.lv_shields = "S";
    libSCPL_gv_hotkey.lv_airWeapons = "E";
    libSCPL_gv_hotkey.lv_airArmor = "A";
    libSCPL_gv_hotkey.lv_warpGate = "G";
    libSCPL_gv_hotkey.lv_charge = "C";
    libSCPL_gv_hotkey.lv_blink = "B";
    libSCPL_gv_hotkey.lv_resonatingGlaives = "A";
    libSCPL_gv_hotkey.lv_graviticBoost = "B";
    libSCPL_gv_hotkey.lv_graviticDrive = "G";
    libSCPL_gv_hotkey.lv_extendedThermalLance = "E";
    libSCPL_gv_hotkey.lv_anionPulseCrystals = "R";
    libSCPL_gv_hotkey.lv_gravitonCatapult = "G";
    libSCPL_gv_hotkey.lv_psionicStorm = "T";
}

// Presets
string libSCPL_ge_GenericEvent_Ident (int lp_val) {
         if (lp_val == libSCPL_ge_GenericEvent_ResourceSpend) { return "ResourceSpend"; }
    return null;
}

string libSCPL_ge_GenericParameter_Ident (int lp_val) {
         if (lp_val == libSCPL_ge_GenericParameter_TriggeringPlayer) { return "TriggeringPlayer"; }
    return null;
}

// Functions
unit libSCPL_gf_DebugPlayerUnit (int lp_playerIndex, string lp_unitType) {
    // Implementation
    return UnitGroupUnit(UnitGroup(lp_unitType, lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0), 1);
}

unit libSCPL_gf_DebugSelectedUnit (int lp_playerIndex) {
    // Implementation
    return UnitGroupUnit(UnitGroupSelected(lp_playerIndex), 1);
}

void libSCPL_gf_DebugCreateUnitNearBase (int lp_playerIndex, string lp_unitType, fixed lp_offset) {
    // Implementation
    libNtve_gf_CreateUnitsWithDefaultFacing(1, lp_unitType, 0, lp_playerIndex, PointWithOffsetPolar(PlayerStartLocation(lp_playerIndex), lp_offset, AngleBetweenPoints(PlayerStartLocation(lp_playerIndex), RegionGetCenter(RegionEntireMap()))));
}

void libSCPL_gf_PlayerGlobalTabSelect (int lp_playerIndex, int lp_selectIndex) {
    int autoC5C56EE4_ae;
    int autoC5C56EE4_ai;

    // Variable Declarations
    int lv_tabIndex;

    // Variable Initialization

    // Implementation
    autoC5C56EE4_ae = 4;
    autoC5C56EE4_ai = 1;
    lv_tabIndex = 1;
    for ( ; ( (autoC5C56EE4_ai >= 0 && lv_tabIndex <= autoC5C56EE4_ae) || (autoC5C56EE4_ai <= 0 && lv_tabIndex >= autoC5C56EE4_ae) ) ; lv_tabIndex += autoC5C56EE4_ai ) {
        libNtve_gf_SetDialogItemToggled(libSCPL_gv_uI.lv_consoleGlobalTab[lv_tabIndex], false, PlayerGroupSingle(lp_playerIndex));
        DialogControlSetVisible(libSCPL_gv_uI.lv_consoleGlobalTabCommandCard[lv_tabIndex][1], PlayerGroupSingle(lp_playerIndex), false);
        DialogControlSetVisible(libSCPL_gv_uI.lv_consoleGlobalTabCommandCard[lv_tabIndex][2], PlayerGroupSingle(lp_playerIndex), false);
    }
    libNtve_gf_SetDialogItemToggled(libSCPL_gv_uI.lv_consoleGlobalTab[lp_selectIndex], true, PlayerGroupSingle(lp_playerIndex));
    DialogControlSetVisible(libSCPL_gv_uI.lv_consoleGlobalTabCommandCard[lp_selectIndex][1], PlayerGroupSingle(lp_playerIndex), true);
    DialogControlSetVisible(libSCPL_gv_uI.lv_consoleGlobalTabCommandCard[lp_selectIndex][2], PlayerGroupSingle(lp_playerIndex), true);
    if ((lp_selectIndex == 1)) {
        DialogControlSetVisible(libSCPL_gv_uI.lv_consoleActiveCommandCard, PlayerGroupSingle(lp_playerIndex), false);
    }
    else {
        DialogControlSetVisible(libSCPL_gv_uI.lv_consoleActiveCommandCard, PlayerGroupSingle(lp_playerIndex), true);
    }
}

bool libSCPL_gf_UnitGroupContainsCombatUnits (unitgroup lp_unitGroup) {
    unitgroup autoBDBBFCBD_g;
    int autoBDBBFCBD_u;

    // Variable Declarations
    unit lv_unit;

    // Variable Initialization

    // Implementation
    autoBDBBFCBD_g = lp_unitGroup;
    autoBDBBFCBD_u = 1;
    for ( ; autoBDBBFCBD_u <= UnitGroupCount(autoBDBBFCBD_g, c_unitCountAll) ; autoBDBBFCBD_u += BoolToInt(lv_unit == UnitGroupUnit(autoBDBBFCBD_g, autoBDBBFCBD_u)) ) {
        lv_unit = UnitGroupUnit(autoBDBBFCBD_g, autoBDBBFCBD_u);
        if ((libSCPL_gf_UnitIsCombatUnit(lv_unit) == true)) {
            return true;
        }
    }
    return false;
}

bool libSCPL_gf_UnitIsCombatUnit (unit lp_unit) {
    // Implementation
    if (((UnitGetType(lp_unit) == "Marine") || (UnitGetType(lp_unit) == "Marauder") || (UnitGetType(lp_unit) == "Reaper") || (UnitGetType(lp_unit) == "Ghost") || (UnitGetType(lp_unit) == "Hellion") || (UnitGetType(lp_unit) == "HellionTank") || (UnitGetType(lp_unit) == "SiegeTankSieged") || (UnitGetType(lp_unit) == "SiegeTank") || (UnitGetType(lp_unit) == "WidowMine") || (UnitGetType(lp_unit) == "WidowMineBurrowed") || (UnitGetType(lp_unit) == "Cyclone") || (UnitGetType(lp_unit) == "Thor") || (UnitGetType(lp_unit) == "ThorAP") || (UnitGetType(lp_unit) == "VikingAssault") || (UnitGetType(lp_unit) == "VikingFighter") || (UnitGetType(lp_unit) == "Medivac") || (UnitGetType(lp_unit) == "Raven") || (UnitGetType(lp_unit) == "AutoTurret") || (UnitGetType(lp_unit) == "Banshee") || (UnitGetType(lp_unit) == "Battlecruiser") || (UnitGetType(lp_unit) == "Liberator") || (UnitGetType(lp_unit) == "LiberatorAG"))) {
        return true;
    }
    else {
        return false;
    }
}

void libSCPL_gf_InitializeGlobalRallyCaster (int lp_playerIndex) {
    // Implementation
    if ((PlayerRace(lp_playerIndex) == "Zerg")) {
        libNtve_gf_CreateUnitsWithDefaultFacing(1, "GameGlobalRallyCasterZerg", c_unitCreateIgnorePlacement, lp_playerIndex, Point(0.0, 0.0));
        PlayerAddChargeUsed(lp_playerIndex, "UCB/GlobalRally00", -1.0);
    }
    else if (true) {
        libNtve_gf_CreateUnitsWithDefaultFacing(1, "GameGlobalRallyCaster", c_unitCreateIgnorePlacement, lp_playerIndex, Point(0.0, 0.0));
    }
    libSCPL_gv_player[lp_playerIndex].lv_globalRallyCaster = UnitLastCreated();
    libNtve_gf_SetDialogItemUnitGroup(libSCPL_gv_uI.lv_consoleRallyCommandCard, libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(lp_playerIndex));
}

void libSCPL_gf_InitializeSpendOverTime () {
    playergroup auto2BCF2D93_g;
    int auto2BCF2D93_p;

    // Variable Declarations
    playergroup lv_gamePlayers;
    int lv_playerIndex;

    // Variable Initialization
    lv_gamePlayers = PlayerGroupEmpty();

    // Implementation
    lv_gamePlayers = PlayerGroupActive();
    UISetResourceVisible(lv_gamePlayers, c_resourceTypeTerrazine, true);
    UISetResourceVisible(lv_gamePlayers, c_resourceTypeCustom, true);
    auto2BCF2D93_g = lv_gamePlayers; 
    auto2BCF2D93_p = 1;
    for ( ; auto2BCF2D93_p <= PlayerGroupCount(auto2BCF2D93_g) ; auto2BCF2D93_p += BoolToInt(lv_playerIndex == PlayerGroupPlayer(auto2BCF2D93_g, auto2BCF2D93_p)) ) {
        lv_playerIndex = PlayerGroupPlayer(auto2BCF2D93_g, auto2BCF2D93_p);
        PlayerOptionOverride(lv_playerIndex, "simplecommandcard", "0");
        PlayerModifyPropertyInt(lv_playerIndex, c_playerPropMinerals, c_playerPropOperAdd, libSCPL_gv_constants.lv_spendBufferMinerals);
        PlayerModifyPropertyInt(lv_playerIndex, c_playerPropVespene, c_playerPropOperAdd, libSCPL_gv_constants.lv_spendBufferVespene);
        PlayerScoreValueSetFromInt(lv_playerIndex, "MineralsCollected", 0);
        PlayerScoreValueSetFromInt(lv_playerIndex, "VespeneCollected", 0);
        PlayerModifyPropertyInt(lv_playerIndex, c_playerPropTerrazine, c_playerPropOperSetTo, FixedToInt(libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex)));
        PlayerModifyPropertyInt(lv_playerIndex, c_playerPropCustom, c_playerPropOperSetTo, FixedToInt(libSCPL_gf_PlayerAvailableVespene(lv_playerIndex)));
        libSCPL_gf_GenericEventResourceSpendChanges(lv_playerIndex);
    }
}

void libSCPL_gf_PlayerResourcesAdd (int lp_playerIndex, fixed lp_minerals, fixed lp_vespene) {
    // Implementation
    PlayerModifyPropertyFixed(lp_playerIndex, c_playerPropMinerals, c_playerPropOperAdd, lp_minerals);
    PlayerModifyPropertyFixed(lp_playerIndex, c_playerPropVespene, c_playerPropOperAdd, lp_vespene);
    PlayerModifyPropertyFixed(lp_playerIndex, c_playerPropTerrazine, c_playerPropOperAdd, lp_minerals);
    PlayerModifyPropertyFixed(lp_playerIndex, c_playerPropCustom, c_playerPropOperAdd, lp_vespene);
}

void libSCPL_gf_PlayerResourcesReset (int lp_playerIndex) {
    // Implementation
    PlayerModifyPropertyFixed(lp_playerIndex, c_playerPropMinerals, c_playerPropOperSetTo, libSCPL_gv_constants.lv_spendBufferMinerals);
    PlayerModifyPropertyFixed(lp_playerIndex, c_playerPropVespene, c_playerPropOperSetTo, libSCPL_gv_constants.lv_spendBufferVespene);
    PlayerModifyPropertyFixed(lp_playerIndex, c_playerPropTerrazine, c_playerPropOperSetTo, 0.0);
    PlayerModifyPropertyFixed(lp_playerIndex, c_playerPropCustom, c_playerPropOperSetTo, 0.0);
}

void libSCPL_gf_PlayerResourcesSubtract (int lp_playerIndex, fixed lp_minerals, fixed lp_vespene) {
    // Implementation
    PlayerModifyPropertyFixed(lp_playerIndex, c_playerPropMinerals, c_playerPropOperSubtract, lp_minerals);
    PlayerModifyPropertyFixed(lp_playerIndex, c_playerPropVespene, c_playerPropOperSubtract, lp_vespene);
    PlayerModifyPropertyFixed(lp_playerIndex, c_playerPropTerrazine, c_playerPropOperSubtract, lp_minerals);
    PlayerModifyPropertyFixed(lp_playerIndex, c_playerPropCustom, c_playerPropOperSubtract, lp_vespene);
}

void libSCPL_gf_UnitStatusPauseProgressBar (unit lp_statusUnit, unit lp_progressUnit, int lp_progressIndex, bool lp_pause) {
    // Variable Declarations
    actor lv_unitActorMain;
    int lv_unitStatusProgress;
    int lv_progressIndexActual;

    // Variable Initialization
    lv_unitStatusProgress = c_invalidDialogControlId;

    // Implementation
    lv_progressIndexActual = lp_progressIndex;
    if ((DataTableGetString(true, (IntToString(UnitGetTag(lp_statusUnit)) + "-slot2")) != "")) {
        lv_progressIndexActual += 1;
    }
    lv_unitActorMain = libNtve_gf_MainActorofUnit(lp_statusUnit);
    DialogControlHookupUnitStatus(c_triggerControlTypePanel, ("StatusIcon" + IntToString(lv_progressIndexActual)), lp_statusUnit);
    lv_unitStatusProgress = DialogControlLastCreated();
    if ((lp_pause == true)) {
        libSCPL_gf_GenericEventResourceSpendChanges(UnitGetOwner(lp_progressUnit));
        UnitSetProgressStage(lp_progressUnit, lp_progressIndex, c_unitProgressStagePause);
        DialogControlSetAnimationState(lv_unitStatusProgress, PlayerGroupSingle(UnitGetOwner(lp_statusUnit)), "ProgressState", "Paused");
        libNtve_gf_SendActorMessageToUnit(lp_statusUnit, (("Create " + (UnitGetType(lp_statusUnit)) + "Paused")));
    }
    else {
        libSCPL_gf_GenericEventResourceSpendChanges(UnitGetOwner(lp_progressUnit));
        UnitSetProgressStage(lp_progressUnit, lp_progressIndex, c_unitProgressStageResume);
        DialogControlSetAnimationState(lv_unitStatusProgress, PlayerGroupSingle(UnitGetOwner(lp_statusUnit)), "ProgressState", "Normal");
        libNtve_gf_SendActorMessageToUnit(lp_statusUnit, (("Create " + (UnitGetType(lp_statusUnit)))));
    }
    ActorSend(libNtve_gf_ActorLastCreatedSend(), "EventMacroRun RunnableStatusBarPause");
    ActorSend(lv_unitActorMain, "Destroy");
}

void libSCPL_gf_UnitStatusPauseProgressUnit (unit lp_statusUnit, unit lp_progressUnit, int lp_progressIndex, bool lp_pause) {
    // Variable Declarations
    actor lv_unitActorMain;
    int lv_unitStatusProgress;

    // Variable Initialization
    lv_unitStatusProgress = c_invalidDialogControlId;

    // Implementation
    lv_unitActorMain = libNtve_gf_MainActorofUnit(lp_statusUnit);
    DialogControlHookupUnitStatus(c_triggerControlTypePanel, ("StatusIcon" + IntToString(lp_progressIndex)), lp_statusUnit);
    lv_unitStatusProgress = DialogControlLastCreated();
    if ((lp_pause == true)) {
        libSCPL_gf_GenericEventResourceSpendChanges(UnitGetOwner(lp_progressUnit));
        libNtve_gf_PauseUnit(lp_progressUnit, true);
        DialogControlSetAnimationState(lv_unitStatusProgress, PlayerGroupSingle(UnitGetOwner(lp_statusUnit)), "ProgressState", "Paused");
        libNtve_gf_SendActorMessageToUnit(lp_statusUnit, (("Create " + (UnitGetType(lp_statusUnit)) + "Paused")));
    }
    else {
        libSCPL_gf_GenericEventResourceSpendChanges(UnitGetOwner(lp_progressUnit));
        libNtve_gf_PauseUnit(lp_progressUnit, false);
        DialogControlSetAnimationState(lv_unitStatusProgress, PlayerGroupSingle(UnitGetOwner(lp_statusUnit)), "ProgressState", "Normal");
        libNtve_gf_SendActorMessageToUnit(lp_statusUnit, (("Create " + (UnitGetType(lp_statusUnit)))));
    }
    ActorSend(libNtve_gf_ActorLastCreatedSend(), "EventMacroRun RunnableStatusBarPause");
    ActorSend(lv_unitActorMain, "Destroy");
}

int libSCPL_gf_UsedTrainingSlotCount (unit lp_unit) {
    // Implementation
    return MinI(UnitQueueGetProperty(lp_unit, c_unitQueuePropertyUsed), UnitQueueGetProperty(lp_unit, c_unitQueuePropertyCount));
}

fixed libSCPL_gf_PlayerAvailableMinerals (int lp_playerIndex) {
    // Variable Declarations
    int lv_minerals;

    // Variable Initialization

    // Implementation
    lv_minerals = (PlayerGetPropertyInt(lp_playerIndex, c_playerPropMinerals) - libSCPL_gv_constants.lv_spendBufferMinerals);
    return lv_minerals;
}

fixed libSCPL_gf_PlayerAvailableVespene (int lp_playerIndex) {
    // Variable Declarations
    int lv_vespene;

    // Variable Initialization

    // Implementation
    lv_vespene = (PlayerGetPropertyInt(lp_playerIndex, c_playerPropVespene) - libSCPL_gv_constants.lv_spendBufferVespene);
    return lv_vespene;
}

bool libSCPL_gf_UnitProgressStateIsProgressing (unit lp_unit, int lp_slot) {
    // Variable Declarations
    fixed lv_value;

    // Variable Initialization

    // Implementation
    lv_value = UnitGetCustomValue(lp_unit, (lp_slot));
    return (lv_value == 1.0);
}

fixed libSCPL_gf_TickIncrementActual (unit lp_parentUnit) {
    // Implementation
    if ((UnitHasBehavior2(lp_parentUnit, "TimeWarpProduction") == true)) {
        return libSCPL_gv_constants.lv_spendTickIncrementBoosted;
    }
    else {
        return libSCPL_gv_constants.lv_spendTickIncrement;
    }
}

fixed libSCPL_gf_TimeExpectedActual (unit lp_parentUnit, int lp_slot) {
    // Variable Declarations
    fixed lv_timeElapsed;

    // Variable Initialization

    // Implementation
    lv_timeElapsed = UnitQueueItemTime(lp_parentUnit, c_unitQueueTimeElapsed, lp_slot);
    if ((UnitHasBehavior2(lp_parentUnit, "TimeWarpProduction") == true)) {
        return UnitQueueItemTime(lp_parentUnit, c_unitQueueTimeElapsed, lp_slot);
    }
    else {
        return UnitQueueItemTime(lp_parentUnit, c_unitQueueTimeElapsed, lp_slot);
    }
}

fixed libSCPL_gf_NormalizeBuildingProgress (fixed lp_value) {
    // Variable Declarations
    fixed lv_normalizedValue;

    // Variable Initialization

    // Implementation
    lv_normalizedValue = (lp_value * 10.0);
    lv_normalizedValue = Round(lv_normalizedValue);
    lv_normalizedValue = (lv_normalizedValue - ModF(lv_normalizedValue, 5.0));
    lv_normalizedValue = (lv_normalizedValue * 0.1);
    return lv_normalizedValue;
}

void libSCPL_gf_UnitProgressRefundSet (unit lp_unit, int lp_resource, fixed lp_refundValue) {
    // Implementation
    UnitSetCustomValue(lp_unit, (lp_resource), lp_refundValue);
}

fixed libSCPL_gf_UnitProgressRefund (unit lp_unit, int lp_resource) {
    // Variable Declarations
    fixed lv_refund;

    // Variable Initialization

    // Implementation
    lv_refund = UnitGetCustomValue(lp_unit, (lp_resource));
    return lv_refund;
}

void libSCPL_gf_UnitProgressCarryOverSet (unit lp_unit, int lp_resource, fixed lp_refundValue) {
    // Implementation
    UnitSetCustomValue(lp_unit, (lp_resource), lp_refundValue);
}

fixed libSCPL_gf_UnitProgressCarryOver (unit lp_unit, int lp_resource) {
    // Variable Declarations
    fixed lv_refund;

    // Variable Initialization

    // Implementation
    lv_refund = UnitGetCustomValue(lp_unit, (lp_resource));
    return lv_refund;
}

void libSCPL_gf_BuildingPauseStateSet (unit lp_unit, bool lp_state) {
    // Implementation
    UnitSetCustomValue(lp_unit, (7), BoolToInt(lp_state));
}

bool libSCPL_gf_BuildingPauseState (unit lp_unit) {
    // Variable Declarations
    fixed lv_pauseStae;

    // Variable Initialization

    // Implementation
    lv_pauseStae = UnitGetCustomValue(lp_unit, (7));
    if ((lv_pauseStae == 1)) {
        return true;
    }
    else {
        return false;
    }
}

string libSCPL_gf_AbilityMorphUnit (string lp_ability, unit lp_unit) {
    // Variable Declarations
    string lv_parentUnit;
    string lv_morphUnit;
    int lv_morphIndex;

    // Variable Initialization

    // Implementation
    lv_parentUnit = UnitGetType(lp_unit);
    if (((lv_parentUnit == "Hydralisk") || (lv_parentUnit == "LurkerMPEgg") || (lv_parentUnit == "Roach") || (lv_parentUnit == "RavagerCocoon") || (lv_parentUnit == "BroodLordCocoon") || (lv_parentUnit == "TransportOverlordCocoon") || (lv_parentUnit == "OverlordCocoon"))) {
        lv_morphIndex = 1;
    }
    lv_morphUnit = (CatalogFieldValueGet(c_gameCatalogAbil, lp_ability, ("InfoArray[" + IntToString(lv_morphIndex) + "].Unit"), c_playerAny));
    return lv_morphUnit;
}

void libSCPL_gf_UnitMorphProgressSet (unit lp_unit, fixed lp_progress) {
    // Implementation
    UnitSetCustomValue(lp_unit, (8), lp_progress);
}

fixed libSCPL_gf_UnitMorphProgress (unit lp_unit) {
    // Variable Declarations
    fixed lv_refund;

    // Variable Initialization

    // Implementation
    lv_refund = UnitGetCustomValue(lp_unit, (8));
    return lv_refund;
}

bool libSCPL_gf_RegisterExists (string lp_unitType) {
    // Implementation
    return DataTableValueExists(true, ("Unit" + lp_unitType + "BuildTime"));
}

fixed libSCPL_gf_GetBuildTime (string lp_object) {
    // Implementation
    return DataTableGetFixed(true, ("Unit" + lp_object + "BuildTime"));
}

fixed libSCPL_gf_GetCostMinerals (string lp_object) {
    // Implementation
    return DataTableGetFixed(true, ("Unit" + lp_object + "CostM"));
}

fixed libSCPL_gf_GetCostVespene (string lp_object) {
    // Implementation
    return DataTableGetFixed(true, ("Unit" + lp_object + "CostV"));
}

void libSCPL_gf_RegisterBuildTime (string lp_object, fixed lp_cost) {
    // Implementation
    DataTableSetFixed(true, ("Unit" + lp_object + "BuildTime"), lp_cost);
}

void libSCPL_gf_RegisterCostMinerals (string lp_object, fixed lp_cost) {
    // Implementation
    DataTableSetFixed(true, ("Unit" + lp_object + "CostM"), lp_cost);
}

void libSCPL_gf_RegisterCostVespene (string lp_object, fixed lp_cost) {
    // Implementation
    DataTableSetFixed(true, ("Unit" + lp_object + "CostV"), lp_cost);
}

fixed libSCPL_gf_UnitProgressState (unit lp_unit, int lp_slot) {
    // Variable Declarations
    fixed lv_value;

    // Variable Initialization

    // Implementation
    lv_value = UnitGetCustomValue(lp_unit, (lp_slot));
    return lv_value;
}

void libSCPL_gf_UnitProgressStateSet (unit lp_unit, int lp_slot, fixed lp_value) {
    // Implementation
    UnitSetCustomValue(lp_unit, (lp_slot), lp_value);
}

void libSCPL_gf_DebugPanelUpdateSpendOverTime () {
    // Variable Declarations
    unit lv_unit;
    fixed lv_value;
    string lv_valueString;

    // Variable Initialization
    lv_valueString = "";

    // Implementation
    libPPRL_gf_DebugPanelSetFieldName(1, "Slot 1");
    libPPRL_gf_DebugPanelSetFieldName(2, "Slot 1 Unit");
    libPPRL_gf_DebugPanelSetFieldName(3, "Slot 1 Time");
    libPPRL_gf_DebugPanelSetFieldName(4, "Slot 2");
    libPPRL_gf_DebugPanelSetFieldName(5, "Slot 2 Unit");
    libPPRL_gf_DebugPanelSetFieldName(6, "Slot 2 Time");
    lv_value = UnitGetCustomValue(lv_unit, 1);
    if ((lv_value == 0.0)) {
        lv_valueString = "Empty";
    }
    else {
        lv_valueString = "Progress";
    }
    lv_value = UnitGetCustomValue(lv_unit, 5);
    if ((lv_value > 0.0)) {
        lv_valueString = (lv_valueString + " | Cancel");
    }
    libPPRL_gf_DebugPanelSetFieldValue(1, lv_valueString);
    lv_value = UnitGetCustomValue(lv_unit, 2);
    if ((lv_value == 0.0)) {
        lv_valueString = "Empty";
    }
    else {
        lv_valueString = "Progress";
    }
    lv_value = UnitGetCustomValue(lv_unit, 6);
    if ((lv_value > 0.0)) {
        lv_valueString = (lv_valueString + " | Cancel");
    }
    libPPRL_gf_DebugPanelSetFieldValue(4, lv_valueString);
    lv_value = UnitGetCustomValue(lv_unit, 40);
    libPPRL_gf_DebugPanelSetFieldValue(3, FixedToString(lv_value, 2));
    lv_value = UnitGetCustomValue(lv_unit, 41);
    libPPRL_gf_DebugPanelSetFieldValue(6, FixedToString(lv_value, 2));
}

void libSCPL_gf_InitializeAutomatedWorkerProduction () {
    playergroup autoA6110864_g;
    int autoA6110864_p;
    string auto4F338708_val;

    // Variable Declarations
    unit lv_townHall;
    int lv_playerIndex;

    // Variable Initialization

    // Implementation
    autoA6110864_g = PlayerGroupActive(); 
    autoA6110864_p = 1;
    for ( ; autoA6110864_p <= PlayerGroupCount(autoA6110864_g) ; autoA6110864_p += BoolToInt(lv_playerIndex == PlayerGroupPlayer(autoA6110864_g, autoA6110864_p)) ) {
        lv_playerIndex = PlayerGroupPlayer(autoA6110864_g, autoA6110864_p);
        lv_townHall = libSCPL_gf_PlayerTownHallClosest(PlayerStartLocation(lv_playerIndex), lv_playerIndex);
        auto4F338708_val = PlayerRace(lv_playerIndex);
        if (auto4F338708_val == "Terr") {
            UnitIssueOrder(lv_townHall, Order(AbilityCommand("CommandCenterTrain", 0)), c_orderQueueAddToEnd);
        }
        else if (auto4F338708_val == "Prot") {
            UnitIssueOrder(lv_townHall, Order(AbilityCommand("NexusTrain", 0)), c_orderQueueAddToEnd);
        }
        else if (auto4F338708_val == "Zerg") {
            libSCPL_gf_AutoWorkerProductionZerg(lv_townHall, lv_playerIndex, 0);
            libSCPL_gf_AutoCreepTargetNodesGenerateInitial(lv_playerIndex);
        }
        else {
        }
    }
}

void libSCPL_gf_AutoWorkerProduction (unit lp_townHall, int lp_playerIndex) {
    string auto2FDD7FCA_val;

    // Implementation
    if ((UnitIsAlive(lp_townHall) == true) && (libSCPL_gf_PlayerTownHallWorkerCount(lp_townHall, lp_playerIndex) < libSCPL_gf_PlayerTownHallSaturationCount(lp_townHall, lp_playerIndex)) && (libSCPL_gf_PlayerTownHallWorkerQueue(lp_townHall, lp_playerIndex, false) == 0)) {
        auto2FDD7FCA_val = PlayerRace(lp_playerIndex);
        if (auto2FDD7FCA_val == "Terr") {
            UnitIssueOrder(lp_townHall, Order(AbilityCommand("CommandCenterTrain", 0)), c_orderQueueAddToEnd);
        }
        else if (auto2FDD7FCA_val == "Prot") {
            UnitIssueOrder(lp_townHall, Order(AbilityCommand("NexusTrain", 0)), c_orderQueueAddToEnd);
        }
        else if (auto2FDD7FCA_val == "Zerg") {
            libSCPL_gf_AutoWorkerProductionZerg(lp_townHall, lp_playerIndex, 1);
        }
        else {
        }
    }

}

void libSCPL_gf_AutoWorkerProductionZerg (unit lp_townHall, int lp_playerIndex, int lp_larvaLeftover) {
    int auto8CD8C38B_ae;
    int auto8CD8C38B_ai;

    // Variable Declarations
    int lv_dronesNeeded;
    int lv_larvaAvailable;
    int lv_larvaCount;
    int lv_larvaIndex;
    unitgroup lv_larvaGroup;
    unit lv_larva;

    // Variable Initialization
    lv_larvaGroup = UnitGroupEmpty();

    // Implementation
    lv_larvaGroup = UnitGroup("Larva", c_playerAny, RegionCircle(UnitGetPosition(lp_townHall), 8.0), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    lv_larvaCount = UnitGroupCount(lv_larvaGroup, c_unitCountAlive);
    lv_dronesNeeded = (libSCPL_gf_PlayerTownHallSaturationCount(lp_townHall, lp_playerIndex) - libSCPL_gf_PlayerTownHallWorkerCount(lp_townHall, lp_playerIndex));
    lv_larvaAvailable = (lv_larvaCount - lp_larvaLeftover);
    auto8CD8C38B_ae = MinI(lv_larvaAvailable, lv_dronesNeeded);
    auto8CD8C38B_ai = 1;
    lv_larvaIndex = 1;
    for ( ; ( (auto8CD8C38B_ai >= 0 && lv_larvaIndex <= auto8CD8C38B_ae) || (auto8CD8C38B_ai <= 0 && lv_larvaIndex >= auto8CD8C38B_ae) ) ; lv_larvaIndex += auto8CD8C38B_ai ) {
        lv_larva = UnitGroupUnit(lv_larvaGroup, lv_larvaIndex);
        UnitIssueOrder(lv_larva, Order(AbilityCommand("LarvaTrain", 0)), c_orderQueueReplace);
    }
}

trigger auto_libSCPL_gf_AutoWorkerProductionZergInitial_Trigger = null;
unit auto_libSCPL_gf_AutoWorkerProductionZergInitial_lp_townHall;
int auto_libSCPL_gf_AutoWorkerProductionZergInitial_lp_playerIndex;
int auto_libSCPL_gf_AutoWorkerProductionZergInitial_lp_larvaLeftover;

void libSCPL_gf_AutoWorkerProductionZergInitial (unit lp_townHall, int lp_playerIndex, int lp_larvaLeftover) {
    auto_libSCPL_gf_AutoWorkerProductionZergInitial_lp_townHall = lp_townHall;
    auto_libSCPL_gf_AutoWorkerProductionZergInitial_lp_playerIndex = lp_playerIndex;
    auto_libSCPL_gf_AutoWorkerProductionZergInitial_lp_larvaLeftover = lp_larvaLeftover;

    if (auto_libSCPL_gf_AutoWorkerProductionZergInitial_Trigger == null) {
        auto_libSCPL_gf_AutoWorkerProductionZergInitial_Trigger = TriggerCreate("auto_libSCPL_gf_AutoWorkerProductionZergInitial_TriggerFunc");
    }

    TriggerExecute(auto_libSCPL_gf_AutoWorkerProductionZergInitial_Trigger, false, false);
}

bool auto_libSCPL_gf_AutoWorkerProductionZergInitial_TriggerFunc (bool testConds, bool runActions) {
    unit lp_townHall = auto_libSCPL_gf_AutoWorkerProductionZergInitial_lp_townHall;
    int lp_playerIndex = auto_libSCPL_gf_AutoWorkerProductionZergInitial_lp_playerIndex;
    int lp_larvaLeftover = auto_libSCPL_gf_AutoWorkerProductionZergInitial_lp_larvaLeftover;

    // Variable Declarations
    int lv_larvaCount;
    int lv_larvaIndex;
    unitgroup lv_larvaGroup;
    unit lv_larva;

    // Variable Initialization
    lv_larvaGroup = UnitGroupEmpty();

    // Implementation
    Wait(0.125, c_timeGame);
    libSCPL_gf_AutoWorkerProductionZerg(lp_townHall, lp_playerIndex, lp_larvaLeftover);
    return true;
}

void libSCPL_gf_UnitStatusEvaluateProgressBar (unit lp_statusUnit) {
    int init_i;

    int auto74EF74FF_ae;
    int auto74EF74FF_ai;
    int auto391CC29E_ae;
    int auto391CC29E_ai;

    // Variable Declarations
    actor lv_unitActorMain;
    int[4] lv_unitStatusProgress;
    int lv_progressIndex;
    bool lv_isPaused;

    // Variable Initialization
    for (init_i = 0; init_i <= 3; init_i += 1) {
        lv_unitStatusProgress[init_i] = c_invalidDialogControlId;
    }

    // Implementation
    auto74EF74FF_ae = 3;
    auto74EF74FF_ai = 1;
    lv_progressIndex = 1;
    for ( ; ( (auto74EF74FF_ai >= 0 && lv_progressIndex <= auto74EF74FF_ae) || (auto74EF74FF_ai <= 0 && lv_progressIndex >= auto74EF74FF_ae) ) ; lv_progressIndex += auto74EF74FF_ai ) {
        DialogControlHookupUnitStatus(c_triggerControlTypePanel, ("StatusIcon" + IntToString(lv_progressIndex)), lp_statusUnit);
        lv_unitStatusProgress[lv_progressIndex] = DialogControlLastCreated();
        DialogControlSetAnimationState(lv_unitStatusProgress[lv_progressIndex], PlayerGroupSingle(UnitGetOwner(lp_statusUnit)), "ProgressState", "Normal");
    }
    if ((UnitQueueGetProperty(lp_statusUnit, c_unitQueuePropertyUsed) == 1)) {
        lv_progressIndex = 1;
        if ((UnitCheckProgressState(lp_statusUnit, lv_progressIndex, c_unitProgressStatePaused) == true)) {
            lv_isPaused = true;
            DialogControlSetAnimationState(lv_unitStatusProgress[lv_progressIndex], PlayerGroupSingle(UnitGetOwner(lp_statusUnit)), "ProgressState", "Paused");
        }
    }
    else {
        auto391CC29E_ae = 2;
        auto391CC29E_ai = 1;
        lv_progressIndex = 1;
        for ( ; ( (auto391CC29E_ai >= 0 && lv_progressIndex <= auto391CC29E_ae) || (auto391CC29E_ai <= 0 && lv_progressIndex >= auto391CC29E_ae) ) ; lv_progressIndex += auto391CC29E_ai ) {
            if ((UnitCheckProgressState(lp_statusUnit, lv_progressIndex, c_unitProgressStatePaused) == true)) {
                lv_isPaused = true;
                DialogControlSetAnimationState(lv_unitStatusProgress[(lv_progressIndex + 1)], PlayerGroupSingle(UnitGetOwner(lp_statusUnit)), "ProgressState", "Paused");
            }
        }
    }
    lv_unitActorMain = libNtve_gf_MainActorofUnit(lp_statusUnit);
    if ((lv_isPaused == true)) {
        libNtve_gf_SendActorMessageToUnit(lp_statusUnit, (("Create " + (UnitGetType(lp_statusUnit)) + "Paused")));
    }
    else {
        libNtve_gf_SendActorMessageToUnit(lp_statusUnit, (("Create " + (UnitGetType(lp_statusUnit)))));
    }
    ActorSend(libNtve_gf_ActorLastCreatedSend(), "EventMacroRun RunnableStatusBarPause");
    ActorSend(lv_unitActorMain, "Destroy");
}

void libSCPL_gf_AutoCreepTargetNodesGenerateInitial (int lp_playerIndex) {
    unitgroup autoE3DCD47F_g;
    int autoE3DCD47F_u;

    // Variable Declarations
    point lv_basePoint;
    unitgroup lv_vespeneGeyserFree;
    unitgroup lv_vespeneGeyserBase;
    unit lv_vespeneGeyser;
    unit lv_vespeneGeyserBuddy;

    // Variable Initialization
    lv_vespeneGeyserFree = UnitGroupEmpty();
    lv_vespeneGeyserBase = UnitGroupEmpty();

    // Implementation
    lv_vespeneGeyserFree = UnitGroupCopy(libSCPL_gf_MapVespeneGeysers());
    autoE3DCD47F_g = lv_vespeneGeyserFree;
    autoE3DCD47F_u = 1;
    for ( ; autoE3DCD47F_u <= UnitGroupCount(autoE3DCD47F_g, c_unitCountAll) ; autoE3DCD47F_u += BoolToInt(lv_vespeneGeyser == UnitGroupUnit(autoE3DCD47F_g, autoE3DCD47F_u)) ) {
        lv_vespeneGeyser = UnitGroupUnit(autoE3DCD47F_g, autoE3DCD47F_u);
        UnitGroupRemove(lv_vespeneGeyserFree, lv_vespeneGeyser);
        lv_vespeneGeyserBuddy = UnitGroupClosestToPoint(lv_vespeneGeyserFree, UnitGetPosition(lv_vespeneGeyser));
        UnitGroupRemove(lv_vespeneGeyserFree, lv_vespeneGeyserBuddy);
        UnitGroupAdd(lv_vespeneGeyserBase, lv_vespeneGeyser);
        UnitGroupAdd(lv_vespeneGeyserBase, lv_vespeneGeyserBuddy);
        lv_basePoint = UnitGroupCenterOfGroup(lv_vespeneGeyserBase);
        lv_vespeneGeyserBase = UnitGroupEmpty();
        RegionAddRegion(libSCPL_gv_map.lv_baseRegion, RegionCircle(lv_basePoint, 4.0));
        if ((PointPathingCost(PlayerStartLocation(lp_playerIndex), lv_basePoint) == 65536)) {
            continue;
        }
        if ((RegionContainsPoint(RegionCircle(PlayerStartLocation(lp_playerIndex), 4.0), lv_basePoint) == true)) {
            continue;
        }
        libSCPL_gf_AutoCreepTargetNodeCreate(lp_playerIndex, lv_basePoint);
    }
    libSCPL_gf_AutoCreepTargetNodesSortInitial(lp_playerIndex);
}

void libSCPL_gf_AutoCreepTargetNodesSortInitial (int lp_playerIndex) {
    unitgroup auto26F85414_g;
    int auto26F85414_u;
    int auto9BA6175A_ae;
    int auto9BA6175A_ai;

    // Variable Declarations
    point lv_playerPathingOrigin;
    unitgroup lv_nodesUnsorted;
    unit lv_node;
    int lv_nodeScore;
    unit lv_nodeClosest;
    int lv_lowestScore;
    int lv_n;

    // Variable Initialization
    lv_nodesUnsorted = UnitGroupEmpty();

    // Implementation
    lv_nodesUnsorted = UnitGroupCopy(libSCPL_gv_player[lp_playerIndex].lv_autoCreepNodeTargets);
    libSCPL_gv_player[lp_playerIndex].lv_autoCreepNodeTargets = UnitGroupEmpty();
    lv_playerPathingOrigin = UnitGetPosition(UnitGroupUnit(UnitGroup(null, lp_playerIndex, RegionEntireMap(), UnitFilter((1 << c_targetFilterWorker), 0, (1 << c_targetFilterAlly) | (1 << c_targetFilterNeutral) | (1 << c_targetFilterEnemy) | (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0), 1));
    while ((UnitGroupCount(lv_nodesUnsorted, c_unitCountAlive) > 0)) {
        lv_lowestScore = 9999;
        auto26F85414_g = lv_nodesUnsorted;
        auto26F85414_u = 1;
        for ( ; auto26F85414_u <= UnitGroupCount(auto26F85414_g, c_unitCountAll) ; auto26F85414_u += BoolToInt(lv_node == UnitGroupUnit(auto26F85414_g, auto26F85414_u)) ) {
            lv_node = UnitGroupUnit(auto26F85414_g, auto26F85414_u);
            lv_nodeScore = PointPathingCost(UnitGetPosition(lv_node), lv_playerPathingOrigin);
            if ((lv_nodeScore < lv_lowestScore)) {
                lv_nodeClosest = lv_node;
                lv_lowestScore = lv_nodeScore;
            }
        }
        UnitGroupAdd(libSCPL_gv_player[lp_playerIndex].lv_autoCreepNodeTargets, lv_nodeClosest);
        UnitGroupRemove(lv_nodesUnsorted, lv_nodeClosest);
    }
    auto9BA6175A_ae = UnitGroupCount(libSCPL_gv_player[lp_playerIndex].lv_autoCreepNodeTargets, c_unitCountAlive);
    auto9BA6175A_ai = 1;
    lv_n = 1;
    for ( ; ( (auto9BA6175A_ai >= 0 && lv_n <= auto9BA6175A_ae) || (auto9BA6175A_ai <= 0 && lv_n >= auto9BA6175A_ae) ) ; lv_n += auto9BA6175A_ai ) {
        libSCPL_gf_UnitChargeLinkSet(UnitGroupUnit(libSCPL_gv_player[lv_n].lv_autoCreepNodeTargets, lv_n), "CreepNodeIndex", lv_n);
    }
}

void libSCPL_gf_AutoCreepTargetNodeCreate (int lp_playerIndex, point lp_point) {
    // Implementation
    libNtve_gf_CreateUnitsWithDefaultFacing(1, "GameAutoCreepNodeTarget", 0, lp_playerIndex, lp_point);
    UnitGroupAdd(libSCPL_gv_player[lp_playerIndex].lv_autoCreepNodeTargets, UnitLastCreated());
}

void libSCPL_gf_AutoCreepTumorNodeLineageShift (int lp_playerIndex, int lp_shiftIndex) {
    unitgroup autoFA258F09_g;
    int autoFA258F09_u;

    // Variable Declarations
    unitgroup lv_creepSpreaders;
    unit lv_tumor;
    int lv_tumorNodeIndex;

    // Variable Initialization
    lv_creepSpreaders = UnitGroupEmpty();

    // Implementation
    if ((UnitGroupCount(libSCPL_gv_player[lp_playerIndex].lv_autoCreepNodeTargets, c_unitCountAlive) == 0)) {
        libSCPL_gf_AutoCreepTumorNodeLineageCull(lp_playerIndex, lp_shiftIndex);
    }
    UnitGroupAddUnitGroup(lv_creepSpreaders, UnitGroup("CreepTumor", lp_shiftIndex, RegionPlayableMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    UnitGroupAddUnitGroup(lv_creepSpreaders, UnitGroup("CreepTumorBurrowed", lp_shiftIndex, RegionPlayableMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    UnitGroupAddUnitGroup(lv_creepSpreaders, UnitGroup("CreepTumorQueen", lp_shiftIndex, RegionPlayableMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    autoFA258F09_g = lv_creepSpreaders;
    autoFA258F09_u = 1;
    for ( ; autoFA258F09_u <= UnitGroupCount(autoFA258F09_g, c_unitCountAll) ; autoFA258F09_u += BoolToInt(lv_tumor == UnitGroupUnit(autoFA258F09_g, autoFA258F09_u)) ) {
        lv_tumor = UnitGroupUnit(autoFA258F09_g, autoFA258F09_u);
        lv_tumorNodeIndex = FixedToInt(libSCPL_gf_UnitChargeLink(lv_tumor, "CreepNodeIndex"));
        if ((UnitGroupHasUnit(libSCPL_gv_player[lp_playerIndex].lv_autoCreepNodes, lv_tumor) == true)) {
            UnitGroupRemove(libSCPL_gv_player[lp_shiftIndex].lv_autoCreepNodes, lv_tumor);
            libSCPL_gv_player[lp_shiftIndex].lv_autoCreepNodeCount -= 1;
        }
        if ((lv_tumorNodeIndex >= lp_shiftIndex)) {
            libSCPL_gf_UnitChargeLinkSet(lv_tumor, "CreepNodeIndex", 1.0);
        }
    }
}

void libSCPL_gf_AutoCreepTumorNodeLineageCull (int lp_playerIndex, int lp_cullIndex) {
    unitgroup autoEF0FD4B9_g;
    int autoEF0FD4B9_u;

    // Variable Declarations
    unitgroup lv_creepSpreaders;
    unit lv_tumor;
    int lv_tumorNodeIndex;

    // Variable Initialization
    lv_creepSpreaders = UnitGroupEmpty();

    // Implementation
    UnitGroupAddUnitGroup(lv_creepSpreaders, UnitGroup("CreepTumor", lp_cullIndex, RegionPlayableMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    UnitGroupAddUnitGroup(lv_creepSpreaders, UnitGroup("CreepTumorBurrowed", lp_cullIndex, RegionPlayableMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    UnitGroupAddUnitGroup(lv_creepSpreaders, UnitGroup("CreepTumorQueen", lp_cullIndex, RegionPlayableMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    autoEF0FD4B9_g = lv_creepSpreaders;
    autoEF0FD4B9_u = 1;
    for ( ; autoEF0FD4B9_u <= UnitGroupCount(autoEF0FD4B9_g, c_unitCountAll) ; autoEF0FD4B9_u += BoolToInt(lv_tumor == UnitGroupUnit(autoEF0FD4B9_g, autoEF0FD4B9_u)) ) {
        lv_tumor = UnitGroupUnit(autoEF0FD4B9_g, autoEF0FD4B9_u);
        lv_tumorNodeIndex = FixedToInt(libSCPL_gf_UnitChargeLink(lv_tumor, "CreepNodeIndex"));
        if ((lv_tumorNodeIndex == lp_cullIndex) && (UnitGroupHasUnit(libSCPL_gv_player[lp_playerIndex].lv_autoCreepNodes, lv_tumor) == true)) {
            UnitGroupRemove(libSCPL_gv_player[lp_cullIndex].lv_autoCreepNodes, lv_tumor);
            libSCPL_gv_player[lp_cullIndex].lv_autoCreepNodeCount -= 1;
        }
        if ((lv_tumorNodeIndex >= lp_cullIndex)) {
            libSCPL_gf_UnitChargeLinkAdd(lv_tumor, "CreepNodeIndex", -1.0);
        }
    }
}

void libSCPL_gf_AutoCreepTumorNodeParentAdd (unit lp_node) {
    // Variable Declarations
    int lv_playerIndex;

    // Variable Initialization

    // Implementation
    lv_playerIndex = UnitGetOwner(lp_node);
    libSCPL_gv_player[lv_playerIndex].lv_autoCreepNodeCount += 1;
    UnitGroupAdd(libSCPL_gv_player[lv_playerIndex].lv_autoCreepNodes, lp_node);
    libSCPL_gf_UnitChargeLinkSet(lp_node, "CreepNodeIndex", libSCPL_gv_player[lv_playerIndex].lv_autoCreepNodeCount);
}

void libSCPL_gf_AutoCreepTumorNodeChildAdd (unit lp_parent, unit lp_node) {
    // Variable Declarations
    int lv_playerIndex;
    fixed lv_parentLink;

    // Variable Initialization

    // Implementation
    lv_playerIndex = UnitGetOwner(lp_node);
    lv_parentLink = libSCPL_gf_UnitChargeLink(lp_parent, "CreepNodeIndex");
    libSCPL_gf_UnitChargeLinkSet(lp_node, "CreepNodeIndex", lv_parentLink);
}

void libSCPL_gf_AutoCreepSpreadTowardsTargetNode (int lp_playerIndex, unit lp_node) {
    // Variable Declarations
    int lv_targetNodeIndex;
    int lv_targetNodeCount;
    unit lv_targetNode;
    point lv_bestPoint;

    // Variable Initialization

    // Implementation
    lv_targetNodeIndex = FixedToInt(libSCPL_gf_UnitChargeLink(lp_node, "CreepNodeIndex"));
    lv_targetNodeCount = UnitGroupCount(libSCPL_gv_player[lp_playerIndex].lv_autoCreepNodeTargets, c_unitCountAlive);
    if ((lv_targetNodeIndex > 0) && (lv_targetNodeIndex <= lv_targetNodeCount)) {
        lv_targetNode = UnitGroupUnit(libSCPL_gv_player[lp_playerIndex].lv_autoCreepNodeTargets, lv_targetNodeIndex);
        lv_bestPoint = libSCPL_gf_AutoCreepPointBest(lp_node, lv_targetNode);
        if ((lv_bestPoint != null)) {
            UnitIssueOrder(lp_node, OrderTargetingPoint(AbilityCommand("CreepTumorBuild", 0), lv_bestPoint), c_orderQueueReplace);
        }
        else {
            libSCPL_gf_AutoCreepTumorNodeLineageShift(lp_playerIndex, lv_targetNodeIndex);
        }
    }
    else {
        libSCPL_gf_AutoCreepTumorNodeLineageCull(lp_playerIndex, lv_targetNodeIndex);
        return ;
    }
}

bool libSCPL_gf_PointsHaveHeightDifference (point lp_pointA, point lp_pointB) {
    // Implementation
    if ((WorldHeight(c_heightMapGround, lp_pointA) == WorldHeight(c_heightMapGround, lp_pointB))) {
        return false;
    }
    else {
        return true;
    }
}

point libSCPL_gf_AutoCreepPointBest (unit lp_node, unit lp_target) {
    fixed auto82ACEA5A_ae;
    fixed auto82ACEA5A_ai;

    // Variable Declarations
    point lv_targetPoint;
    point lv_nodePoint;
    point lv_bestPoint;
    fixed lv_targetAngle;
    fixed lv_radius;
    int lv_playerIndex;
    fixed lv_testAngle;
    point[41] lv_testPoint;
    fixed[41] lv_testPointCost;
    fixed lv_lowestCost;
    int lv_lowestCostIndex;
    int lv_testIndex;

    // Variable Initialization

    // Implementation
    if (((UnitIsAlive(lp_target) == false) || (UnitIsAlive(lp_node) == false))) {
        return null;
    }
    lv_lowestCostIndex = -1;
    lv_playerIndex = UnitGetOwner(lp_node);
    lv_radius = 8.5;
    lv_nodePoint = UnitGetPosition(lp_node);
    lv_targetPoint = UnitGetPosition(lp_target);
    lv_targetAngle = AngleBetweenPoints(lv_nodePoint, lv_targetPoint);
    lv_lowestCost = PointPathingCost(lv_nodePoint, lv_targetPoint);
    auto82ACEA5A_ae = (lv_targetAngle + 150.0);
    auto82ACEA5A_ai = 15.0;
    lv_testAngle = (lv_targetAngle - 150.0);
    for ( ; ( (auto82ACEA5A_ai >= 0 && lv_testAngle <= auto82ACEA5A_ae) || (auto82ACEA5A_ai <= 0 && lv_testAngle >= auto82ACEA5A_ae) ) ; lv_testAngle += auto82ACEA5A_ai ) {
        lv_testPoint[lv_testIndex] = PointWithOffsetPolar(lv_nodePoint, lv_radius, lv_testAngle);
        if ((libSCPL_gf_AutoCreepPointValidActive(lp_node, lv_testPoint[lv_testIndex]) == true)) {
            lv_testPointCost[lv_testIndex] = PointPathingCost(lv_testPoint[lv_testIndex], lv_targetPoint);
            if ((libSCPL_gf_PointsHaveHeightDifference(lv_nodePoint, lv_testPoint[lv_testIndex]) == true)) {
                lv_testPointCost[lv_testIndex] -= 0.5;
            }
            if ((lv_testPointCost[lv_testIndex] < lv_lowestCost)) {
                lv_lowestCost = lv_testPointCost[lv_testIndex];
                lv_lowestCostIndex = lv_testIndex;
            }
            lv_testIndex += 1;
        }
        lv_testPoint[lv_testIndex] = PointWithOffsetPolar(lv_nodePoint, 7.0, lv_testAngle);
        if ((libSCPL_gf_AutoCreepPointValidActive(lp_node, lv_testPoint[lv_testIndex]) == true)) {
            lv_testPointCost[lv_testIndex] = PointPathingCost(lv_testPoint[lv_testIndex], lv_targetPoint);
            if ((libSCPL_gf_PointsHaveHeightDifference(lv_nodePoint, lv_testPoint[lv_testIndex]) == true)) {
                lv_testPointCost[lv_testIndex] -= 0.5;
            }
            if ((lv_testPointCost[lv_testIndex] < lv_lowestCost)) {
                lv_lowestCost = lv_testPointCost[lv_testIndex];
                lv_lowestCostIndex = lv_testIndex;
            }
            lv_testIndex += 1;
        }
    }
    if ((lv_lowestCostIndex == -1)) {
        return null;
    }
    lv_bestPoint = lv_testPoint[lv_lowestCostIndex];
    return lv_bestPoint;
}

bool libSCPL_gf_AutoCreepPointValidActive (unit lp_node, point lp_point) {
    // Variable Declarations
    point lv_nodePoint;
    fixed lv_nodeDistance;
    fixed lv_nodePathingCost;
    int lv_playerIndex;
    fixed lv_crowdRadius;
    int lv_crowdCount;

    // Variable Initialization

    // Implementation
    lv_playerIndex = UnitGetOwner(lp_node);
    lv_nodePoint = UnitGetPosition(lp_node);
    lv_nodeDistance = DistanceBetweenPoints(lp_point, lv_nodePoint);
    lv_nodePathingCost = PointPathingCost(lp_point, lv_nodePoint);
    lv_crowdRadius = 5.0;
    if ((RegionContainsPoint(libSCPL_gv_map.lv_baseRegion, lp_point) == true)) {
        return false;
    }
    if ((UnitOrderIsValid(lp_node, OrderTargetingPoint(AbilityCommand("CreepTumorBuild", 0), lp_point)) == false)) {
        return false;
    }
    if ((CreepAdjacent(lp_point) < 5)) {
        return false;
    }
    if ((lv_nodePathingCost > 10.0)) {
        return false;
    }
    lv_crowdCount += UnitGroupCount(UnitGroup("CreepTumorBurrowed", lv_playerIndex, RegionCircle(lp_point, lv_crowdRadius), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0), c_unitCountAlive);
    lv_crowdCount += UnitGroupCount(UnitGroup("CreepTumorQueen", lv_playerIndex, RegionCircle(lp_point, lv_crowdRadius), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0), c_unitCountAlive);
    lv_crowdCount += UnitGroupCount(UnitGroup("CreepTumor", lv_playerIndex, RegionCircle(lp_point, lv_crowdRadius), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0), c_unitCountAlive);
    if ((lv_crowdCount > 0)) {
        return false;
    }
    return true;
}

void libSCPL_gf_PlayerAutoCreepSpreadGlobalToggleOn (int lp_playerIndex) {
    // Variable Declarations
    unitgroup lv_unitGroup;

    // Variable Initialization
    lv_unitGroup = UnitGroupEmpty();

    // Implementation
    libSCPL_gv_player[lp_playerIndex].lv_globalZerg_CreepSpreadToggle = true;
    lv_unitGroup = UnitGroup("CreepTumorQueen", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupIssueOrder(lv_unitGroup, Order(AbilityCommand("AutoCreepSpreadOnHidden", 0)), c_orderQueueReplace);
    lv_unitGroup = UnitGroup("CreepTumorBurrowed", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupIssueOrder(lv_unitGroup, Order(AbilityCommand("AutoCreepSpreadOnHidden", 0)), c_orderQueueReplace);
}

void libSCPL_gf_PlayerAutoCreepSpreadGlobalToggleOff (int lp_playerIndex) {
    // Variable Declarations
    unitgroup lv_unitGroup;

    // Variable Initialization
    lv_unitGroup = UnitGroupEmpty();

    // Implementation
    libSCPL_gv_player[lp_playerIndex].lv_globalZerg_CreepSpreadToggle = false;
    lv_unitGroup = UnitGroup("CreepTumorQueen", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupIssueOrder(lv_unitGroup, Order(AbilityCommand("AutoCreepSpreadOffHidden", 0)), c_orderQueueReplace);
    lv_unitGroup = UnitGroup("CreepTumorBurrowed", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupIssueOrder(lv_unitGroup, Order(AbilityCommand("AutoCreepSpreadOffHidden", 0)), c_orderQueueReplace);
}

void libSCPL_gf_InitializeUIHookups () {
    int autoAAAC514B_ae;
    int autoAAAC514B_ai;
    int auto4211EF39_ae;
    int auto4211EF39_ai;

    // Variable Declarations
    int lv_frameIndex;

    // Variable Initialization

    // Implementation
    DialogControlHookupStandard(c_triggerControlTypeLabel, "UIContainer/FullscreenUpperContainer/ResourcePanel/ResourceFrame/ResourceLabel2Spend");
    libSCPL_gv_uI.lv_resourceMineralSpend = DialogControlLastCreated();
    DialogControlHookupStandard(c_triggerControlTypeLabel, "UIContainer/FullscreenUpperContainer/ResourcePanel/ResourceFrame/ResourceLabel3Spend");
    libSCPL_gv_uI.lv_resourceVespeneSpend = DialogControlLastCreated();
    DialogControlHookupStandard(c_triggerControlTypeCommandPanel, "UIContainer/ConsoleUIContainer/ActiveUnitCommandContainer/CommandCard");
    libSCPL_gv_uI.lv_consoleActiveCommandCard = DialogControlLastCreated();
    DialogControlHookupStandard(c_triggerControlTypeCommandPanel, "UIContainer/ConsoleUIContainer/GlobalRallyPanel");
    libSCPL_gv_uI.lv_consoleRallyCommandCard = DialogControlLastCreated();
    autoAAAC514B_ae = 9;
    autoAAAC514B_ai = 1;
    lv_frameIndex = 0;
    for ( ; ( (autoAAAC514B_ai >= 0 && lv_frameIndex <= autoAAAC514B_ae) || (autoAAAC514B_ai <= 0 && lv_frameIndex >= autoAAAC514B_ae) ) ; lv_frameIndex += autoAAAC514B_ai ) {
        DialogControlHookupStandard(c_triggerControlTypeImage, ("UIContainer/ConsoleUIContainer/ControlGroupListener" + libPPRL_gf_ConvertIntegerToStringDoubleDigit(lv_frameIndex)));
        libSCPL_gv_uI.lv_consoleControlGroupAnimListener[(lv_frameIndex + 1)] = DialogControlLastCreated();
    }
    DialogControlHookupStandard(c_triggerControlTypeButton, "UIContainer/ConsoleUIContainer/SideBarTab/SidebarGlobal");
    libSCPL_gv_uI.lv_consoleGlobalTab[1] = DialogControlLastCreated();
    DialogControlHookupStandard(c_triggerControlTypeButton, "UIContainer/ConsoleUIContainer/SideBarTab/SidebarBuildings");
    libSCPL_gv_uI.lv_consoleGlobalTab[2] = DialogControlLastCreated();
    DialogControlHookupStandard(c_triggerControlTypeButton, "UIContainer/ConsoleUIContainer/SideBarTab/SidebarUnits");
    libSCPL_gv_uI.lv_consoleGlobalTab[3] = DialogControlLastCreated();
    DialogControlHookupStandard(c_triggerControlTypeButton, "UIContainer/ConsoleUIContainer/SideBarTab/SidebarResearch");
    libSCPL_gv_uI.lv_consoleGlobalTab[4] = DialogControlLastCreated();
    auto4211EF39_ae = 2;
    auto4211EF39_ai = 1;
    lv_frameIndex = 1;
    for ( ; ( (auto4211EF39_ai >= 0 && lv_frameIndex <= auto4211EF39_ae) || (auto4211EF39_ai <= 0 && lv_frameIndex >= auto4211EF39_ae) ) ; lv_frameIndex += auto4211EF39_ai ) {
        DialogControlHookupStandard(c_triggerControlTypeCommandPanel, ("UIContainer/ConsoleUIContainer/GlobalCommandContainer/CommandPanel" + IntToString(lv_frameIndex)));
        libSCPL_gv_uI.lv_consoleGlobalTabCommandCard[1][lv_frameIndex] = DialogControlLastCreated();
        DialogControlHookupStandard(c_triggerControlTypeCommandPanel, ("UIContainer/ConsoleUIContainer/BuilderCommandContainer/CommandPanel" + IntToString(lv_frameIndex)));
        libSCPL_gv_uI.lv_consoleGlobalTabCommandCard[2][lv_frameIndex] = DialogControlLastCreated();
        DialogControlHookupStandard(c_triggerControlTypeCommandPanel, ("UIContainer/ConsoleUIContainer/TrainerCommandContainer/CommandPanel" + IntToString(lv_frameIndex)));
        libSCPL_gv_uI.lv_consoleGlobalTabCommandCard[3][lv_frameIndex] = DialogControlLastCreated();
        DialogControlHookupStandard(c_triggerControlTypeCommandPanel, ("UIContainer/ConsoleUIContainer/ResearcherCommandContainer/CommandPanel" + IntToString(lv_frameIndex)));
        libSCPL_gv_uI.lv_consoleGlobalTabCommandCard[4][lv_frameIndex] = DialogControlLastCreated();
    }
}

void libSCPL_gf_ResourceDisplaySpendAdd (int lp_playerIndex, fixed lp_minerals, fixed lp_vespene) {
    // Implementation
    libSCPL_gv_player[lp_playerIndex].lv_resourceSpendMinerals += lp_minerals;
    libSCPL_gv_player[lp_playerIndex].lv_resourceSpendVespene += lp_vespene;
    libSCPL_gf_GenericEventResourceSpendChanges(lp_playerIndex);
}

void libSCPL_gf_ResourceDisplaySpendSubtract (int lp_playerIndex, fixed lp_minerals, fixed lp_vespene) {
    // Implementation
    libSCPL_gv_player[lp_playerIndex].lv_resourceSpendMinerals -= lp_minerals;
    libSCPL_gv_player[lp_playerIndex].lv_resourceSpendVespene -= lp_vespene;
    libSCPL_gf_GenericEventResourceSpendChanges(lp_playerIndex);
}

void libSCPL_gf_PlayerControlGroupUpdate (int lp_playerIndex) {
    int autoD8374162_ae;
    int autoD8374162_ai;

    // Variable Declarations
    int lv_frameIndex;
    unitgroup lv_controlGroup;
    int lv_controlGroupCount;

    // Variable Initialization
    lv_controlGroup = UnitGroupEmpty();

    // Implementation
    autoD8374162_ae = 9;
    autoD8374162_ai = 1;
    lv_frameIndex = 0;
    for ( ; ( (autoD8374162_ai >= 0 && lv_frameIndex <= autoD8374162_ae) || (autoD8374162_ai <= 0 && lv_frameIndex >= autoD8374162_ae) ) ; lv_frameIndex += autoD8374162_ai ) {
        lv_controlGroup = UnitSubgroupSelected(1);
        libNtve_gf_CopyUnitControlGroups(UnitLastCreated(), EventUnit());
    }
}

void libSCPL_gf_RegisterDialogItemClicked (int lp_dialogItem, trigger lp_trigger) {
    // Implementation
    TriggerAddEventDialogControl(lp_trigger, c_playerAny, lp_dialogItem, c_triggerControlEventTypeClick);
}

unitgroup libSCPL_gf_WorkerGroupNotHarvestingGas (unitgroup lp_ug) {
    int auto9B40E8A0_ae;
    int auto9B40E8A0_ai;

    // Variable Declarations
    int lv_n;
    unit lv_w;
    unitgroup lv_wg;

    // Variable Initialization
    lv_wg = UnitGroupEmpty();

    // Implementation
    lv_wg = UnitGroupCopy(lp_ug);
    auto9B40E8A0_ae = UnitGroupCount(lp_ug, c_unitCountAlive);
    auto9B40E8A0_ai = 1;
    lv_n = 1;
    for ( ; ( (auto9B40E8A0_ai >= 0 && lv_n <= auto9B40E8A0_ae) || (auto9B40E8A0_ai <= 0 && lv_n >= auto9B40E8A0_ae) ) ; lv_n += auto9B40E8A0_ai ) {
        lv_w = UnitGroupUnit(lv_wg, lv_n);
        if ((UnitGetChargeUsed(lv_w, "HarvestGas") == 1.0)) {
            UnitGroupRemove(lv_wg, lv_w);
        }
    }
    return lv_wg;
}

trigger auto_libSCPL_gf_DebugTextTag_Trigger = null;
point auto_libSCPL_gf_DebugTextTag_lp_point;
string auto_libSCPL_gf_DebugTextTag_lp_string;
fixed auto_libSCPL_gf_DebugTextTag_lp_duration;

void libSCPL_gf_DebugTextTag (point lp_point, string lp_string, fixed lp_duration) {
    auto_libSCPL_gf_DebugTextTag_lp_point = lp_point;
    auto_libSCPL_gf_DebugTextTag_lp_string = lp_string;
    auto_libSCPL_gf_DebugTextTag_lp_duration = lp_duration;

    if (auto_libSCPL_gf_DebugTextTag_Trigger == null) {
        auto_libSCPL_gf_DebugTextTag_Trigger = TriggerCreate("auto_libSCPL_gf_DebugTextTag_TriggerFunc");
    }

    TriggerExecute(auto_libSCPL_gf_DebugTextTag_Trigger, false, false);
}

bool auto_libSCPL_gf_DebugTextTag_TriggerFunc (bool testConds, bool runActions) {
    point lp_point = auto_libSCPL_gf_DebugTextTag_lp_point;
    string lp_string = auto_libSCPL_gf_DebugTextTag_lp_string;
    fixed lp_duration = auto_libSCPL_gf_DebugTextTag_lp_duration;

    // Variable Declarations
    int lv_textTag;

    // Variable Initialization
    lv_textTag = c_textTagNone;

    // Implementation
    TextTagCreate(StringToText(lp_string), 24, lp_point, 1.0, true, false, PlayerGroupAll());
    lv_textTag = TextTagLastCreated();
    if ((lp_duration <= 0.0)) {
        return true;
    }
    Wait(lp_duration, c_timeGame);
    Wait(lp_duration, c_timeGame);
    Wait(lp_duration, c_timeGame);
    TextTagDestroy(lv_textTag);
    return true;
}

unitgroup libSCPL_gf_MapVespeneGeysers () {
    unitgroup auto6F888030_g;
    int auto6F888030_u;

    // Variable Declarations
    unitgroup lv_vespene;
    unit lv_resource;

    // Variable Initialization
    lv_vespene = UnitGroupEmpty();

    // Implementation
    auto6F888030_g = UnitGroup(null, 0, RegionEntireMap(), UnitFilter((1 << c_targetFilterRawResource), 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    auto6F888030_u = 1;
    for ( ; auto6F888030_u <= UnitGroupCount(auto6F888030_g, c_unitCountAll) ; auto6F888030_u += BoolToInt(lv_resource == UnitGroupUnit(auto6F888030_g, auto6F888030_u)) ) {
        lv_resource = UnitGroupUnit(auto6F888030_g, auto6F888030_u);
        UnitGroupAdd(lv_vespene, lv_resource);
    }
    return lv_vespene;
}

unit libSCPL_gf_PlayerTownHallClosest (point lp_point, int lp_playerIndex) {
    // Variable Declarations
    unitgroup lv_townHallUnits;
    unit lv_townHall;

    // Variable Initialization
    lv_townHallUnits = UnitGroupEmpty();

    // Implementation
    UnitGroupAddUnitGroup(lv_townHallUnits, UnitGroup("CommandCenter", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    UnitGroupAddUnitGroup(lv_townHallUnits, UnitGroup("OrbitalCommand", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    UnitGroupAddUnitGroup(lv_townHallUnits, UnitGroup("PlanetaryFortress", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    UnitGroupAddUnitGroup(lv_townHallUnits, UnitGroup("Nexus", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    UnitGroupAddUnitGroup(lv_townHallUnits, UnitGroup("Hatchery", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    UnitGroupAddUnitGroup(lv_townHallUnits, UnitGroup("Lair", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    UnitGroupAddUnitGroup(lv_townHallUnits, UnitGroup("Hive", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    if ((UnitGroupCount(lv_townHallUnits, c_unitCountAlive) == 0)) {
        return null;
    }
    lv_townHall = UnitGroupClosestToPoint(lv_townHallUnits, lp_point);
    return lv_townHall;
}

int libSCPL_gf_PlayerTownHallSaturationCount (unit lp_townHall, int lp_playerIndex) {
    // Variable Declarations
    unitgroup lv_resourceGroup;
    region lv_resourceRegion;
    int lv_townHallSaturationCount;

    // Variable Initialization
    lv_resourceGroup = UnitGroupEmpty();

    // Implementation
    lv_resourceRegion = RegionCircle(UnitGetPosition(lp_townHall), libSCPL_gv_constants.lv_townHallResourceRadius);
    lv_resourceGroup = UnitGroup(null, c_playerAny, lv_resourceRegion, UnitFilter((1 << c_targetFilterHarvestableResource), 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    lv_townHallSaturationCount = (UnitGroupCount(lv_resourceGroup, c_unitCountAlive) * 2);
    UnitGroupLoopBegin(lv_resourceGroup);
    for ( ; !UnitGroupLoopDone() ; UnitGroupLoopStep() ) {
        if (((UnitGetType(UnitGroupLoopCurrent()) == "Assimilator") || (UnitGetType(UnitGroupLoopCurrent()) == "Refinery") || (UnitGetType(UnitGroupLoopCurrent()) == "Extractor"))) {
            lv_townHallSaturationCount = (lv_townHallSaturationCount + 1);
        }
    }
    UnitGroupLoopEnd();
    return lv_townHallSaturationCount;
}

int libSCPL_gf_PlayerTownHallWorkerCount (unit lp_townHall, int lp_playerIndex) {
    // Variable Declarations
    region lv_workerRegion;
    unitgroup lv_workersLiving;
    int lv_workersLivingCount;
    int lv_workersTotal;

    // Variable Initialization
    lv_workersLiving = UnitGroupEmpty();

    // Implementation
    lv_workerRegion = RegionCircle(UnitGetPosition(lp_townHall), libSCPL_gv_constants.lv_townHallResourceRadius);
    lv_workersLiving = UnitGroup(null, lp_playerIndex, lv_workerRegion, UnitFilter((1 << c_targetFilterWorker), 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32))), 0);
    UnitGroupRemoveUnitGroup(lv_workersLiving, UnitGroupFilter("MULE", lp_playerIndex, lv_workersLiving, UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    lv_workersLivingCount = UnitGroupCount(lv_workersLiving, c_unitCountAlive);
    lv_workersTotal = (lv_workersLivingCount + libSCPL_gf_PlayerTownHallWorkerQueue(lp_townHall, lp_playerIndex, true));
    return lv_workersTotal;
}

int libSCPL_gf_PlayerTownHallWorkerQueue (unit lp_townHall, int lp_playerIndex, bool lp_includeCocoons) {
    unitgroup auto35C57E1D_g;
    int auto35C57E1D_u;

    // Variable Declarations
    int lv_workerQueuedCount;
    unit lv_morphUnit;

    // Variable Initialization

    // Implementation
    auto35C57E1D_g = UnitGroup("Egg", lp_playerIndex, RegionCircle(UnitGetPosition(lp_townHall), 8.0), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32))), 0);
    auto35C57E1D_u = 1;
    for ( ; auto35C57E1D_u <= UnitGroupCount(auto35C57E1D_g, c_unitCountAll) ; auto35C57E1D_u += BoolToInt(lv_morphUnit == UnitGroupUnit(auto35C57E1D_g, auto35C57E1D_u)) ) {
        lv_morphUnit = UnitGroupUnit(auto35C57E1D_g, auto35C57E1D_u);
        if ((lp_includeCocoons == true) && (libNtve_gf_QueuedUnitTypeInTrainingQueueSlot(lv_morphUnit, 1, 1) == "Drone")) {
            lv_workerQueuedCount += 1;
        }
    }
    if (((libNtve_gf_QueuedUnitTypeInTrainingQueueSlot(lp_townHall, 1, 1) == "SCV") || (libNtve_gf_QueuedUnitTypeInTrainingQueueSlot(lp_townHall, 1, 1) == "Probe"))) {
        lv_workerQueuedCount += 1;
    }
    return lv_workerQueuedCount;
}

unitgroup libSCPL_gf_PlayerHarvestableMinerals (int lp_playerIndex) {
    unitgroup autoCF505826_g;
    int autoCF505826_u;

    // Variable Declarations
    unitgroup lv_harvestable;
    unit lv_resource;

    // Variable Initialization
    lv_harvestable = UnitGroupEmpty();

    // Implementation
    autoCF505826_g = UnitGroup(null, 0, RegionEntireMap(), UnitFilter((1 << c_targetFilterHarvestableResource), 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    autoCF505826_u = 1;
    for ( ; autoCF505826_u <= UnitGroupCount(autoCF505826_g, c_unitCountAll) ; autoCF505826_u += BoolToInt(lv_resource == UnitGroupUnit(autoCF505826_g, autoCF505826_u)) ) {
        lv_resource = UnitGroupUnit(autoCF505826_g, autoCF505826_u);
        if (((UnitHasBehavior2(lv_resource, "MineralFieldMinerals") == true) || (UnitHasBehavior2(lv_resource, "MineralFieldMinerals750") == true) || (UnitHasBehavior2(lv_resource, "HighYieldMineralFieldMinerals") == true) || (UnitHasBehavior2(lv_resource, "HighYieldMineralFieldMinerals750") == true) || (UnitHasBehavior2(lv_resource, "MineralFieldMineralsNoRemove") == true)) && (UnitHasBehavior2(lv_resource, "GameMineralsNearTownHall") == true) && (UnitBehaviorEffectPlayer(lv_resource, "GameMineralsNearTownHall", c_effectPlayerSource, 0) == lp_playerIndex)) {
            UnitGroupAdd(lv_harvestable, lv_resource);
        }
    }
    return lv_harvestable;
}

unitgroup libSCPL_gf_PlayerHarvestableGas (int lp_playerIndex) {
    unitgroup auto21C76C5E_g;
    int auto21C76C5E_u;

    // Variable Declarations
    unitgroup lv_harvestable;
    unit lv_resource;

    // Variable Initialization
    lv_harvestable = UnitGroupEmpty();

    // Implementation
    auto21C76C5E_g = UnitGroup(null, lp_playerIndex, RegionEntireMap(), UnitFilter((1 << c_targetFilterHarvestableResource), 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    auto21C76C5E_u = 1;
    for ( ; auto21C76C5E_u <= UnitGroupCount(auto21C76C5E_g, c_unitCountAll) ; auto21C76C5E_u += BoolToInt(lv_resource == UnitGroupUnit(auto21C76C5E_g, auto21C76C5E_u)) ) {
        lv_resource = UnitGroupUnit(auto21C76C5E_g, auto21C76C5E_u);
        if (((UnitHasBehavior2(lv_resource, "HarvestableVespeneGeyserGas") == true) || (UnitHasBehavior2(lv_resource, "HarvestableVespeneGeyserGasProtoss") == true) || (UnitHasBehavior2(lv_resource, "HarvestableVespeneGeyserGasZerg") == true))) {
            UnitGroupAdd(lv_harvestable, lv_resource);
        }
    }
    return lv_harvestable;
}

unitgroup libSCPL_gf_PlayerTownHalls (int lp_playerIndex) {
    unitgroup auto06535721_g;
    int auto06535721_u;
    unitgroup autoE3E24BF4_g;
    int autoE3E24BF4_u;
    unitgroup autoF676D601_g;
    int autoF676D601_u;
    unitgroup auto60A9D51B_g;
    int auto60A9D51B_u;
    unitgroup auto7957ECD0_g;
    int auto7957ECD0_u;
    unitgroup autoF34E8B7B_g;
    int autoF34E8B7B_u;
    unitgroup autoB7CB30EC_g;
    int autoB7CB30EC_u;

    // Variable Declarations
    unitgroup lv_townHallGroup;
    unit lv_townHall;

    // Variable Initialization
    lv_townHallGroup = UnitGroupEmpty();

    // Implementation
    auto06535721_g = UnitGroup("CommandCenter", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    auto06535721_u = 1;
    for ( ; auto06535721_u <= UnitGroupCount(auto06535721_g, c_unitCountAll) ; auto06535721_u += BoolToInt(lv_townHall == UnitGroupUnit(auto06535721_g, auto06535721_u)) ) {
        lv_townHall = UnitGroupUnit(auto06535721_g, auto06535721_u);
        UnitGroupAdd(lv_townHallGroup, lv_townHall);
    }
    autoE3E24BF4_g = UnitGroup("OrbitalCommand", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    autoE3E24BF4_u = 1;
    for ( ; autoE3E24BF4_u <= UnitGroupCount(autoE3E24BF4_g, c_unitCountAll) ; autoE3E24BF4_u += BoolToInt(lv_townHall == UnitGroupUnit(autoE3E24BF4_g, autoE3E24BF4_u)) ) {
        lv_townHall = UnitGroupUnit(autoE3E24BF4_g, autoE3E24BF4_u);
        UnitGroupAdd(lv_townHallGroup, lv_townHall);
    }
    autoF676D601_g = UnitGroup("PlanetaryFortress", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    autoF676D601_u = 1;
    for ( ; autoF676D601_u <= UnitGroupCount(autoF676D601_g, c_unitCountAll) ; autoF676D601_u += BoolToInt(lv_townHall == UnitGroupUnit(autoF676D601_g, autoF676D601_u)) ) {
        lv_townHall = UnitGroupUnit(autoF676D601_g, autoF676D601_u);
        UnitGroupAdd(lv_townHallGroup, lv_townHall);
    }
    auto60A9D51B_g = UnitGroup("Nexus", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    auto60A9D51B_u = 1;
    for ( ; auto60A9D51B_u <= UnitGroupCount(auto60A9D51B_g, c_unitCountAll) ; auto60A9D51B_u += BoolToInt(lv_townHall == UnitGroupUnit(auto60A9D51B_g, auto60A9D51B_u)) ) {
        lv_townHall = UnitGroupUnit(auto60A9D51B_g, auto60A9D51B_u);
        UnitGroupAdd(lv_townHallGroup, lv_townHall);
    }
    auto7957ECD0_g = UnitGroup("Hatchery", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    auto7957ECD0_u = 1;
    for ( ; auto7957ECD0_u <= UnitGroupCount(auto7957ECD0_g, c_unitCountAll) ; auto7957ECD0_u += BoolToInt(lv_townHall == UnitGroupUnit(auto7957ECD0_g, auto7957ECD0_u)) ) {
        lv_townHall = UnitGroupUnit(auto7957ECD0_g, auto7957ECD0_u);
        UnitGroupAdd(lv_townHallGroup, lv_townHall);
    }
    autoF34E8B7B_g = UnitGroup("Hive", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    autoF34E8B7B_u = 1;
    for ( ; autoF34E8B7B_u <= UnitGroupCount(autoF34E8B7B_g, c_unitCountAll) ; autoF34E8B7B_u += BoolToInt(lv_townHall == UnitGroupUnit(autoF34E8B7B_g, autoF34E8B7B_u)) ) {
        lv_townHall = UnitGroupUnit(autoF34E8B7B_g, autoF34E8B7B_u);
        UnitGroupAdd(lv_townHallGroup, lv_townHall);
    }
    autoB7CB30EC_g = UnitGroup("Lair", lp_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    autoB7CB30EC_u = 1;
    for ( ; autoB7CB30EC_u <= UnitGroupCount(autoB7CB30EC_g, c_unitCountAll) ; autoB7CB30EC_u += BoolToInt(lv_townHall == UnitGroupUnit(autoB7CB30EC_g, autoB7CB30EC_u)) ) {
        lv_townHall = UnitGroupUnit(autoB7CB30EC_g, autoB7CB30EC_u);
        UnitGroupAdd(lv_townHallGroup, lv_townHall);
    }
    return lv_townHallGroup;
}

unitgroup libSCPL_gf_UnitsInUnitGroupMatchingChargeLink (unitgroup lp_unitGroup, string lp_chargeLink, fixed lp_chargeValue) {
    unitgroup autoBE7DE37B_g;
    int autoBE7DE37B_u;

    // Variable Declarations
    unitgroup lv_chargeLinkUnits;
    unit lv_unit;

    // Variable Initialization
    lv_chargeLinkUnits = UnitGroupEmpty();

    // Implementation
    autoBE7DE37B_g = lp_unitGroup;
    autoBE7DE37B_u = 1;
    for ( ; autoBE7DE37B_u <= UnitGroupCount(autoBE7DE37B_g, c_unitCountAll) ; autoBE7DE37B_u += BoolToInt(lv_unit == UnitGroupUnit(autoBE7DE37B_g, autoBE7DE37B_u)) ) {
        lv_unit = UnitGroupUnit(autoBE7DE37B_g, autoBE7DE37B_u);
        if ((libSCPL_gf_UnitChargeLink(lv_unit, lp_chargeLink) == lp_chargeValue)) {
            UnitGroupAdd(lv_chargeLinkUnits, lv_unit);
        }
    }
    return lv_chargeLinkUnits;
}

void libSCPL_gf_UnitChargeLinkSet (unit lp_unit, string lp_chargeLink, fixed lp_chargeValue) {
    // Implementation
    libNtve_gf_UnitRemoveChargeUsed(lp_unit, (lp_chargeLink));
    UnitAddChargeUsed(lp_unit, (lp_chargeLink), lp_chargeValue);
}

void libSCPL_gf_UnitChargeLinkAdd (unit lp_unit, string lp_chargeLink, fixed lp_chargeValue) {
    // Implementation
    UnitAddChargeUsed(lp_unit, (lp_chargeLink), lp_chargeValue);
}

fixed libSCPL_gf_UnitChargeLink (unit lp_unit, string lp_chargeLink) {
    // Implementation
    return UnitGetChargeUsed(lp_unit, (lp_chargeLink));
}

void libSCPL_gf_GenericEventResourceSpendChanges (int lp_triggeringPlayer) {
    // Variable Declarations
    string lv_event;
    string lv_param;

    // Variable Initialization
    lv_event = "";
    lv_param = "";

    // Implementation
    lv_event = libSCPL_ge_GenericEvent_Ident(libSCPL_ge_GenericEvent_ResourceSpend);
    lv_param = libSCPL_ge_GenericParameter_Ident(libSCPL_ge_GenericParameter_TriggeringPlayer);
    DataTableSetInt(false, TriggerEventParamName(lv_event, lv_param), lp_triggeringPlayer);
    TriggerSendEvent(lv_event);
}

// Triggers
//--------------------------------------------------------------------------------------------------
// Trigger: Initialization Plus
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_InitializationPlus_Func (bool testConds, bool runActions) {
    playergroup autoE8E742EE_g;
    int autoE8E742EE_p;

    // Variable Declarations
    int lv_playerIndex;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    libSCPL_gv_map.lv_baseRegion = RegionCircle(Point(0.0, 0.0), 0.125);
    libSCPL_gf_InitializeUIHookups();
    libSCPL_gf_InitializeSpendOverTime();
    libSCPL_gf_InitializeAutomatedWorkerProduction();
    autoE8E742EE_g = PlayerGroupActive(); 
    autoE8E742EE_p = 1;
    for ( ; autoE8E742EE_p <= PlayerGroupCount(autoE8E742EE_g) ; autoE8E742EE_p += BoolToInt(lv_playerIndex == PlayerGroupPlayer(autoE8E742EE_g, autoE8E742EE_p)) ) {
        lv_playerIndex = PlayerGroupPlayer(autoE8E742EE_g, autoE8E742EE_p);
        libSCPL_gf_InitializeGlobalRallyCaster(lv_playerIndex);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_InitializationPlus_Init () {
    libSCPL_gt_InitializationPlus = TriggerCreate("libSCPL_gt_InitializationPlus_Func");
    TriggerAddEventTimeElapsed(libSCPL_gt_InitializationPlus, 0.0, c_timeGame);
}

//--------------------------------------------------------------------------------------------------
// Trigger: 1
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt__1_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    libSCPL_gf_DebugCreateUnitNearBase(1, "Marine", 12.0);
    libSCPL_gf_DebugCreateUnitNearBase(1, "Marine", 12.0);
    libSCPL_gf_DebugCreateUnitNearBase(1, "Marine", 12.0);
    libSCPL_gf_DebugCreateUnitNearBase(1, "Marine", 12.0);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt__1_Init () {
    libSCPL_gt__1 = TriggerCreate("libSCPL_gt__1_Func");
    TriggerAddEventKeyPressed(libSCPL_gt__1, c_playerAny, c_keyNumPad1, true, c_keyModifierStateIgnore, c_keyModifierStateIgnore, c_keyModifierStateIgnore);
}

//--------------------------------------------------------------------------------------------------
// Trigger: 2
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt__2_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    PlayerAddChargeUsed(1, "UCB/GlobalRally00", 1.0);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt__2_Init () {
    libSCPL_gt__2 = TriggerCreate("libSCPL_gt__2_Func");
    TriggerAddEventKeyPressed(libSCPL_gt__2, c_playerAny, c_keyNumPad2, true, c_keyModifierStateIgnore, c_keyModifierStateIgnore, c_keyModifierStateIgnore);
}

//--------------------------------------------------------------------------------------------------
// Trigger: 3
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt__3_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    libSCPL_gf_PlayerResourcesAdd(1, 500.0, 500.0);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt__3_Init () {
    libSCPL_gt__3 = TriggerCreate("libSCPL_gt__3_Func");
    TriggerAddEventKeyPressed(libSCPL_gt__3, c_playerAny, c_keyNumPad3, true, c_keyModifierStateIgnore, c_keyModifierStateIgnore, c_keyModifierStateIgnore);
}

//--------------------------------------------------------------------------------------------------
// Trigger: 4
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt__4_Func (bool testConds, bool runActions) {
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt__4_Init () {
    libSCPL_gt__4 = TriggerCreate("libSCPL_gt__4_Func");
    TriggerAddEventKeyPressed(libSCPL_gt__4, c_playerAny, c_keyNumPad4, true, c_keyModifierStateIgnore, c_keyModifierStateIgnore, c_keyModifierStateIgnore);
}

//--------------------------------------------------------------------------------------------------
// Trigger: 5
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt__5_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    GameSetGlobalTimeScale(1.0);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt__5_Init () {
    libSCPL_gt__5 = TriggerCreate("libSCPL_gt__5_Func");
    TriggerAddEventKeyPressed(libSCPL_gt__5, c_playerAny, c_keyNumPad5, true, c_keyModifierStateIgnore, c_keyModifierStateIgnore, c_keyModifierStateIgnore);
}

//--------------------------------------------------------------------------------------------------
// Trigger: 0
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt__0_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    if (((GameGetGlobalTimeScale() == 0.25) || (GameGetGlobalTimeScale() == 1.0))) {
        GameSetGlobalTimeScale(20.0);
    }
    else {
        GameSetGlobalTimeScale(1.0);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt__0_Init () {
    libSCPL_gt__0 = TriggerCreate("libSCPL_gt__0_Func");
    TriggerAddEventKeyPressed(libSCPL_gt__0, c_playerAny, c_keyNumPad0, true, c_keyModifierStateIgnore, c_keyModifierStateIgnore, c_keyModifierStateIgnore);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Global Rally 00 Target Created
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_GlobalRally00TargetCreated_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    int lv_rallyIndex;
    unit lv_rallyUnit;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitGetType(EventUnitCreatedUnit()) == "GameGlobalRallyTarget00"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_rallyIndex = 0;
    lv_rallyUnit = EventUnitCreatedUnit();
    lv_playerIndex = UnitGetOwner(lv_rallyUnit);
    libSCPL_gv_player[lv_playerIndex].lv_globalRallyTarget[lv_rallyIndex] = lv_rallyUnit;
    UnitGroupIssueOrder(libSCPL_gv_player[lv_playerIndex].lv_globalRallyGroup[lv_rallyIndex], OrderTargetingUnit(AbilityCommand("Rally", 0), lv_rallyUnit), c_orderQueueReplace);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_GlobalRally00TargetCreated_Init () {
    libSCPL_gt_GlobalRally00TargetCreated = TriggerCreate("libSCPL_gt_GlobalRally00TargetCreated_Func");
    TriggerAddEventUnitCreated(libSCPL_gt_GlobalRally00TargetCreated, null, "GameGlobalRallyTarget00", null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Global Rally 01 Target Created
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_GlobalRally01TargetCreated_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    int lv_rallyIndex;
    unit lv_rallyUnit;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitGetType(EventUnitCreatedUnit()) == "GameGlobalRallyTarget01"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_rallyIndex = 1;
    lv_rallyUnit = EventUnitCreatedUnit();
    lv_playerIndex = UnitGetOwner(lv_rallyUnit);
    libSCPL_gv_player[lv_playerIndex].lv_globalRallyTarget[lv_rallyIndex] = lv_rallyUnit;
    UnitGroupIssueOrder(libSCPL_gv_player[lv_playerIndex].lv_globalRallyGroup[lv_rallyIndex], OrderTargetingUnit(AbilityCommand("Rally", 0), lv_rallyUnit), c_orderQueueReplace);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_GlobalRally01TargetCreated_Init () {
    libSCPL_gt_GlobalRally01TargetCreated = TriggerCreate("libSCPL_gt_GlobalRally01TargetCreated_Func");
    TriggerAddEventUnitCreated(libSCPL_gt_GlobalRally01TargetCreated, null, "GameGlobalRallyTarget01", null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Global Rally 02 Target Created
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_GlobalRally02TargetCreated_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    int lv_rallyIndex;
    unit lv_rallyUnit;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitGetType(EventUnitCreatedUnit()) == "GameGlobalRallyTarget02"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_rallyIndex = 2;
    lv_rallyUnit = EventUnitCreatedUnit();
    lv_playerIndex = UnitGetOwner(lv_rallyUnit);
    libSCPL_gv_player[lv_playerIndex].lv_globalRallyTarget[lv_rallyIndex] = lv_rallyUnit;
    UnitGroupIssueOrder(libSCPL_gv_player[lv_playerIndex].lv_globalRallyGroup[lv_rallyIndex], OrderTargetingUnit(AbilityCommand("Rally", 0), lv_rallyUnit), c_orderQueueReplace);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_GlobalRally02TargetCreated_Init () {
    libSCPL_gt_GlobalRally02TargetCreated = TriggerCreate("libSCPL_gt_GlobalRally02TargetCreated_Func");
    TriggerAddEventUnitCreated(libSCPL_gt_GlobalRally02TargetCreated, null, "GameGlobalRallyTarget02", null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Global Rally 00 Producer Created
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_GlobalRally00ProducerCreated_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    int lv_rallyIndex;
    unit lv_productionUnit;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_rallyIndex = 0;
    lv_productionUnit = EventUnit();
    lv_playerIndex = UnitGetOwner(lv_productionUnit);
    UnitGroupAdd(libSCPL_gv_player[lv_playerIndex].lv_globalRallyGroup[lv_rallyIndex], lv_productionUnit);
    UnitIssueOrder(lv_productionUnit, OrderTargetingUnit(AbilityCommand("Rally", 0), libSCPL_gv_player[lv_playerIndex].lv_globalRallyTarget[lv_rallyIndex]), c_orderQueueReplace);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_GlobalRally00ProducerCreated_Init () {
    libSCPL_gt_GlobalRally00ProducerCreated = TriggerCreate("libSCPL_gt_GlobalRally00ProducerCreated_Func");
    TriggerAddEventUnitBehaviorChange(libSCPL_gt_GlobalRally00ProducerCreated, null, "GameUCBGlobalRally00ChargeLink", c_unitBehaviorChangeActivate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Global Rally 01 Producer Created
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_GlobalRally01ProducerCreated_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    int lv_rallyIndex;
    unit lv_productionUnit;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_rallyIndex = 1;
    lv_productionUnit = EventUnit();
    lv_playerIndex = UnitGetOwner(lv_productionUnit);
    UnitGroupAdd(libSCPL_gv_player[lv_playerIndex].lv_globalRallyGroup[lv_rallyIndex], lv_productionUnit);
    UnitIssueOrder(lv_productionUnit, OrderTargetingUnit(AbilityCommand("Rally", 0), libSCPL_gv_player[lv_playerIndex].lv_globalRallyTarget[lv_rallyIndex]), c_orderQueueReplace);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_GlobalRally01ProducerCreated_Init () {
    libSCPL_gt_GlobalRally01ProducerCreated = TriggerCreate("libSCPL_gt_GlobalRally01ProducerCreated_Func");
    TriggerAddEventUnitBehaviorChange(libSCPL_gt_GlobalRally01ProducerCreated, null, "GameUCBGlobalRally01ChargeLink", c_unitBehaviorChangeActivate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Global Rally 02 Producer Created
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_GlobalRally02ProducerCreated_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    int lv_rallyIndex;
    unit lv_productionUnit;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_rallyIndex = 2;
    lv_productionUnit = EventUnit();
    lv_playerIndex = UnitGetOwner(lv_productionUnit);
    UnitGroupAdd(libSCPL_gv_player[lv_playerIndex].lv_globalRallyGroup[lv_rallyIndex], lv_productionUnit);
    UnitIssueOrder(lv_productionUnit, OrderTargetingUnit(AbilityCommand("Rally", 0), libSCPL_gv_player[lv_playerIndex].lv_globalRallyTarget[lv_rallyIndex]), c_orderQueueReplace);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_GlobalRally02ProducerCreated_Init () {
    libSCPL_gt_GlobalRally02ProducerCreated = TriggerCreate("libSCPL_gt_GlobalRally02ProducerCreated_Func");
    TriggerAddEventUnitBehaviorChange(libSCPL_gt_GlobalRally02ProducerCreated, null, "GameUCBGlobalRally02ChargeLink", c_unitBehaviorChangeActivate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Global Rally 00 Attach Unit
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_GlobalRally00AttachUnit_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unit lv_rallyUnit;
    unit lv_targetUnit;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = UnitGetOwner(EventUnitDamageSourceUnit());
    lv_targetUnit = EventUnit();
    lv_rallyUnit = libSCPL_gf_DebugPlayerUnit(lv_playerIndex, "GameGlobalRallyTarget00");
    UnitBehaviorAdd(lv_rallyUnit, "KineticFollow", lv_targetUnit, 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_GlobalRally00AttachUnit_Init () {
    libSCPL_gt_GlobalRally00AttachUnit = TriggerCreate("libSCPL_gt_GlobalRally00AttachUnit_Func");
    TriggerAddEventUnitDamaged(libSCPL_gt_GlobalRally00AttachUnit, null, c_unitDamageTypeAny, c_unitDamageEither, "GlobalRallyTarget00UnitImpact");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Global Rally 01 Attach Unit
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_GlobalRally01AttachUnit_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unit lv_rallyUnit;
    unit lv_targetUnit;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = UnitGetOwner(EventUnitDamageSourceUnit());
    lv_targetUnit = EventUnit();
    lv_rallyUnit = libSCPL_gf_DebugPlayerUnit(lv_playerIndex, "GameGlobalRallyTarget01");
    UnitBehaviorAdd(lv_rallyUnit, "KineticFollow", lv_targetUnit, 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_GlobalRally01AttachUnit_Init () {
    libSCPL_gt_GlobalRally01AttachUnit = TriggerCreate("libSCPL_gt_GlobalRally01AttachUnit_Func");
    TriggerAddEventUnitDamaged(libSCPL_gt_GlobalRally01AttachUnit, null, c_unitDamageTypeAny, c_unitDamageEither, "GlobalRallyTarget01UnitImpact");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Global Rally 02 Attach Unit
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_GlobalRally02AttachUnit_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unit lv_rallyUnit;
    unit lv_targetUnit;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = UnitGetOwner(EventUnitDamageSourceUnit());
    lv_targetUnit = EventUnit();
    lv_rallyUnit = libSCPL_gf_DebugPlayerUnit(lv_playerIndex, "GameGlobalRallyTarget02");
    UnitBehaviorAdd(lv_rallyUnit, "KineticFollow", lv_targetUnit, 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_GlobalRally02AttachUnit_Init () {
    libSCPL_gt_GlobalRally02AttachUnit = TriggerCreate("libSCPL_gt_GlobalRally02AttachUnit_Func");
    TriggerAddEventUnitDamaged(libSCPL_gt_GlobalRally02AttachUnit, null, c_unitDamageTypeAny, c_unitDamageEither, "GlobalRallyTarget02UnitImpact");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Morph Refund (One Stage)
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressMorphRefundOneStage_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    string lv_progressUnitType;
    string lv_parentUnitType;
    string lv_triggeringAbility;
    string lv_registerName;
    int lv_progressIndex;
    fixed lv_costMinerals;
    fixed lv_costVespene;
    fixed lv_costTime;

    // Variable Initialization
    lv_registerName = "";

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_progressIndex = AbilityCommandGetCommand(OrderGetAbilityCommand(EventUnitOrder()));
    lv_triggeringAbility = AbilityCommandGetAbility(OrderGetAbilityCommand(EventUnitOrder()));
    lv_registerName = CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].Unit", c_playerAny);
    lv_progressUnitType = (CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, ("InfoArray[" + IntToString(lv_progressIndex) + "].Unit"), c_playerAny));
    lv_progressUnitType = UnitGetType(EventUnit());
    if (((OrderGetAbilityCommand(EventUnitOrder()) == AbilityCommand("UpgradeToOrbitalUCB", 0)) || (OrderGetAbilityCommand(EventUnitOrder()) == AbilityCommand("UpgradeToPlanetaryFortressUCB", 0)))) {
        lv_progressUnitType = "CommandCenter";
    }
    lv_costMinerals = (UnitTypeGetCost(UnitTypeFromString(lv_registerName), c_unitCostMinerals) - UnitTypeGetCost(lv_progressUnitType, c_unitCostMinerals));
    lv_costVespene = (UnitTypeGetCost(UnitTypeFromString(lv_registerName), c_unitCostVespene) - UnitTypeGetCost(lv_progressUnitType, c_unitCostVespene));
    lv_costTime = StringToFixed(CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].SectionArray[" + IntToString(0) + "].DurationArray[" + IntToString(0) + "]", c_playerAny));
    if ((libSCPL_gf_RegisterExists(lv_registerName) == false)) {
        libSCPL_gf_RegisterBuildTime(lv_registerName, lv_costTime);
        libSCPL_gf_RegisterCostMinerals(lv_registerName, lv_costMinerals);
        libSCPL_gf_RegisterCostVespene(lv_registerName, lv_costVespene);
    }
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperAdd, lv_costMinerals);
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperAdd, lv_costVespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressMorphRefundOneStage_Init () {
    libSCPL_gt_ProgressMorphRefundOneStage = TriggerCreate("libSCPL_gt_ProgressMorphRefundOneStage_Func");
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundOneStage, null, AbilityCommand("UpgradeToOrbital", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundOneStage, null, AbilityCommand("UpgradeToPlanetaryFortress", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundOneStage, null, AbilityCommand("UpgradeToOrbitalUCB", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundOneStage, null, AbilityCommand("UpgradeToPlanetaryFortressUCB", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundOneStage, null, AbilityCommand("MorphDummyTrainNukeUCB", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundOneStage, null, AbilityCommand("MorphToMothership", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundOneStage, null, AbilityCommand("UpgradeToLair", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundOneStage, null, AbilityCommand("UpgradeToHive", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundOneStage, null, AbilityCommand("UpgradeToGreaterSpire", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundOneStage, null, AbilityCommand("UpgradeToLurkerDenMP", 0));
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Morph Refund (Two Stage)
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressMorphRefundTwoStage_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    string lv_progressUnitType;
    string lv_parentUnitType;
    string lv_triggeringAbility;
    string lv_registerName;
    int lv_progressIndex;
    fixed lv_costMinerals;
    fixed lv_costVespene;
    fixed lv_costTime;

    // Variable Initialization
    lv_registerName = "";

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_progressIndex = 1;
    lv_triggeringAbility = AbilityCommandGetAbility(OrderGetAbilityCommand(EventUnitOrder()));
    lv_registerName = CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].Unit", c_playerAny);
    lv_progressUnitType = (CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, ("InfoArray[" + IntToString(lv_progressIndex) + "].Unit"), c_playerAny));
    lv_parentUnitType = UnitGetType(EventUnit());
    lv_costMinerals = (UnitTypeGetCost(UnitTypeFromString(lv_registerName), c_unitCostMinerals) - UnitTypeGetCost(lv_parentUnitType, c_unitCostMinerals));
    lv_costVespene = (UnitTypeGetCost(UnitTypeFromString(lv_registerName), c_unitCostVespene) - UnitTypeGetCost(lv_parentUnitType, c_unitCostVespene));
    lv_costTime = StringToFixed(CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].SectionArray[" + IntToString(0) + "].DurationArray[" + IntToString(0) + "]", c_playerAny));
    if ((libSCPL_gf_RegisterExists(lv_registerName) == false)) {
        libSCPL_gf_RegisterBuildTime(lv_registerName, lv_costTime);
        libSCPL_gf_RegisterCostMinerals(lv_registerName, lv_costMinerals);
        libSCPL_gf_RegisterCostVespene(lv_registerName, lv_costVespene);
    }
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperAdd, lv_costMinerals);
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperAdd, lv_costVespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressMorphRefundTwoStage_Init () {
    libSCPL_gt_ProgressMorphRefundTwoStage = TriggerCreate("libSCPL_gt_ProgressMorphRefundTwoStage_Func");
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundTwoStage, null, AbilityCommand("MorphToLurker", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundTwoStage, null, AbilityCommand("MorphToBroodLord", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundTwoStage, null, AbilityCommand("MorphToRavager", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundTwoStage, null, AbilityCommand("MorphToOverseer", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphRefundTwoStage, null, AbilityCommand("MorphToTransportOverlord", 0));
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Morph Start
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressMorphStart_Func (bool testConds, bool runActions) {
    fixed auto41D1DAA8_ae;
    fixed auto41D1DAA8_ai;

    // Variable Declarations
    int lv_playerIndex;
    unit lv_progressUnit;
    string lv_progressUnitType;
    string lv_progressAbility;
    fixed lv_totalCostMinerals;
    fixed lv_totalCostVespene;
    fixed lv_progressCostMinerals;
    fixed lv_progressCostVespene;
    fixed lv_progressTime;
    int lv_progressIndex;
    fixed lv_expectedTime;
    fixed lv_tick;
    fixed lv_tickIncrement;
    fixed lv_tickCostBaseMinerals;
    fixed lv_tickCostBaseVespene;
    fixed lv_tickCostCarryOverMinerals;
    fixed lv_tickCostCarryOverVespene;
    fixed lv_tickCostMinerals;
    fixed lv_tickCostVespene;
    fixed lv_tickTotalMinerals;
    fixed lv_tickTotalVespene;
    bool lv_progressIsComplete;
    bool lv_progressIsCancelled;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }

        if (!((UnitGetType(EventUnit()) != "OverlordTransport"))) {
            return false;
        }

        if (!((UnitGetType(EventUnit()) != "Overseer"))) {
            return false;
        }

        if (!((UnitGetType(EventUnit()) != "BroodLord"))) {
            return false;
        }

        if (!((UnitGetType(EventUnit()) != "Ravager"))) {
            return false;
        }

        if (!((UnitGetType(EventUnit()) != "LurkerMP"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    Wait(0.0, c_timeGame);
    lv_playerIndex = EventPlayer();
    lv_progressUnit = EventUnit();
    lv_progressIndex = 1;
    lv_tickIncrement = libSCPL_gv_constants.lv_spendTickIncrement;
    lv_progressAbility = AbilityCommandGetAbility(OrderGetAbilityCommand(UnitOrder(EventUnit(), 0)));
    lv_progressUnitType = libSCPL_gf_AbilityMorphUnit(AbilityCommandGetAbility(EventUnitAbility()), lv_progressUnit);
    lv_progressTime = libSCPL_gf_GetBuildTime((lv_progressUnitType));
    lv_totalCostMinerals = libSCPL_gf_GetCostMinerals((lv_progressUnitType));
    lv_totalCostVespene = libSCPL_gf_GetCostVespene((lv_progressUnitType));
    lv_tickCostBaseMinerals = (lv_totalCostMinerals / (lv_progressTime / lv_tickIncrement));
    lv_tickCostBaseVespene = (lv_totalCostVespene / (lv_progressTime / lv_tickIncrement));
    libSCPL_gf_ResourceDisplaySpendAdd(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    auto41D1DAA8_ae = (lv_progressTime - lv_tickIncrement);
    auto41D1DAA8_ai = lv_tickIncrement;
    lv_tick = 0.0;
    for ( ; ( (auto41D1DAA8_ai >= 0 && lv_tick <= auto41D1DAA8_ae) || (auto41D1DAA8_ai <= 0 && lv_tick >= auto41D1DAA8_ae) ) ; lv_tick += auto41D1DAA8_ai ) {
        if ((UnitIsAlive(lv_progressUnit) == false)) {
            break;
        }
        if ((lv_tick != 0.0) && ((lv_progressAbility != AbilityCommandGetAbility(OrderGetAbilityCommand(UnitOrder(EventUnit(), 0)))) || (libSCPL_gf_UnitMorphProgress(lv_progressUnit) != (lv_tick - lv_tickIncrement)))) {
            lv_progressIsCancelled = true;
            break;
        }
        lv_tickCostMinerals = (lv_tickCostBaseMinerals + lv_tickCostCarryOverMinerals);
        lv_tickCostVespene = (lv_tickCostBaseVespene + lv_tickCostCarryOverVespene);
        lv_tickCostCarryOverMinerals = ModF(lv_tickCostMinerals, 1.0);
        lv_tickCostCarryOverVespene = ModF(lv_tickCostVespene, 1.0);
        if (((lv_tickTotalMinerals + Round(lv_tickCostMinerals)) >= lv_totalCostMinerals) && ((lv_tickTotalVespene + Round(lv_tickCostVespene)) >= lv_totalCostVespene)) {
            lv_tickCostMinerals = (lv_totalCostMinerals - lv_tickTotalMinerals);
            lv_tickCostVespene = (lv_totalCostVespene - lv_tickTotalVespene);
            lv_progressIsComplete = true;
        }
        lv_progressCostMinerals = Trunc(lv_tickCostMinerals);
        lv_progressCostVespene = Trunc(lv_tickCostVespene);
        if (((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < lv_progressCostMinerals) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < lv_progressCostVespene))) {
            libSCPL_gf_UnitStatusPauseProgressUnit(lv_progressUnit, lv_progressUnit, 1, true);
            while ((UnitIsAlive(lv_progressUnit) == true) && ((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < lv_progressCostMinerals) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < lv_progressCostVespene)) && (lv_progressAbility == AbilityCommandGetAbility(OrderGetAbilityCommand(UnitOrder(EventUnit(), 0)))) && ((lv_tick == 0.0) || (libSCPL_gf_UnitMorphProgress(lv_progressUnit) == (lv_tick - lv_tickIncrement)))) {
                Wait(lv_tickIncrement, c_timeGame);
            }
            if ((UnitIsAlive(lv_progressUnit) == false)) {
                break;
            }
            if (((lv_progressAbility != AbilityCommandGetAbility(OrderGetAbilityCommand(UnitOrder(EventUnit(), 0)))) || ((libSCPL_gf_UnitMorphProgress(lv_progressUnit) != (lv_tick - lv_tickIncrement)) && (lv_tick != 0.0)))) {
                lv_progressIsCancelled = true;
                break;
            }
            libSCPL_gf_UnitStatusPauseProgressUnit(lv_progressUnit, lv_progressUnit, 1, false);
        }
        lv_tickTotalMinerals += lv_progressCostMinerals;
        lv_tickTotalVespene += lv_progressCostVespene;
        libSCPL_gf_PlayerResourcesSubtract(lv_playerIndex, lv_progressCostMinerals, lv_progressCostVespene);
        libSCPL_gf_UnitMorphProgressSet(lv_progressUnit, lv_tick);
        if ((lv_progressIsComplete == true)) {
            Wait((lv_tickIncrement - 0.0625), c_timeGame);
            if ((libSCPL_gf_UnitMorphProgress(lv_progressUnit) != lv_tick)) {
                lv_progressIsCancelled = true;
            }
            continue;
        }
        Wait(lv_tickIncrement, c_timeGame);
    }
    libSCPL_gf_ResourceDisplaySpendSubtract(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    if ((lv_progressIsCancelled == true)) {
        lv_tickTotalMinerals *= 0.75;
        lv_tickTotalVespene *= 0.75;
        libSCPL_gf_PlayerResourcesAdd(lv_playerIndex, lv_tickTotalMinerals, lv_tickTotalVespene);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressMorphStart_Init () {
    libSCPL_gt_ProgressMorphStart = TriggerCreate("libSCPL_gt_ProgressMorphStart_Func");
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressMorphStart, null, AbilityCommand("UpgradeToPlanetaryFortress", 0), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressMorphStart, null, AbilityCommand("UpgradeToOrbital", 0), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressMorphStart, null, AbilityCommand("MorphToMothership", 0), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressMorphStart, null, AbilityCommand("UpgradeToLair", 0), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressMorphStart, null, AbilityCommand("UpgradeToHive", 0), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressMorphStart, null, AbilityCommand("UpgradeToGreaterSpire", 0), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressMorphStart, null, AbilityCommand("UpgradeToLurkerDenMP", 0), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressMorphStart, null, AbilityCommand("MorphToLurker", 0), c_abilMorphStageUnitEnd, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressMorphStart, null, AbilityCommand("MorphToRavager", 0), c_abilMorphStageUnitEnd, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressMorphStart, null, AbilityCommand("MorphToOverseer", 0), c_abilMorphStageUnitEnd, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressMorphStart, null, AbilityCommand("MorphToTransportOverlord", 0), c_abilMorphStageUnitEnd, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressMorphStart, null, AbilityCommand("MorphToBroodLord", 0), c_abilMorphStageUnitEnd, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Morph Cancel
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressMorphCancel_Func (bool testConds, bool runActions) {
    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libSCPL_gf_UnitMorphProgressSet(EventUnit(), 0.0);
    libSCPL_gf_UnitStatusPauseProgressUnit(EventUnit(), EventUnit(), 1, false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressMorphCancel_Init () {
    libSCPL_gt_ProgressMorphCancel = TriggerCreate("libSCPL_gt_ProgressMorphCancel_Func");
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphCancel, null, AbilityCommand("UpgradeToOrbital", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphCancel, null, AbilityCommand("UpgradeToPlanetaryFortress", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphCancel, null, AbilityCommand("MorphToMothership", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphCancel, null, AbilityCommand("UpgradeToLair", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphCancel, null, AbilityCommand("UpgradeToHive", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphCancel, null, AbilityCommand("UpgradeToGreaterSpire", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphCancel, null, AbilityCommand("UpgradeToLurkerDenMP", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphCancel, null, AbilityCommand("MorphToLurker", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphCancel, null, AbilityCommand("MorphToBroodLord", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphCancel, null, AbilityCommand("MorphToRavager", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphCancel, null, AbilityCommand("MorphToOverseer", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressMorphCancel, null, AbilityCommand("MorphToTransportOverlord", 1));
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Upgrade Refund
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressUpgradeRefund_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    string lv_triggeringAbility;
    string lv_registerName;
    int lv_progressIndex;
    fixed lv_costMinerals;
    fixed lv_costVespene;
    fixed lv_costTime;

    // Variable Initialization
    lv_registerName = "";

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressIndex = AbilityCommandGetCommand(OrderGetAbilityCommand(EventUnitOrder()));
    lv_triggeringAbility = AbilityCommandGetAbility(OrderGetAbilityCommand(EventUnitOrder()));
    lv_registerName = CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].Upgrade", c_playerAny);
    lv_costMinerals = StringToFixed(CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].Resource[" + IntToString(0) + "]", c_playerAny));
    lv_costVespene = StringToFixed(CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].Resource[" + IntToString(1) + "]", c_playerAny));
    lv_costTime = StringToFixed(CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].Time", c_playerAny));
    if ((libSCPL_gf_RegisterExists(lv_registerName) == false)) {
        libSCPL_gf_RegisterBuildTime(lv_registerName, lv_costTime);
        libSCPL_gf_RegisterCostMinerals(lv_registerName, lv_costMinerals);
        libSCPL_gf_RegisterCostVespene(lv_registerName, lv_costVespene);
    }
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperAdd, lv_costMinerals);
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperAdd, lv_costVespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressUpgradeRefund_Init () {
    libSCPL_gt_ProgressUpgradeRefund = TriggerCreate("libSCPL_gt_ProgressUpgradeRefund_Func");
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("EngineeringBayResearch", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("EngineeringBayResearch", 7));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("EngineeringBayResearch", 8));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("EngineeringBayResearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("EngineeringBayResearch", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("EngineeringBayResearch", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ArmoryResearch", 14));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ArmoryResearch", 15));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ArmoryResearch", 16));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ArmoryResearch", 8));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ArmoryResearch", 9));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ArmoryResearch", 10));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ArmoryResearch", 11));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ArmoryResearch", 12));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ArmoryResearch", 13));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("EngineeringBayResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("EngineeringBayResearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("EngineeringBayResearch", 5));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("BarracksTechLabResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("BarracksTechLabResearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("BarracksTechLabResearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("FactoryTechLabResearch", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("FactoryTechLabResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("FactoryTechLabResearch", 5));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("FactoryTechLabResearch", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("StarportTechLabResearch", 9));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("StarportTechLabResearch", 15));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("StarportTechLabResearch", 14));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("StarportTechLabResearch", 12));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("StarportTechLabResearch", 13));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("StarportTechLabResearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("StarportTechLabResearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("StarportTechLabResearch", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("StarportTechLabResearch", 10));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("StarportTechLabResearch", 7));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("StarportTechLabResearch", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("GhostAcademyResearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("FusionCoreResearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ForgeResearch", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ForgeResearch", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ForgeResearch", 5));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ForgeResearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ForgeResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ForgeResearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ForgeResearch", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ForgeResearch", 7));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("ForgeResearch", 8));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("CyberneticsCoreResearch", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("CyberneticsCoreResearch", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("CyberneticsCoreResearch", 5));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("CyberneticsCoreResearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("CyberneticsCoreResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("CyberneticsCoreResearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("CyberneticsCoreResearch", 9));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("CyberneticsCoreResearch", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("TemplarArchivesResearch", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("FleetBeaconResearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("FleetBeaconResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("FleetBeaconResearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("FleetBeaconResearch", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("RoboticsBayResearch", 5));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("RoboticsBayResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("RoboticsBayResearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("RoboticsBayResearch", 7));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("TwilightCouncilResearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("TwilightCouncilResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("TwilightCouncilResearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("evolutionchamberresearch", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("evolutionchamberresearch", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("evolutionchamberresearch", 5));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("evolutionchamberresearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("evolutionchamberresearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("evolutionchamberresearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("evolutionchamberresearch", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("evolutionchamberresearch", 7));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("evolutionchamberresearch", 8));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("SpireResearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("SpireResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("SpireResearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("SpireResearch", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("SpireResearch", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("SpireResearch", 5));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("LairResearch", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("LairResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("LairResearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("SpawningPoolResearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("SpawningPoolResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("RoachWarrenResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("RoachWarrenResearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("RoachWarrenResearch", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("HydraliskDenResearch", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("HydraliskDenResearch", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("InfestationPitResearch", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("InfestationPitResearch", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("InfestationPitResearch", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("BanelingNestResearch", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUpgradeRefund, null, AbilityCommand("UltraliskCavernResearch", 2));
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Upgrade Start
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressUpgradeStart_Func (bool testConds, bool runActions) {
    fixed auto42E76EAC_ae;
    fixed auto42E76EAC_ai;

    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    unit lv_progressUnit;
    string lv_progressUnitType;
    string lv_progressType;
    fixed lv_totalCostMinerals;
    fixed lv_totalCostVespene;
    fixed lv_progressCostMinerals;
    fixed lv_progressCostVespene;
    fixed lv_progressTime;
    int lv_progressIndex;
    fixed lv_expectedTime;
    fixed lv_tick;
    fixed lv_tickIncrement;
    fixed lv_tickCostBaseMinerals;
    fixed lv_tickCostBaseVespene;
    fixed lv_tickCostCarryOverMinerals;
    fixed lv_tickCostCarryOverVespene;
    fixed lv_tickCostMinerals;
    fixed lv_tickCostVespene;
    fixed lv_tickTotalMinerals;
    fixed lv_tickTotalVespene;
    bool lv_progressIsComplete;
    bool lv_progressIsCancelled;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    Wait(0.0, c_timeGame);
    lv_progressType = libNtve_gf_TriggeringProgressUpgrade();
    lv_totalCostMinerals = libSCPL_gf_GetCostMinerals((lv_progressType));
    lv_totalCostVespene = libSCPL_gf_GetCostVespene((lv_progressType));
    lv_progressTime = libSCPL_gf_GetBuildTime((lv_progressType));
    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressUnit = EventUnitProgressUnit();
    lv_progressIndex = 1;
    lv_tickIncrement = libSCPL_gv_constants.lv_spendTickIncrement;
    lv_tickCostBaseMinerals = (lv_totalCostMinerals / (lv_progressTime / lv_tickIncrement));
    lv_tickCostBaseVespene = (lv_totalCostVespene / (lv_progressTime / lv_tickIncrement));
    libSCPL_gf_ResourceDisplaySpendAdd(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    auto42E76EAC_ae = (lv_progressTime - lv_tickIncrement);
    auto42E76EAC_ai = lv_tickIncrement;
    lv_tick = 0.0;
    for ( ; ( (auto42E76EAC_ai >= 0 && lv_tick <= auto42E76EAC_ae) || (auto42E76EAC_ai <= 0 && lv_tick >= auto42E76EAC_ae) ) ; lv_tick += auto42E76EAC_ai ) {
        lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
        if ((lv_tick != lv_expectedTime) && (lv_tick != 0.0)) {
            lv_progressIsCancelled = true;
            break;
        }
        if ((UnitIsAlive(lv_parentUnit) == false)) {
            break;
        }
        lv_tickCostMinerals = (lv_tickCostBaseMinerals + lv_tickCostCarryOverMinerals);
        lv_tickCostVespene = (lv_tickCostBaseVespene + lv_tickCostCarryOverVespene);
        lv_tickCostCarryOverMinerals = ModF(lv_tickCostMinerals, 1.0);
        lv_tickCostCarryOverVespene = ModF(lv_tickCostVespene, 1.0);
        if (((lv_tickTotalMinerals + Round(lv_tickCostMinerals)) >= lv_totalCostMinerals) && ((lv_tickTotalVespene + Round(lv_tickCostVespene)) >= lv_totalCostVespene)) {
            lv_tickCostMinerals = (lv_totalCostMinerals - lv_tickTotalMinerals);
            lv_tickCostVespene = (lv_totalCostVespene - lv_tickTotalVespene);
            lv_progressIsComplete = true;
        }
        lv_progressCostMinerals = Trunc(lv_tickCostMinerals);
        lv_progressCostVespene = Trunc(lv_tickCostVespene);
        if (((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < lv_progressCostMinerals) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < lv_progressCostVespene))) {
            libSCPL_gf_UnitStatusPauseProgressBar(lv_parentUnit, lv_parentUnit, lv_progressIndex, true);
            while ((lv_tick == lv_expectedTime) && (UnitIsAlive(lv_parentUnit) == true) && ((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < lv_progressCostMinerals) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < lv_progressCostVespene))) {
                lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
                Wait(libSCPL_gf_TickIncrementActual(lv_parentUnit), c_timeGame);
            }
            if ((UnitIsAlive(lv_parentUnit) == false)) {
                break;
            }
            if ((lv_tick != lv_expectedTime) && (lv_tick != 0.0)) {
                lv_progressIsCancelled = true;
                break;
            }
            libSCPL_gf_UnitStatusPauseProgressBar(lv_parentUnit, lv_parentUnit, lv_progressIndex, false);
        }
        lv_tickTotalMinerals += lv_progressCostMinerals;
        lv_tickTotalVespene += lv_progressCostVespene;
        libSCPL_gf_PlayerResourcesSubtract(lv_playerIndex, lv_progressCostMinerals, lv_progressCostVespene);
        if ((lv_progressIsComplete == true)) {
            Wait((libSCPL_gf_TickIncrementActual(lv_parentUnit) - 0.0625), c_timeGame);
            lv_tick += (lv_tickIncrement - 0.0625);
            lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
            if ((lv_tick != lv_expectedTime)) {
                lv_progressIsCancelled = true;
            }
            continue;
        }
        if ((lv_tick == 0.0)) {
            lv_tick = 0.0;
            libSCPL_gf_UnitStatusPauseProgressBar(lv_parentUnit, lv_parentUnit, lv_progressIndex, true);
            Wait(0.0625, c_timeGame);
            libSCPL_gf_UnitStatusPauseProgressBar(lv_parentUnit, lv_parentUnit, lv_progressIndex, false);
            Wait((libSCPL_gf_TickIncrementActual(lv_parentUnit) - 0.0625), c_timeGame);
            continue;
        }
        Wait(libSCPL_gf_TickIncrementActual(lv_parentUnit), c_timeGame);
    }
    libSCPL_gf_ResourceDisplaySpendSubtract(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    if ((lv_progressIsCancelled == true)) {
        libSCPL_gf_PlayerResourcesAdd(lv_playerIndex, lv_tickTotalMinerals, lv_tickTotalVespene);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressUpgradeStart_Init () {
    libSCPL_gt_ProgressUpgradeStart = TriggerCreate("libSCPL_gt_ProgressUpgradeStart_Func");
    TriggerAddEventUnitResearchProgress(libSCPL_gt_ProgressUpgradeStart, null, c_unitProgressStageStart);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Armament Start Refund
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressArmamentStartRefund_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    string lv_progressUnitType;
    string lv_triggeringAbility;
    string lv_registerName;
    int lv_progressIndex;
    int lv_costMinerals;
    int lv_costVespene;
    fixed lv_costTime;

    // Variable Initialization
    lv_registerName = "";

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressIndex = AbilityCommandGetCommand(OrderGetAbilityCommand(EventUnitOrder()));
    lv_triggeringAbility = AbilityCommandGetAbility(OrderGetAbilityCommand(EventUnitOrder()));
    lv_registerName = CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].Unit", c_playerAny);
    lv_progressUnitType = (CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, ("InfoArray[" + IntToString(lv_progressIndex) + "].Unit[0]"), c_playerAny));
    lv_costMinerals = UnitTypeGetCost(lv_progressUnitType, c_unitCostMinerals);
    lv_costVespene = UnitTypeGetCost(lv_progressUnitType, c_unitCostVespene);
    lv_costTime = StringToFixed(CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].Time", c_playerAny));
    if ((libSCPL_gf_RegisterExists(lv_registerName) == false)) {
        libSCPL_gf_RegisterBuildTime(lv_registerName, lv_costTime);
    }
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperAdd, lv_costMinerals);
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperAdd, lv_costVespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressArmamentStartRefund_Init () {
    libSCPL_gt_ProgressArmamentStartRefund = TriggerCreate("libSCPL_gt_ProgressArmamentStartRefund_Func");
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressArmamentStartRefund, null, AbilityCommand("ArmSiloWithNuke", 0));
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Armament Start
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressArmamentStart_Func (bool testConds, bool runActions) {
    fixed autoAC7F152F_ae;
    fixed autoAC7F152F_ai;

    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    unit lv_progressUnit;
    string lv_progressUnitType;
    fixed lv_totalCostMinerals;
    fixed lv_totalCostVespene;
    fixed lv_progressCostMinerals;
    fixed lv_progressCostVespene;
    fixed lv_progressTime;
    int lv_progressIndex;
    fixed lv_expectedTime;
    fixed lv_tick;
    fixed lv_tickIncrement;
    fixed lv_tickCostBaseMinerals;
    fixed lv_tickCostBaseVespene;
    fixed lv_tickCostCarryOverMinerals;
    fixed lv_tickCostCarryOverVespene;
    fixed lv_tickCostMinerals;
    fixed lv_tickCostVespene;
    fixed lv_tickTotalMinerals;
    fixed lv_tickTotalVespene;
    bool lv_progressIsComplete;
    bool lv_progressIsCancelled;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }

        if (!((UnitGetType(EventUnit()) != "Carrier"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    Wait(0.0, c_timeGame);
    lv_progressUnitType = libNtve_gf_TriggeringProgressUnitType();
    lv_totalCostMinerals = UnitTypeGetCost(lv_progressUnitType, c_unitCostMinerals);
    lv_totalCostVespene = UnitTypeGetCost(lv_progressUnitType, c_unitCostVespene);
    lv_progressTime = libSCPL_gf_GetBuildTime((lv_progressUnitType));
    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressUnit = EventUnitProgressUnit();
    lv_progressIndex = 1;
    lv_tickIncrement = libSCPL_gv_constants.lv_spendTickIncrement;
    lv_tickCostBaseMinerals = (lv_totalCostMinerals / (lv_progressTime / lv_tickIncrement));
    lv_tickCostBaseVespene = (lv_totalCostVespene / (lv_progressTime / lv_tickIncrement));
    libSCPL_gf_ResourceDisplaySpendAdd(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    autoAC7F152F_ae = (lv_progressTime - lv_tickIncrement);
    autoAC7F152F_ai = lv_tickIncrement;
    lv_tick = 0.0;
    for ( ; ( (autoAC7F152F_ai >= 0 && lv_tick <= autoAC7F152F_ae) || (autoAC7F152F_ai <= 0 && lv_tick >= autoAC7F152F_ae) ) ; lv_tick += autoAC7F152F_ai ) {
        lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
        if ((lv_tick != lv_expectedTime) && (lv_tick != 0.0)) {
            lv_progressIsCancelled = true;
            break;
        }
        if ((UnitIsAlive(lv_parentUnit) == false)) {
            break;
        }
        lv_tickCostMinerals = (lv_tickCostBaseMinerals + lv_tickCostCarryOverMinerals);
        lv_tickCostVespene = (lv_tickCostBaseVespene + lv_tickCostCarryOverVespene);
        lv_tickCostCarryOverMinerals = ModF(lv_tickCostMinerals, 1.0);
        lv_tickCostCarryOverVespene = ModF(lv_tickCostVespene, 1.0);
        if (((lv_tickTotalMinerals + Round(lv_tickCostMinerals)) >= lv_totalCostMinerals) && ((lv_tickTotalVespene + Round(lv_tickCostVespene)) >= lv_totalCostVespene)) {
            lv_tickCostMinerals = (lv_totalCostMinerals - lv_tickTotalMinerals);
            lv_tickCostVespene = (lv_totalCostVespene - lv_tickTotalVespene);
            lv_progressIsComplete = true;
        }
        lv_progressCostMinerals = Trunc(lv_tickCostMinerals);
        lv_progressCostVespene = Trunc(lv_tickCostVespene);
        if (((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < lv_progressCostMinerals) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < lv_progressCostVespene))) {
            libSCPL_gf_UnitStatusPauseProgressBar(lv_parentUnit, lv_parentUnit, lv_progressIndex, true);
            while ((lv_tick == lv_expectedTime) && (UnitIsAlive(lv_parentUnit) == true) && ((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < lv_progressCostMinerals) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < lv_progressCostVespene))) {
                lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
                Wait(lv_tickIncrement, c_timeGame);
            }
            if ((UnitIsAlive(lv_parentUnit) == false)) {
                break;
            }
            if ((lv_tick != lv_expectedTime) && (lv_tick != 0.0)) {
                lv_progressIsCancelled = true;
                break;
            }
            libSCPL_gf_UnitStatusPauseProgressBar(lv_parentUnit, lv_parentUnit, lv_progressIndex, false);
        }
        lv_tickTotalMinerals += lv_progressCostMinerals;
        lv_tickTotalVespene += lv_progressCostVespene;
        libSCPL_gf_PlayerResourcesSubtract(lv_playerIndex, lv_progressCostMinerals, lv_progressCostVespene);
        if ((lv_progressIsComplete == true)) {
            Wait((lv_tickIncrement - 0.0625), c_timeGame);
            lv_tick += (lv_tickIncrement - 0.0625);
            lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
            if ((lv_tick != lv_expectedTime)) {
                lv_progressIsCancelled = true;
            }
            continue;
        }
        if ((UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1) == 0.0625)) {
            lv_tick = 0.0;
            libSCPL_gf_UnitStatusPauseProgressBar(lv_parentUnit, lv_parentUnit, lv_progressIndex, true);
            Wait(0.0625, c_timeGame);
            libSCPL_gf_UnitStatusPauseProgressBar(lv_parentUnit, lv_parentUnit, lv_progressIndex, false);
            Wait((lv_tickIncrement - 0.0625), c_timeGame);
            continue;
        }
        Wait(lv_tickIncrement, c_timeGame);
    }
    libSCPL_gf_ResourceDisplaySpendSubtract(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    if ((lv_progressIsCancelled == true)) {
        libSCPL_gf_PlayerResourcesAdd(lv_playerIndex, lv_tickTotalMinerals, lv_tickTotalVespene);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressArmamentStart_Init () {
    libSCPL_gt_ProgressArmamentStart = TriggerCreate("libSCPL_gt_ProgressArmamentStart_Func");
    TriggerAddEventUnitArmMagazineProgress(libSCPL_gt_ProgressArmamentStart, null, c_unitProgressStageStart);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Building Start Refund
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressBuildingStartRefund_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    string lv_triggeringAbility;
    string lv_registerName;
    string lv_progressUnitType;
    int lv_progressIndex;
    int lv_costMinerals;
    int lv_costVespene;
    fixed lv_costTime;

    // Variable Initialization
    lv_registerName = "";

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressIndex = AbilityCommandGetCommand(OrderGetAbilityCommand(EventUnitOrder()));
    lv_triggeringAbility = AbilityCommandGetAbility(OrderGetAbilityCommand(EventUnitOrder()));
    lv_registerName = CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].Unit", c_playerAny);
    lv_progressUnitType = (CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, ("InfoArray[" + IntToString(lv_progressIndex) + "].Unit[0]"), c_playerAny));
    lv_costMinerals = UnitTypeGetCost(lv_progressUnitType, c_unitCostMinerals);
    lv_costVespene = UnitTypeGetCost(lv_progressUnitType, c_unitCostVespene);
    lv_costTime = StringToFixed(CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].Time", c_playerAny));
    if ((libSCPL_gf_RegisterExists(lv_registerName) == false)) {
        libSCPL_gf_RegisterBuildTime(lv_registerName, lv_costTime);
    }
    if ((UnitGetType(OrderGetTargetUnit(EventUnitOrder())) == (lv_registerName))) {
        return true;
    }
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperAdd, lv_costMinerals);
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperAdd, lv_costVespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressBuildingStartRefund_Init () {
    libSCPL_gt_ProgressBuildingStartRefund = TriggerCreate("libSCPL_gt_ProgressBuildingStartRefund_Func");
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 8));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 5));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 10));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 9));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 13));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 11));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("TerranBuild", 15));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("BarracksAddOns", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("BarracksAddOns", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("FactoryAddOns", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("FactoryAddOns", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("StarportAddOns", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("StarportAddOns", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 7));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 14));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 11));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 12));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 13));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 9));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 10));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ProtossBuild", 5));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 10));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 5));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 8));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 9));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 13));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 14));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 15));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressBuildingStartRefund, null, AbilityCommand("ZergBuild", 7));
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Building Start
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressBuildingStart_Func (bool testConds, bool runActions) {
    fixed autoBCBFEB32_ae;
    fixed autoBCBFEB32_ai;

    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    unit lv_progressUnit;
    string lv_progressUnitType;
    fixed lv_totalCostMinerals;
    fixed lv_totalCostVespene;
    fixed lv_progressCostMinerals;
    fixed lv_progressCostVespene;
    fixed lv_progressTime;
    int lv_progressIndex;
    fixed lv_progressPercent;
    fixed lv_progressPercentExpected;
    fixed lv_progressPercentParent;
    fixed lv_expectedTime;
    fixed lv_tick;
    fixed lv_tickIncrement;
    fixed lv_tickCostBaseMinerals;
    fixed lv_tickCostBaseVespene;
    fixed lv_tickCostCarryOverMinerals;
    fixed lv_tickCostCarryOverVespene;
    fixed lv_tickCostMinerals;
    fixed lv_tickCostVespene;
    fixed lv_tickTotalMinerals;
    fixed lv_tickTotalVespene;
    bool lv_progressIsComplete;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }

        if (!((UnitGetType(EventUnit()) != "SCV"))) {
            return false;
        }

        if (!((UnitGetType(EventUnit()) != "WarpGate"))) {
            return false;
        }

        if (!((UnitGetType(EventUnit()) != "NydusNetwork"))) {
            return false;
        }

        if (!((UnitGetType(EventUnit()) != "NydusNetwork"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    Wait(0.0, c_timeGame);
    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressUnit = EventUnitProgressUnit();
    lv_progressIndex = 1;
    lv_tickIncrement = libSCPL_gv_constants.lv_spendTickIncrement;
    lv_progressUnitType = libNtve_gf_TriggeringProgressUnitType();
    lv_totalCostMinerals = UnitTypeGetCost(lv_progressUnitType, c_unitCostMinerals);
    lv_totalCostVespene = UnitTypeGetCost(lv_progressUnitType, c_unitCostVespene);
    if ((lv_totalCostMinerals == 0.0) && (lv_totalCostVespene == 0.0)) {
        return true;
    }
    lv_progressTime = libSCPL_gf_GetBuildTime((lv_progressUnitType));
    lv_tickCostBaseMinerals = (lv_totalCostMinerals / (lv_progressTime / lv_tickIncrement));
    lv_tickCostBaseVespene = (lv_totalCostVespene / (lv_progressTime / lv_tickIncrement));
    libSCPL_gf_ResourceDisplaySpendAdd(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    autoBCBFEB32_ae = (lv_progressTime - lv_tickIncrement);
    autoBCBFEB32_ai = lv_tickIncrement;
    lv_tick = 0.0;
    for ( ; ( (autoBCBFEB32_ai >= 0 && lv_tick <= autoBCBFEB32_ae) || (autoBCBFEB32_ai <= 0 && lv_tick >= autoBCBFEB32_ae) ) ; lv_tick += autoBCBFEB32_ai ) {
        lv_progressPercent = UnitGetProgressComplete(lv_progressUnit, lv_progressIndex);
        lv_progressPercent = libSCPL_gf_NormalizeBuildingProgress(lv_progressPercent);
        lv_progressPercentExpected = (100.0 * (lv_tick / lv_progressTime));
        lv_progressPercentExpected = libSCPL_gf_NormalizeBuildingProgress(lv_progressPercentExpected);
        if ((UnitIsAlive(lv_progressUnit) == false)) {
            break;
        }
        lv_tickCostMinerals = (lv_tickCostBaseMinerals + lv_tickCostCarryOverMinerals);
        lv_tickCostVespene = (lv_tickCostBaseVespene + lv_tickCostCarryOverVespene);
        lv_tickCostCarryOverMinerals = ModF(lv_tickCostMinerals, 1.0);
        lv_tickCostCarryOverVespene = ModF(lv_tickCostVespene, 1.0);
        if (((lv_tickTotalMinerals + Round(lv_tickCostMinerals)) >= lv_totalCostMinerals) && ((lv_tickTotalVespene + Round(lv_tickCostVespene)) >= lv_totalCostVespene)) {
            lv_tickCostMinerals = (lv_totalCostMinerals - lv_tickTotalMinerals);
            lv_tickCostVespene = (lv_totalCostVespene - lv_tickTotalVespene);
            lv_progressIsComplete = true;
        }
        lv_progressCostMinerals = Trunc(lv_tickCostMinerals);
        lv_progressCostVespene = Trunc(lv_tickCostVespene);
        if (((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < lv_progressCostMinerals) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < lv_progressCostVespene))) {
            ActorSendTo(libNtve_gf_MainActorofUnit(lv_progressUnit), "_ProtossBuildModel", "AnimSetTimeScaleGlobal 1000.000000 Stand");
            ActorSendTo(libNtve_gf_MainActorofUnit(lv_progressUnit), "_ZergBuildModel", "AnimSetTimeScaleGlobal 1000.000000 Stand");
            libSCPL_gf_UnitStatusPauseProgressUnit(lv_progressUnit, lv_progressUnit, lv_progressIndex, true);
            while ((UnitIsAlive(lv_progressUnit) == true) && ((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < Trunc(lv_tickCostMinerals)) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < Trunc(lv_tickCostVespene)))) {
                Wait(lv_tickIncrement, c_timeGame);
            }
            if ((UnitIsAlive(lv_progressUnit) == false)) {
                break;
            }
            libSCPL_gf_UnitStatusPauseProgressUnit(lv_progressUnit, lv_progressUnit, lv_progressIndex, false);
            ActorSendTo(libNtve_gf_MainActorofUnit(lv_progressUnit), "_ProtossBuildModel", "AnimSetTimeScaleGlobal 1.000000 Stand");
            ActorSendTo(libNtve_gf_MainActorofUnit(lv_progressUnit), "_ZergBuildModel", "AnimSetTimeScaleGlobal 1.000000 Stand");
        }
        lv_tickTotalMinerals += lv_progressCostMinerals;
        lv_tickTotalVespene += lv_progressCostVespene;
        libSCPL_gf_PlayerResourcesSubtract(lv_playerIndex, lv_progressCostMinerals, lv_progressCostVespene);
        libSCPL_gf_UnitProgressRefundSet(lv_progressUnit, 3, lv_tickTotalMinerals);
        libSCPL_gf_UnitProgressRefundSet(lv_progressUnit, 4, lv_tickTotalVespene);
        Wait(lv_tickIncrement, c_timeGame);
    }
    libSCPL_gf_ResourceDisplaySpendSubtract(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressBuildingStart_Init () {
    libSCPL_gt_ProgressBuildingStart = TriggerCreate("libSCPL_gt_ProgressBuildingStart_Func");
    TriggerAddEventUnitConstructProgress(libSCPL_gt_ProgressBuildingStart, null, c_unitProgressStageStart);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Building SCV Start
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressBuildingSCVStart_Func (bool testConds, bool runActions) {
    fixed auto409584AE_ae;
    fixed auto409584AE_ai;

    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    unit lv_progressUnit;
    string lv_progressUnitType;
    fixed lv_totalCostMinerals;
    fixed lv_totalCostVespene;
    fixed lv_progressCostMinerals;
    fixed lv_progressCostVespene;
    fixed lv_progressTime;
    int lv_progressIndex;
    fixed lv_progressPercent;
    fixed lv_progressPercentParent;
    fixed lv_expectedTime;
    fixed lv_tick;
    fixed lv_tickIncrement;
    fixed lv_tickCostBaseMinerals;
    fixed lv_tickCostBaseVespene;
    fixed lv_tickCostCarryOverMinerals;
    fixed lv_tickCostCarryOverVespene;
    fixed lv_tickCostMinerals;
    fixed lv_tickCostVespene;
    fixed lv_tickTotalMinerals;
    fixed lv_tickTotalVespene;
    bool lv_progressIsComplete;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }

        if (!((UnitGetType(EventUnit()) == "SCV"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    Wait(0.0, c_timeGame);
    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressUnit = EventUnitProgressUnit();
    lv_progressIndex = 1;
    lv_tickIncrement = libSCPL_gv_constants.lv_spendTickIncrement;
    lv_progressUnitType = libNtve_gf_TriggeringProgressUnitType();
    lv_totalCostMinerals = UnitTypeGetCost(lv_progressUnitType, c_unitCostMinerals);
    lv_totalCostVespene = UnitTypeGetCost(lv_progressUnitType, c_unitCostVespene);
    lv_progressTime = libSCPL_gf_GetBuildTime((lv_progressUnitType));
    lv_tickCostBaseMinerals = (lv_totalCostMinerals / (lv_progressTime / lv_tickIncrement));
    lv_tickCostBaseVespene = (lv_totalCostVespene / (lv_progressTime / lv_tickIncrement));
    libSCPL_gf_ResourceDisplaySpendAdd(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    auto409584AE_ae = (lv_progressTime - lv_tickIncrement);
    auto409584AE_ai = lv_tickIncrement;
    lv_tick = 0.0;
    for ( ; ( (auto409584AE_ai >= 0 && lv_tick <= auto409584AE_ae) || (auto409584AE_ai <= 0 && lv_tick >= auto409584AE_ae) ) ; lv_tick += auto409584AE_ai ) {
        lv_progressPercent = UnitGetProgressComplete(lv_progressUnit, lv_progressIndex);
        lv_progressPercentParent = UnitGetProgressComplete(lv_parentUnit, lv_progressIndex);
        if ((lv_progressPercent != lv_progressPercentParent)) {
            libSCPL_gf_BuildingPauseStateSet(lv_progressUnit, true);
            break;
        }
        if ((UnitIsAlive(lv_progressUnit) == false)) {
            break;
        }
        lv_tickCostMinerals = (lv_tickCostBaseMinerals + lv_tickCostCarryOverMinerals);
        lv_tickCostVespene = (lv_tickCostBaseVespene + lv_tickCostCarryOverVespene);
        lv_tickCostCarryOverMinerals = ModF(lv_tickCostMinerals, 1.0);
        lv_tickCostCarryOverVespene = ModF(lv_tickCostVespene, 1.0);
        if (((lv_tickTotalMinerals + Round(lv_tickCostMinerals)) >= lv_totalCostMinerals) && ((lv_tickTotalVespene + Round(lv_tickCostVespene)) >= lv_totalCostVespene)) {
            lv_tickCostMinerals = (lv_totalCostMinerals - lv_tickTotalMinerals);
            lv_tickCostVespene = (lv_totalCostVespene - lv_tickTotalVespene);
            lv_progressIsComplete = true;
        }
        lv_progressCostMinerals = Trunc(lv_tickCostMinerals);
        lv_progressCostVespene = Trunc(lv_tickCostVespene);
        if (((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < lv_progressCostMinerals) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < lv_progressCostVespene))) {
            libSCPL_gf_UnitStatusPauseProgressBar(lv_progressUnit, lv_parentUnit, lv_progressIndex, true);
            while ((UnitIsAlive(lv_progressUnit) == true) && (lv_progressPercent == lv_progressPercentParent) && ((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < Trunc(lv_tickCostMinerals)) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < Trunc(lv_tickCostVespene)))) {
                lv_progressPercent = UnitGetProgressComplete(lv_progressUnit, lv_progressIndex);
                lv_progressPercentParent = UnitGetProgressComplete(lv_parentUnit, lv_progressIndex);
                Wait(lv_tickIncrement, c_timeGame);
            }
            libSCPL_gf_UnitStatusPauseProgressBar(lv_progressUnit, lv_parentUnit, lv_progressIndex, false);
            libSCPL_gf_UnitStatusPauseProgressBar(lv_progressUnit, lv_parentUnit, lv_progressIndex, true);
            libSCPL_gf_BuildingPauseStateSet(lv_progressUnit, true);
            break;
        }
        if ((UnitIsAlive(lv_progressUnit) == false)) {
            break;
        }
        if ((lv_progressPercent != lv_progressPercentParent)) {
            libSCPL_gf_BuildingPauseStateSet(lv_progressUnit, true);
            break;
        }
        lv_tickTotalMinerals += lv_progressCostMinerals;
        lv_tickTotalVespene += lv_progressCostVespene;
        libSCPL_gf_PlayerResourcesSubtract(lv_playerIndex, lv_progressCostMinerals, lv_progressCostVespene);
        libSCPL_gf_UnitProgressRefundSet(lv_progressUnit, 3, lv_tickTotalMinerals);
        libSCPL_gf_UnitProgressRefundSet(lv_progressUnit, 4, lv_tickTotalVespene);
        libSCPL_gf_UnitProgressCarryOverSet(lv_progressUnit, 5, lv_tickCostCarryOverMinerals);
        libSCPL_gf_UnitProgressCarryOverSet(lv_progressUnit, 6, lv_tickCostCarryOverVespene);
        Wait(lv_tickIncrement, c_timeGame);
    }
    libSCPL_gf_ResourceDisplaySpendSubtract(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressBuildingSCVStart_Init () {
    libSCPL_gt_ProgressBuildingSCVStart = TriggerCreate("libSCPL_gt_ProgressBuildingSCVStart_Func");
    TriggerAddEventUnitConstructProgress(libSCPL_gt_ProgressBuildingSCVStart, null, c_unitProgressStageStart);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Building SCV Resume
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressBuildingSCVResume_Func (bool testConds, bool runActions) {
    fixed auto9D6C6B4C_ae;
    fixed auto9D6C6B4C_ai;

    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    unit lv_progressUnit;
    string lv_progressUnitType;
    fixed lv_totalCostMinerals;
    fixed lv_totalCostVespene;
    fixed lv_progressCostMinerals;
    fixed lv_progressCostVespene;
    fixed lv_progressTime;
    int lv_progressIndex;
    fixed lv_progressPercent;
    fixed lv_progressPercentParent;
    fixed lv_expectedTime;
    fixed lv_tick;
    fixed lv_tickStart;
    fixed lv_tickIncrement;
    fixed lv_tickCostBaseMinerals;
    fixed lv_tickCostBaseVespene;
    fixed lv_tickCostCarryOverMinerals;
    fixed lv_tickCostCarryOverVespene;
    fixed lv_tickCostMinerals;
    fixed lv_tickCostVespene;
    fixed lv_tickTotalMinerals;
    fixed lv_tickTotalVespene;
    bool lv_progressIsComplete;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }

        if (!((UnitGetType(EventUnit()) == "SCV"))) {
            return false;
        }

        if (!((libSCPL_gf_BuildingPauseState(EventUnitProgressUnit()) == true))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libSCPL_gf_BuildingPauseStateSet(EventUnitProgressUnit(), false);
    Wait(0.0, c_timeGame);
    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressUnit = EventUnitProgressUnit();
    lv_progressIndex = 1;
    lv_tickIncrement = libSCPL_gv_constants.lv_spendTickIncrement;
    lv_progressUnitType = libNtve_gf_TriggeringProgressUnitType();
    lv_totalCostMinerals = UnitTypeGetCost(lv_progressUnitType, c_unitCostMinerals);
    lv_totalCostVespene = UnitTypeGetCost(lv_progressUnitType, c_unitCostVespene);
    lv_progressTime = libSCPL_gf_GetBuildTime((lv_progressUnitType));
    lv_tickCostBaseMinerals = (lv_totalCostMinerals / (lv_progressTime / lv_tickIncrement));
    lv_tickCostBaseVespene = (lv_totalCostVespene / (lv_progressTime / lv_tickIncrement));
    libSCPL_gf_ResourceDisplaySpendAdd(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    lv_progressPercent = UnitGetProgressComplete(lv_progressUnit, lv_progressIndex);
    lv_progressPercentParent = UnitGetProgressComplete(lv_parentUnit, lv_progressIndex);
    lv_tickStart = ((lv_progressPercent / 100.0) * lv_progressTime);
    lv_tickStart = (lv_tickStart - ModF(lv_tickStart, lv_tickIncrement));
    lv_tickTotalMinerals = libSCPL_gf_UnitProgressRefund(lv_progressUnit, 3);
    lv_tickTotalVespene = libSCPL_gf_UnitProgressRefund(lv_progressUnit, 4);
    lv_tickCostCarryOverMinerals = libSCPL_gf_UnitProgressCarryOver(lv_progressUnit, 5);
    lv_tickCostCarryOverVespene = libSCPL_gf_UnitProgressCarryOver(lv_progressUnit, 6);
    auto9D6C6B4C_ae = (lv_progressTime - lv_tickIncrement);
    auto9D6C6B4C_ai = lv_tickIncrement;
    lv_tick = lv_tickStart;
    for ( ; ( (auto9D6C6B4C_ai >= 0 && lv_tick <= auto9D6C6B4C_ae) || (auto9D6C6B4C_ai <= 0 && lv_tick >= auto9D6C6B4C_ae) ) ; lv_tick += auto9D6C6B4C_ai ) {
        lv_progressPercent = UnitGetProgressComplete(lv_progressUnit, lv_progressIndex);
        lv_progressPercentParent = UnitGetProgressComplete(lv_parentUnit, lv_progressIndex);
        if ((lv_progressPercent != lv_progressPercentParent)) {
            libSCPL_gf_BuildingPauseStateSet(lv_progressUnit, true);
            break;
        }
        if ((UnitIsAlive(lv_progressUnit) == false)) {
            break;
        }
        lv_tickCostMinerals = (lv_tickCostBaseMinerals + lv_tickCostCarryOverMinerals);
        lv_tickCostVespene = (lv_tickCostBaseVespene + lv_tickCostCarryOverVespene);
        lv_tickCostCarryOverMinerals = ModF(lv_tickCostMinerals, 1.0);
        lv_tickCostCarryOverVespene = ModF(lv_tickCostVespene, 1.0);
        if (((lv_tickTotalMinerals + Round(lv_tickCostMinerals)) >= lv_totalCostMinerals) && ((lv_tickTotalVespene + Round(lv_tickCostVespene)) >= lv_totalCostVespene)) {
            lv_tickCostMinerals = (lv_totalCostMinerals - lv_tickTotalMinerals);
            lv_tickCostVespene = (lv_totalCostVespene - lv_tickTotalVespene);
            lv_progressIsComplete = true;
        }
        lv_progressCostMinerals = Trunc(lv_tickCostMinerals);
        lv_progressCostVespene = Trunc(lv_tickCostVespene);
        if (((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < lv_progressCostMinerals) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < lv_progressCostVespene))) {
            libSCPL_gf_UnitStatusPauseProgressBar(lv_progressUnit, lv_parentUnit, lv_progressIndex, true);
            while ((UnitIsAlive(lv_progressUnit) == true) && (lv_progressPercent == lv_progressPercentParent) && ((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < Trunc(lv_tickCostMinerals)) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < Trunc(lv_tickCostVespene)))) {
                lv_progressPercent = UnitGetProgressComplete(lv_progressUnit, lv_progressIndex);
                lv_progressPercentParent = UnitGetProgressComplete(lv_parentUnit, lv_progressIndex);
                Wait(lv_tickIncrement, c_timeGame);
            }
            libSCPL_gf_UnitStatusPauseProgressBar(lv_progressUnit, lv_parentUnit, lv_progressIndex, false);
            libSCPL_gf_UnitStatusPauseProgressBar(lv_progressUnit, lv_parentUnit, lv_progressIndex, true);
            libSCPL_gf_BuildingPauseStateSet(lv_progressUnit, true);
            break;
        }
        if ((UnitIsAlive(lv_progressUnit) == false)) {
            break;
        }
        if ((lv_progressPercent != lv_progressPercentParent)) {
            libSCPL_gf_BuildingPauseStateSet(lv_progressUnit, true);
            break;
        }
        lv_tickTotalMinerals += lv_progressCostMinerals;
        lv_tickTotalVespene += lv_progressCostVespene;
        libSCPL_gf_PlayerResourcesSubtract(lv_playerIndex, lv_progressCostMinerals, lv_progressCostVespene);
        libSCPL_gf_UnitProgressRefundSet(lv_progressUnit, 3, lv_tickTotalMinerals);
        libSCPL_gf_UnitProgressRefundSet(lv_progressUnit, 4, lv_tickTotalVespene);
        libSCPL_gf_UnitProgressCarryOverSet(lv_progressUnit, 5, lv_tickCostCarryOverMinerals);
        libSCPL_gf_UnitProgressCarryOverSet(lv_progressUnit, 6, lv_tickCostCarryOverVespene);
        libSCPL_gf_UnitStatusPauseProgressBar(lv_progressUnit, lv_parentUnit, lv_progressIndex, false);
        Wait(lv_tickIncrement, c_timeGame);
    }
    libSCPL_gf_ResourceDisplaySpendSubtract(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressBuildingSCVResume_Init () {
    libSCPL_gt_ProgressBuildingSCVResume = TriggerCreate("libSCPL_gt_ProgressBuildingSCVResume_Func");
    TriggerAddEventUnitConstructProgress(libSCPL_gt_ProgressBuildingSCVResume, null, c_unitProgressStageResume);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Building SCV Refund Undo
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressBuildingSCVRefundUndo_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    string lv_triggeringAbility;
    string lv_registerName;
    string lv_progressUnitType;
    int lv_progressIndex;
    int lv_costMinerals;
    int lv_costVespene;
    fixed lv_costTime;

    // Variable Initialization
    lv_registerName = "";

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressIndex = AbilityCommandGetCommand(EventUnitAbility());
    lv_triggeringAbility = AbilityCommandGetAbility(EventUnitAbility());
    lv_registerName = CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, "InfoArray[" + IntToString(lv_progressIndex) + "].Unit", c_playerAny);
    lv_progressUnitType = (CatalogFieldValueGet(c_gameCatalogAbil, lv_triggeringAbility, ("InfoArray[" + IntToString(lv_progressIndex) + "].Unit[0]"), c_playerAny));
    lv_costMinerals = UnitTypeGetCost(lv_progressUnitType, c_unitCostMinerals);
    lv_costVespene = UnitTypeGetCost(lv_progressUnitType, c_unitCostVespene);
    if ((UnitGetType(EventUnitTargetUnit()) == (lv_registerName))) {
        return true;
    }
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperSubtract, lv_costMinerals);
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperSubtract, lv_costVespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressBuildingSCVRefundUndo_Init () {
    libSCPL_gt_ProgressBuildingSCVRefundUndo = TriggerCreate("libSCPL_gt_ProgressBuildingSCVRefundUndo_Func");
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 1), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 11), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 8), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 2), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 5), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 9), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 15), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 10), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 4), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 0), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 6), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 3), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_ProgressBuildingSCVRefundUndo, null, AbilityCommand("TerranBuild", 13), c_unitAbilStageCancel, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Building Cancel
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressBuildingCancel_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unit lv_progressUnit;
    fixed lv_resourceRefundMinerals;
    fixed lv_resourceRefundVespene;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_progressUnit = EventUnitProgressUnit();
    lv_playerIndex = UnitGetOwner(lv_progressUnit);
    lv_resourceRefundMinerals = libSCPL_gf_UnitProgressRefund(lv_progressUnit, 3);
    lv_resourceRefundVespene = libSCPL_gf_UnitProgressRefund(lv_progressUnit, 4);
    lv_resourceRefundMinerals *= 0.75;
    lv_resourceRefundVespene *= 0.75;
    libSCPL_gf_PlayerResourcesAdd(lv_playerIndex, Trunc(lv_resourceRefundMinerals), Trunc(lv_resourceRefundVespene));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressBuildingCancel_Init () {
    libSCPL_gt_ProgressBuildingCancel = TriggerCreate("libSCPL_gt_ProgressBuildingCancel_Func");
    TriggerAddEventUnitConstructProgress(libSCPL_gt_ProgressBuildingCancel, null, c_unitProgressStageCancel);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Unit Start Refund
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressUnitStartRefund_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    string lv_progressUnitType;
    int lv_progressIndex;
    int lv_costMinerals;
    int lv_costVespene;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressIndex = AbilityCommandGetCommand(OrderGetAbilityCommand(EventUnitOrder()));
    lv_progressUnitType = (CatalogFieldValueGet(c_gameCatalogAbil, AbilityCommandGetAbility(OrderGetAbilityCommand(EventUnitOrder())), ("InfoArray[" + IntToString(lv_progressIndex) + "].Unit[0]"), c_playerAny));
    lv_costMinerals = UnitTypeGetCost(lv_progressUnitType, c_unitCostMinerals);
    lv_costVespene = UnitTypeGetCost(lv_progressUnitType, c_unitCostVespene);
    if ((EventUnitOrder() == Order(AbilityCommand("LarvaTrain", 1)))) {
        lv_costMinerals = (lv_costMinerals * 2);
    }
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperAdd, lv_costMinerals);
    PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperAdd, lv_costVespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressUnitStartRefund_Init () {
    libSCPL_gt_ProgressUnitStartRefund = TriggerCreate("libSCPL_gt_ProgressUnitStartRefund_Func");
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("BarracksTrain", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("BarracksTrain", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("BarracksTrain", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("BarracksTrain", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("FactoryTrain", 5));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("FactoryTrain", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("FactoryTrain", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("StarportTrain", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("StarportTrain", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("StarportTrain", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("StarportTrain", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("StarportTrain", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("FactoryTrain", 24));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("FactoryTrain", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("FactoryTrain", 7));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("StarportTrain", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("NexusTrainMothership", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("GatewayTrain", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("GatewayTrain", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("GatewayTrain", 5));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("GatewayTrain", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("GatewayTrain", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("RoboticsFacilityTrain", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("RoboticsFacilityTrain", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("RoboticsFacilityTrain", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("RoboticsFacilityTrain", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("StargateTrain", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("StargateTrain", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("StargateTrain", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("NexusTrainMothershipCore", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("StargateTrain", 9));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("StargateTrain", 8));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("GatewayTrain", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("WarpGateTrain", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("RoboticsFacilityTrain", 18));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("TrainQueen", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("LarvaTrain", 2));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("LarvaTrain", 1));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("LarvaTrain", 9));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("LarvaTrain", 3));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("LarvaTrain", 4));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("LarvaTrain", 10));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("LarvaTrain", 6));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("LarvaTrain", 11));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("MorphZerglingToBaneling", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("LarvaTrain", 14));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("LarvaTrain", 12));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("MorphToRavager", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("MorphToLurker", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_ProgressUnitStartRefund, null, AbilityCommand("MorphToLurker", 0));
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Unit Start
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressUnitStart_Func (bool testConds, bool runActions) {
    fixed auto2BFF4CD1_ae;
    fixed auto2BFF4CD1_ai;

    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    string lv_progressUnitType;
    fixed lv_progressCostMinerals;
    fixed lv_progressCostVespene;
    fixed lv_progressTime;
    int lv_progressIndex;
    fixed lv_progressPercent;
    fixed lv_tick;
    fixed lv_tickIncrement;
    fixed lv_tickCostBaseMinerals;
    fixed lv_tickCostBaseVespene;
    fixed lv_tickCostCarryOverMinerals;
    fixed lv_tickCostCarryOverVespene;
    fixed lv_tickCostMinerals;
    fixed lv_tickCostVespene;
    fixed lv_tickTotalMinerals;
    fixed lv_tickTotalVespene;
    fixed lv_expectedTime;
    bool lv_progressIsCancelled;
    bool lv_progressIsPaused;
    bool lv_slotTimeAreEqual;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_progressUnitType = libNtve_gf_TriggeringProgressUnitType();
    lv_progressCostMinerals = UnitTypeGetCost(lv_progressUnitType, c_unitCostMinerals);
    lv_progressCostVespene = UnitTypeGetCost(lv_progressUnitType, c_unitCostVespene);
    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressIndex = libSCPL_gf_UsedTrainingSlotCount(lv_parentUnit);
    lv_progressTime = Round(UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeTotal, lv_progressIndex));
    lv_tickIncrement = libSCPL_gv_constants.lv_spendTickIncrement;
    lv_tickCostBaseMinerals = (lv_progressCostMinerals / (lv_progressTime / lv_tickIncrement));
    lv_tickCostBaseVespene = (lv_progressCostVespene / (lv_progressTime / lv_tickIncrement));
    if ((lv_progressIndex == 1)) {
        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
    }
    else if ((lv_progressIndex == 2)) {
        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 1.0);
    }
    libSCPL_gf_ResourceDisplaySpendAdd(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    Wait(0.0, c_timeGame);
    auto2BFF4CD1_ae = (lv_progressTime - lv_tickIncrement);
    auto2BFF4CD1_ai = lv_tickIncrement;
    lv_tick = 0.0625;
    for ( ; ( (auto2BFF4CD1_ai >= 0 && lv_tick <= auto2BFF4CD1_ae) || (auto2BFF4CD1_ai <= 0 && lv_tick >= auto2BFF4CD1_ae) ) ; lv_tick += auto2BFF4CD1_ai ) {
        lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
        if ((lv_progressIndex == 1) && (lv_tick != lv_expectedTime)) {
            lv_progressIsCancelled = true;
            break;
        }
        if ((lv_progressIndex == 2) && (lv_tick != lv_expectedTime)) {
            lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
            if ((lv_tick == lv_expectedTime)) {
                lv_progressIndex = 1;
                libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
                libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 0.0);
            }
            else {
                lv_progressIsCancelled = true;
                break;
            }
        }
        if ((lv_progressIndex == 1) && (libSCPL_gf_UnitProgressState(lv_parentUnit, 1) == 0.0)) {
            libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
        }
        if ((lv_progressIndex == 2) && (libSCPL_gf_UnitProgressState(lv_parentUnit, 2) == 0.0)) {
            libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 1.0);
            libSCPL_gf_DebugPanelUpdateSpendOverTime();
        }
        if ((UnitIsAlive(lv_parentUnit) == false)) {
            lv_progressIsCancelled = false;
            break;
        }
        lv_tickCostMinerals = (lv_tickCostBaseMinerals + lv_tickCostCarryOverMinerals);
        lv_tickCostVespene = (lv_tickCostBaseVespene + lv_tickCostCarryOverVespene);
        lv_tickCostCarryOverMinerals = ModF(lv_tickCostMinerals, 1.0);
        lv_tickCostCarryOverVespene = ModF(lv_tickCostVespene, 1.0);
        if ((lv_tick == (lv_progressTime - lv_tickIncrement))) {
            lv_tickCostMinerals = (lv_progressCostMinerals - lv_tickTotalMinerals);
            lv_tickCostVespene = (lv_progressCostVespene - lv_tickTotalVespene);
        }
        lv_tickTotalMinerals = (lv_tickTotalMinerals + Trunc(lv_tickCostMinerals));
        lv_tickTotalVespene = (lv_tickTotalVespene + Trunc(lv_tickCostVespene));
        if ((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) >= Trunc(lv_tickCostMinerals)) && (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) >= Trunc(lv_tickCostVespene))) {
            libSCPL_gf_PlayerResourcesSubtract(lv_playerIndex, Trunc(lv_tickCostMinerals), Trunc(lv_tickCostVespene));
        }
        else {
            libSCPL_gf_UnitStatusPauseProgressBar(lv_parentUnit, lv_parentUnit, lv_progressIndex, true);
            lv_progressIsPaused = true;
            while ((lv_progressIsCancelled == false) && (UnitIsAlive(lv_parentUnit) == true) && ((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < Trunc(lv_tickCostMinerals)) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < Trunc(lv_tickCostVespene)))) {
                lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
                if ((UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1) == UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 2)) && (libNtve_gf_QueuedUnitTypeInTrainingQueueSlot(lv_parentUnit, 1, 1) == libNtve_gf_QueuedUnitTypeInTrainingQueueSlot(lv_parentUnit, 2, 1))) {
                    lv_slotTimeAreEqual = true;
                }
                if ((lv_progressIndex == 1) && (lv_tick != lv_expectedTime)) {
                    lv_progressIsCancelled = true;
                }
                if ((lv_progressIndex == 2) && (lv_tick != lv_expectedTime)) {
                    lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
                    if ((lv_tick == lv_expectedTime) && (lv_slotTimeAreEqual == false)) {
                        lv_progressIndex = 1;
                        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
                        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 0.0);
                    }
                    else {
                        lv_progressIsCancelled = true;
                    }
                }
                if ((lv_progressIsCancelled == true)) {
                    break;
                }
                Wait(libSCPL_gf_TickIncrementActual(lv_parentUnit), c_timeGame);
            }
            if ((UnitIsAlive(lv_parentUnit) == true)) {
                libSCPL_gf_PlayerResourcesSubtract(lv_playerIndex, Trunc(lv_tickCostMinerals), Trunc(lv_tickCostVespene));
                if ((lv_progressIsCancelled == true)) {
                    break;
                }
                if ((lv_progressIndex == 2) && (lv_tick != UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 2)) && (lv_tick == UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1))) {
                    lv_progressIndex = 1;
                    libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
                    libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 0.0);
                }

            }
        }
        if ((lv_progressIsPaused == true)) {
            lv_progressIsPaused = false;
            lv_slotTimeAreEqual = false;
            libSCPL_gf_UnitStatusPauseProgressBar(lv_parentUnit, lv_parentUnit, lv_progressIndex, false);
        }
        if ((lv_tick == 0.0625)) {
            lv_tick = 0.0;
            libSCPL_gf_UnitStatusPauseProgressBar(lv_parentUnit, lv_parentUnit, lv_progressIndex, true);
            Wait(0.0625, c_timeGame);
            libSCPL_gf_UnitStatusPauseProgressBar(lv_parentUnit, lv_parentUnit, lv_progressIndex, false);
            Wait((libSCPL_gf_TickIncrementActual(lv_parentUnit) - 0.0625), c_timeGame);
            continue;
        }
        if ((lv_tick == (lv_progressTime - lv_tickIncrement))) {
            Wait((libSCPL_gf_TickIncrementActual(lv_parentUnit) - 0.0625), c_timeGame);
            lv_tick += (lv_tickIncrement - 0.0625);
            lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
            if ((lv_progressIndex == 1) && (lv_tick != lv_expectedTime)) {
                lv_progressIsCancelled = true;
            }
            if ((lv_progressIndex == 2) && (lv_tick != lv_expectedTime)) {
                lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
                if ((lv_tick != lv_expectedTime)) {
                    lv_progressIsCancelled = true;
                }

            }
            continue;
        }
        Wait(libSCPL_gf_TickIncrementActual(lv_parentUnit), c_timeGame);
    }
    libSCPL_gf_ResourceDisplaySpendSubtract(lv_playerIndex, lv_tickCostBaseMinerals, lv_tickCostBaseVespene);
    if ((lv_progressUnitType == "Baneling")) {
        lv_tickTotalMinerals *= 0.75;
        lv_tickTotalVespene *= 0.75;
    }
    if ((lv_progressIsCancelled == true)) {
        libSCPL_gf_PlayerResourcesAdd(lv_playerIndex, Trunc(lv_tickTotalMinerals), Trunc(lv_tickTotalVespene));
    }
    if ((lv_progressIndex == 1)) {
        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 0.0);
    }
    else if ((lv_progressIndex == 2)) {
        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 0.0);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressUnitStart_Init () {
    libSCPL_gt_ProgressUnitStart = TriggerCreate("libSCPL_gt_ProgressUnitStart_Func");
    TriggerAddEventUnitTrainProgress(libSCPL_gt_ProgressUnitStart, null, c_unitProgressStageStart);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Nydus Worm Upfront Cost Adjustment
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressNydusWormUpfrontCostAdjustment_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    fixed lv_progressCostMinerals;
    fixed lv_progressCostVespene;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }

        if (!((libNtve_gf_TriggeringProgressUnitType() == "NydusCanal"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_progressCostMinerals = UnitTypeGetCost(libNtve_gf_TriggeringProgressUnitType(), c_unitCostTerrazine);
    lv_progressCostVespene = UnitTypeGetCost(libNtve_gf_TriggeringProgressUnitType(), c_unitCostCustomResource);
    libSCPL_gf_PlayerResourcesSubtract(lv_playerIndex, lv_progressCostMinerals, lv_progressCostVespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressNydusWormUpfrontCostAdjustment_Init () {
    libSCPL_gt_ProgressNydusWormUpfrontCostAdjustment = TriggerCreate("libSCPL_gt_ProgressNydusWormUpfrontCostAdjustment_Func");
    TriggerAddEventUnitConstructProgress(libSCPL_gt_ProgressNydusWormUpfrontCostAdjustment, null, c_unitProgressStageStart);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Warpgate Unit Upfront Cost Adjustment
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressWarpgateUnitUpfrontCostAdjustment_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    fixed lv_progressCostMinerals;
    fixed lv_progressCostVespene;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }

        if (!(((libNtve_gf_TriggeringProgressUnitType() == "WarpAdept") || (libNtve_gf_TriggeringProgressUnitType() == "WarpDarkTemplar") || (libNtve_gf_TriggeringProgressUnitType() == "WarpHighTemplar") || (libNtve_gf_TriggeringProgressUnitType() == "WarpSentry") || (libNtve_gf_TriggeringProgressUnitType() == "WarpStalker") || (libNtve_gf_TriggeringProgressUnitType() == "WarpZealot")))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_progressCostMinerals = UnitTypeGetCost(libNtve_gf_TriggeringProgressUnitType(), c_unitCostTerrazine);
    lv_progressCostVespene = UnitTypeGetCost(libNtve_gf_TriggeringProgressUnitType(), c_unitCostCustomResource);
    libSCPL_gf_PlayerResourcesSubtract(lv_playerIndex, lv_progressCostMinerals, lv_progressCostVespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressWarpgateUnitUpfrontCostAdjustment_Init () {
    libSCPL_gt_ProgressWarpgateUnitUpfrontCostAdjustment = TriggerCreate("libSCPL_gt_ProgressWarpgateUnitUpfrontCostAdjustment_Func");
    TriggerAddEventUnitConstructProgress(libSCPL_gt_ProgressWarpgateUnitUpfrontCostAdjustment, null, c_unitProgressStageStart);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Warpgate Unit Swap
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressWarpgateUnitSwap_Func (bool testConds, bool runActions) {
    string auto3231D83E_val;

    // Variable Declarations
    string lv_unitActual;
    bool lv_unitSelected;
    unitgroup lv_playerSelectedUnits;

    // Variable Initialization
    lv_playerSelectedUnits = UnitGroupEmpty();

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    auto3231D83E_val = UnitGetType(EventUnitProgressUnit());
    if (auto3231D83E_val == "WarpZealot") {
        lv_unitActual = "Zealot";
    }
    else if (auto3231D83E_val == "WarpStalker") {
        lv_unitActual = "Stalker";
    }
    else if (auto3231D83E_val == "WarpSentry") {
        lv_unitActual = "Sentry";
    }
    else if (auto3231D83E_val == "WarpHighTemplar") {
        lv_unitActual = "HighTemplar";
    }
    else if (auto3231D83E_val == "WarpDarkTemplar") {
        lv_unitActual = "DarkTemplar";
    }
    else if (auto3231D83E_val == "WarpAdept") {
        lv_unitActual = "Adept";
    }
    else {
    }
    if ((lv_unitActual != null)) {
        lv_playerSelectedUnits = UnitGroupSelected(EventPlayer());
        if ((UnitGroupHasUnit(lv_playerSelectedUnits, EventUnitProgressUnit()) == true)) {
            lv_unitSelected = true;
        }
        UnitSelect(EventUnitProgressUnit(), EventPlayer(), true);
        libNtve_gf_ReplaceUnit(EventUnitProgressUnit(), lv_unitActual, libNtve_ge_ReplaceUnitOptions_OldUnitsRelative);
        if ((lv_unitSelected == true)) {
            UnitGroupAdd(lv_playerSelectedUnits, libNtve_gf_LastReplacedUnit());
            UnitGroupSelect(lv_playerSelectedUnits, EventPlayer(), true);
        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressWarpgateUnitSwap_Init () {
    libSCPL_gt_ProgressWarpgateUnitSwap = TriggerCreate("libSCPL_gt_ProgressWarpgateUnitSwap_Func");
    TriggerAddEventUnitConstructProgress(libSCPL_gt_ProgressWarpgateUnitSwap, null, c_unitProgressStageComplete);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Unit Start Commented
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressUnitStartCommented_Func (bool testConds, bool runActions) {
    fixed auto380E88ED_ae;
    fixed auto380E88ED_ai;

    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    string lv_progressUnitType;
    fixed lv_progressCostMinerals;
    fixed lv_progressCostVespene;
    fixed lv_progressTime;
    fixed lv_progressPercent;
    int lv_progressIndex;
    fixed lv_tick;
    fixed lv_tickIncrement;
    fixed lv_tickCostBaseMinerals;
    fixed lv_tickCostBaseVespene;
    fixed lv_tickCostCarryOverMinerals;
    fixed lv_tickCostCarryOverVespene;
    fixed lv_tickCostMinerals;
    fixed lv_tickCostVespene;
    fixed lv_tickTotalMinerals;
    fixed lv_tickTotalVespene;
    fixed lv_expectedTime;
    bool lv_progressIsCancelled;
    bool lv_progressIsPaused;
    bool lv_slotTimesAreEqual;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_progressUnitType = libNtve_gf_TriggeringProgressUnitType();
    lv_progressCostMinerals = UnitTypeGetCost(lv_progressUnitType, c_unitCostMinerals);
    lv_progressCostVespene = UnitTypeGetCost(lv_progressUnitType, c_unitCostVespene);
    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressIndex = libSCPL_gf_UsedTrainingSlotCount(lv_parentUnit);
    lv_progressTime = Round(UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeTotal, lv_progressIndex));
    lv_tickIncrement = libSCPL_gv_constants.lv_spendTickIncrement;
    lv_tickCostBaseMinerals = (lv_progressCostMinerals / (lv_progressTime / lv_tickIncrement));
    lv_tickCostBaseVespene = (lv_progressCostVespene / (lv_progressTime / lv_tickIncrement));
    if ((lv_progressIndex == 1)) {
        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
        UnitSetCustomValue(lv_parentUnit, 10, lv_tickCostBaseMinerals);
        UnitSetCustomValue(lv_parentUnit, 11, lv_tickCostBaseVespene);
        libPPRL_gf_DebugPanelSetFieldValue(2, (lv_progressUnitType));
    }
    else if ((lv_progressIndex == 2)) {
        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 1.0);
        UnitSetCustomValue(lv_parentUnit, 20, lv_tickCostBaseMinerals);
        UnitSetCustomValue(lv_parentUnit, 21, lv_tickCostBaseVespene);
        libPPRL_gf_DebugPanelSetFieldValue(5, (lv_progressUnitType));
    }
    libSCPL_gv_player[lv_playerIndex].lv_resourceSpendMinerals += lv_tickCostBaseMinerals;
    libSCPL_gv_player[lv_playerIndex].lv_resourceSpendVespene += lv_tickCostBaseVespene;
    Wait(0.0, c_timeGame);
    auto380E88ED_ae = (lv_progressTime - lv_tickIncrement);
    auto380E88ED_ai = lv_tickIncrement;
    lv_tick = 0.0625;
    for ( ; ( (auto380E88ED_ai >= 0 && lv_tick <= auto380E88ED_ae) || (auto380E88ED_ai <= 0 && lv_tick >= auto380E88ED_ae) ) ; lv_tick += auto380E88ED_ai ) {
        lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
        libPPRL_gf_DebugString((("Slot 1 |" + IntToString(lv_progressIndex) + " == ") + FixedToString(lv_expectedTime, 3) + " / " + FixedToString(lv_tick, 3) + " / " + FixedToString(UnitGetProgressComplete(lv_parentUnit, 1), c_fixedPrecisionAny)));
        lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 2);
        libPPRL_gf_DebugString((("Slot 2 |" + IntToString(lv_progressIndex) + " == ") + FixedToString(lv_expectedTime, 3) + " / " + FixedToString(lv_tick, 3) + " / " + FixedToString(UnitGetProgressComplete(lv_parentUnit, 2), c_fixedPrecisionAny)));
        lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
        if ((lv_progressIndex == 1) && (lv_tick != lv_expectedTime)) {
            libPPRL_gf_DebugString(("Cancel 1"));
            lv_progressIsCancelled = true;
            libSCPL_gf_DebugPanelUpdateSpendOverTime();
            break;
        }
        if ((lv_progressIndex == 2) && (lv_tick != lv_expectedTime)) {
            lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
            if ((lv_tick == lv_expectedTime)) {
                lv_progressIndex = 1;
                libPPRL_gf_DebugString(("Roll Over"));
                libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
                libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 0.0);
                UnitSetCustomValue(lv_parentUnit, 10, lv_tickCostBaseMinerals);
                UnitSetCustomValue(lv_parentUnit, 11, lv_tickCostBaseVespene);
                UnitSetCustomValue(lv_parentUnit, 20, 0.0);
                UnitSetCustomValue(lv_parentUnit, 21, 0.0);
                libPPRL_gf_DebugPanelSetFieldValue(2, (lv_progressUnitType));
            }
            else {
                lv_progressIsCancelled = true;
                libPPRL_gf_DebugString(("Cancel 2"));
                libSCPL_gf_DebugPanelUpdateSpendOverTime();
                break;
            }
        }
        if ((lv_progressIndex == 1)) {
            if ((libSCPL_gf_UnitProgressState(lv_parentUnit, 1) == 0.0)) {
                libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
                UnitSetCustomValue(lv_parentUnit, 10, lv_tickCostBaseMinerals);
                UnitSetCustomValue(lv_parentUnit, 11, lv_tickCostBaseVespene);
                libPPRL_gf_DebugPanelSetFieldValue(2, (lv_progressUnitType));
            }
            libSCPL_gf_DebugPanelUpdateSpendOverTime();
        }
        if ((lv_progressIndex == 2)) {
            if ((libSCPL_gf_UnitProgressState(lv_parentUnit, 2) == 0.0)) {
                libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 1.0);
                UnitSetCustomValue(lv_parentUnit, 20, lv_tickCostBaseMinerals);
                UnitSetCustomValue(lv_parentUnit, 21, lv_tickCostBaseVespene);
                libPPRL_gf_DebugPanelSetFieldValue(5, (lv_progressUnitType));
            }
            libSCPL_gf_DebugPanelUpdateSpendOverTime();
        }
        if ((UnitIsAlive(lv_parentUnit) == false)) {
            lv_progressIsCancelled = false;
            break;
        }
        lv_tickCostMinerals = (lv_tickCostBaseMinerals + lv_tickCostCarryOverMinerals);
        lv_tickCostVespene = (lv_tickCostBaseVespene + lv_tickCostCarryOverVespene);
        lv_tickCostCarryOverMinerals = ModF(lv_tickCostMinerals, 1.0);
        lv_tickCostCarryOverVespene = ModF(lv_tickCostVespene, 1.0);
        if ((lv_tick == (lv_progressTime - lv_tickIncrement))) {
            lv_tickCostMinerals = (lv_progressCostMinerals - lv_tickTotalMinerals);
            lv_tickCostVespene = (lv_progressCostVespene - lv_tickTotalVespene);
        }
        lv_tickTotalMinerals = (lv_tickTotalMinerals + Trunc(lv_tickCostMinerals));
        lv_tickTotalVespene = (lv_tickTotalVespene + Trunc(lv_tickCostVespene));
        if ((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) >= Trunc(lv_tickCostMinerals)) && (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) >= Trunc(lv_tickCostVespene))) {
            PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperSubtract, Trunc(lv_tickCostMinerals));
            PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperSubtract, Trunc(lv_tickCostVespene));
        }
        else {
            UnitSetProgressStage(lv_parentUnit, lv_progressIndex, c_unitProgressStagePause);
            lv_progressIsPaused = true;
            while ((lv_progressIsCancelled == false) && (UnitIsAlive(lv_parentUnit) == true) && ((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < Trunc(lv_tickCostMinerals)) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < Trunc(lv_tickCostVespene)))) {
                lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
                libPPRL_gf_DebugString((("Pause 1 |" + IntToString(lv_progressIndex) + " == ") + FixedToString(lv_expectedTime, 3) + " / " + FixedToString(lv_tick, 3) + " / " + FixedToString(UnitGetProgressComplete(lv_parentUnit, 1), c_fixedPrecisionAny)));
                lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 2);
                libPPRL_gf_DebugString((("Pause 2 |" + IntToString(lv_progressIndex) + " == ") + FixedToString(lv_expectedTime, 3) + " / " + FixedToString(lv_tick, 3) + " / " + FixedToString(UnitGetProgressComplete(lv_parentUnit, 2), c_fixedPrecisionAny)));
                lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
                if ((UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1) == UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 2)) && (libNtve_gf_QueuedUnitTypeInTrainingQueueSlot(lv_parentUnit, 1, 1) == libNtve_gf_QueuedUnitTypeInTrainingQueueSlot(lv_parentUnit, 2, 1))) {
                    lv_slotTimesAreEqual = true;
                }
                if ((lv_progressIndex == 1) && (lv_tick != lv_expectedTime)) {
                    libPPRL_gf_DebugString(("Pause Cancel 1"));
                    lv_progressIsCancelled = true;
                }
                if ((lv_progressIndex == 2) && (lv_tick != lv_expectedTime)) {
                    lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
                    if ((lv_tick == lv_expectedTime) && (lv_slotTimesAreEqual == false)) {
                        lv_progressIndex = 1;
                        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
                        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 0.0);
                        UnitSetCustomValue(lv_parentUnit, 10, lv_tickCostBaseMinerals);
                        UnitSetCustomValue(lv_parentUnit, 11, lv_tickCostBaseVespene);
                        UnitSetCustomValue(lv_parentUnit, 20, 0.0);
                        UnitSetCustomValue(lv_parentUnit, 21, 0.0);
                        libPPRL_gf_DebugString(("Pause Roll Over"));
                        libPPRL_gf_DebugPanelSetFieldValue(2, (lv_progressUnitType));
                    }
                    else {
                        libPPRL_gf_DebugString(("Pause Cancel 2"));
                        lv_progressIsCancelled = true;
                    }
                }
                if ((lv_progressIsCancelled == true)) {
                    break;
                }
                Wait(lv_tickIncrement, c_timeGame);
            }
            if ((UnitIsAlive(lv_parentUnit) == true)) {
                PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperSubtract, Trunc(lv_tickCostMinerals));
                PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperSubtract, Trunc(lv_tickCostVespene));
                if ((lv_progressIsCancelled == true)) {
                    break;
                }
                if ((lv_progressIndex == 2) && (lv_tick != UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 2)) && (lv_tick == UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1))) {
                    lv_progressIndex = 1;
                    libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
                    libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 0.0);
                    UnitSetCustomValue(lv_parentUnit, 10, lv_tickCostBaseMinerals);
                    UnitSetCustomValue(lv_parentUnit, 11, lv_tickCostBaseVespene);
                    UnitSetCustomValue(lv_parentUnit, 20, 0.0);
                    UnitSetCustomValue(lv_parentUnit, 21, 0.0);
                    libPPRL_gf_DebugString(("Resume Roll Over"));
                    libPPRL_gf_DebugPanelSetFieldValue(2, (lv_progressUnitType));
                }

                libPPRL_gf_DebugString(("Resume " + IntToString(lv_progressIndex)));
            }
        }
        if ((lv_progressIsPaused == true)) {
            lv_progressIsPaused = false;
            lv_slotTimesAreEqual = false;
            libPPRL_gf_DebugString(("CONTINUE"));
            UnitSetProgressStage(lv_parentUnit, lv_progressIndex, c_unitProgressStageResume);
        }
        if ((lv_tick == 0.0625)) {
            lv_tick = 0.0;
            UnitSetProgressStage(lv_parentUnit, lv_progressIndex, c_unitProgressStagePause);
            Wait(0.0625, c_timeGame);
            UnitSetProgressStage(lv_parentUnit, lv_progressIndex, c_unitProgressStageResume);
            Wait((lv_tickIncrement - 0.0625), c_timeGame);
            continue;
        }
        if ((lv_tick == (lv_progressTime - lv_tickIncrement))) {
            Wait((lv_tickIncrement - 0.0625), c_timeGame);
            lv_tick += (lv_tickIncrement - 0.0625);
            lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
            if ((lv_progressIndex == 1) && (lv_tick != lv_expectedTime)) {
                lv_progressIsCancelled = true;
                libPPRL_gf_DebugString(("NoReturn Cancel1"));
            }
            if ((lv_progressIndex == 2) && (lv_tick != lv_expectedTime)) {
                lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
                if ((lv_tick != lv_expectedTime)) {
                    lv_progressIsCancelled = true;
                    libPPRL_gf_DebugString(("NoReturn Cancel2"));
                }

            }
            continue;
        }
        Wait(lv_tickIncrement, c_timeGame);
        libPPRL_gf_DebugString(("TIKKA"));
    }
    libSCPL_gv_player[lv_playerIndex].lv_resourceSpendMinerals -= lv_tickCostBaseMinerals;
    libSCPL_gv_player[lv_playerIndex].lv_resourceSpendVespene -= lv_tickCostBaseVespene;
    if ((lv_progressIsCancelled == true)) {
        PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperAdd, Trunc(lv_tickTotalMinerals));
        PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperAdd, Trunc(lv_tickTotalVespene));
        libPPRL_gf_DebugString(("REFUND " + FixedToString(Trunc(lv_tickTotalMinerals), 0)));
    }

    if ((lv_progressIndex == 1)) {
        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 0.0);
        UnitSetCustomValue(lv_parentUnit, 10, 0.0);
        UnitSetCustomValue(lv_parentUnit, 11, 0.0);
        libPPRL_gf_DebugPanelSetFieldValue(2, "Empty");
    }
    else if ((lv_progressIndex == 2)) {
        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 0.0);
        UnitSetCustomValue(lv_parentUnit, 20, 0.0);
        UnitSetCustomValue(lv_parentUnit, 21, 0.0);
        libPPRL_gf_DebugPanelSetFieldValue(5, "Empty");
    }
    libSCPL_gf_DebugPanelUpdateSpendOverTime();
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressUnitStartCommented_Init () {
    libSCPL_gt_ProgressUnitStartCommented = TriggerCreate("libSCPL_gt_ProgressUnitStartCommented_Func");
    TriggerEnable(libSCPL_gt_ProgressUnitStartCommented, false);
    TriggerAddEventUnitTrainProgress(libSCPL_gt_ProgressUnitStartCommented, null, c_unitProgressStageStart);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Unit Start Commented Test
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressUnitStartCommentedTest_Func (bool testConds, bool runActions) {
    fixed auto0653A0CD_ae;
    fixed auto0653A0CD_ai;

    // Variable Declarations
    int lv_playerIndex;
    unit lv_parentUnit;
    string lv_progressUnitType;
    fixed lv_progressCostMinerals;
    fixed lv_progressCostVespene;
    fixed lv_progressTime;
    fixed lv_progressPercent;
    int lv_progressIndex;
    fixed lv_tick;
    fixed lv_tickIncrement;
    fixed lv_tickCostBaseMinerals;
    fixed lv_tickCostBaseVespene;
    fixed lv_tickCostCarryOverMinerals;
    fixed lv_tickCostCarryOverVespene;
    fixed lv_tickCostMinerals;
    fixed lv_tickCostVespene;
    fixed lv_tickTotalMinerals;
    fixed lv_tickTotalVespene;
    fixed lv_expectedTime;
    bool lv_progressIsCancelled;
    bool lv_progressIsPaused;
    bool lv_slotTimesAreEqual;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_progressUnitType = libNtve_gf_TriggeringProgressUnitType();
    lv_progressCostMinerals = UnitTypeGetCost(lv_progressUnitType, c_unitCostMinerals);
    lv_progressCostVespene = UnitTypeGetCost(lv_progressUnitType, c_unitCostVespene);
    lv_playerIndex = EventPlayer();
    lv_parentUnit = EventUnit();
    lv_progressIndex = libSCPL_gf_UsedTrainingSlotCount(lv_parentUnit);
    lv_progressTime = Round(UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeTotal, lv_progressIndex));
    lv_tickIncrement = libSCPL_gv_constants.lv_spendTickIncrement;
    lv_tickCostBaseMinerals = (lv_progressCostMinerals / (lv_progressTime / lv_tickIncrement));
    lv_tickCostBaseVespene = (lv_progressCostVespene / (lv_progressTime / lv_tickIncrement));
    if ((lv_progressIndex == 1)) {
        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
        UnitSetCustomValue(lv_parentUnit, 10, lv_tickCostBaseMinerals);
        UnitSetCustomValue(lv_parentUnit, 11, lv_tickCostBaseVespene);
        libPPRL_gf_DebugPanelSetFieldValue(2, (lv_progressUnitType));
    }
    else if ((lv_progressIndex == 2)) {
        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 1.0);
        UnitSetCustomValue(lv_parentUnit, 20, lv_tickCostBaseMinerals);
        UnitSetCustomValue(lv_parentUnit, 21, lv_tickCostBaseVespene);
        libPPRL_gf_DebugPanelSetFieldValue(5, (lv_progressUnitType));
    }
    libSCPL_gv_player[lv_playerIndex].lv_resourceSpendMinerals += lv_tickCostBaseMinerals;
    libSCPL_gv_player[lv_playerIndex].lv_resourceSpendVespene += lv_tickCostBaseVespene;
    Wait(0.0625, c_timeGame);
    auto0653A0CD_ae = (lv_progressTime - lv_tickIncrement);
    auto0653A0CD_ai = lv_tickIncrement;
    lv_tick = 0.0625;
    for ( ; ( (auto0653A0CD_ai >= 0 && lv_tick <= auto0653A0CD_ae) || (auto0653A0CD_ai <= 0 && lv_tick >= auto0653A0CD_ae) ) ; lv_tick += auto0653A0CD_ai ) {
        lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
        if ((lv_expectedTime == 0.0)) {
            Wait(0.0625, c_timeGame);
        }
        lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
        libPPRL_gf_DebugString((("Slot 1 |" + IntToString(lv_progressIndex) + " == ") + FixedToString(lv_expectedTime, 3) + " / " + FixedToString(lv_tick, 3) + " / " + FixedToString(UnitGetProgressComplete(lv_parentUnit, 1), c_fixedPrecisionAny)));
        lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 2);
        libPPRL_gf_DebugString((("Slot 2 |" + IntToString(lv_progressIndex) + " == ") + FixedToString(lv_expectedTime, 3) + " / " + FixedToString(lv_tick, 3) + " / " + FixedToString(UnitGetProgressComplete(lv_parentUnit, 2), c_fixedPrecisionAny)));
        lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
        if ((lv_progressIndex == 1) && (lv_tick != lv_expectedTime)) {
            libPPRL_gf_DebugString(("Cancel 1"));
            lv_progressIsCancelled = true;
            libSCPL_gf_DebugPanelUpdateSpendOverTime();
            break;
        }
        if ((lv_progressIndex == 2) && (lv_tick != lv_expectedTime)) {
            lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
            if ((lv_tick == lv_expectedTime)) {
                lv_progressIndex = 1;
                libPPRL_gf_DebugString(("Roll Over"));
                libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
                libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 0.0);
                UnitSetCustomValue(lv_parentUnit, 10, lv_tickCostBaseMinerals);
                UnitSetCustomValue(lv_parentUnit, 11, lv_tickCostBaseVespene);
                UnitSetCustomValue(lv_parentUnit, 20, 0.0);
                UnitSetCustomValue(lv_parentUnit, 21, 0.0);
                libPPRL_gf_DebugPanelSetFieldValue(2, (lv_progressUnitType));
            }
            else {
                lv_progressIsCancelled = true;
                libPPRL_gf_DebugString(("Cancel 2"));
                libSCPL_gf_DebugPanelUpdateSpendOverTime();
                break;
            }
        }
        if ((lv_progressIndex == 1)) {
            if ((libSCPL_gf_UnitProgressState(lv_parentUnit, 1) == 0.0)) {
                libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
                UnitSetCustomValue(lv_parentUnit, 10, lv_tickCostBaseMinerals);
                UnitSetCustomValue(lv_parentUnit, 11, lv_tickCostBaseVespene);
                libPPRL_gf_DebugPanelSetFieldValue(2, (lv_progressUnitType));
            }
            libSCPL_gf_DebugPanelUpdateSpendOverTime();
        }
        if ((lv_progressIndex == 2)) {
            if ((libSCPL_gf_UnitProgressState(lv_parentUnit, 2) == 0.0)) {
                libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 1.0);
                UnitSetCustomValue(lv_parentUnit, 20, lv_tickCostBaseMinerals);
                UnitSetCustomValue(lv_parentUnit, 21, lv_tickCostBaseVespene);
                libPPRL_gf_DebugPanelSetFieldValue(5, (lv_progressUnitType));
            }
            libSCPL_gf_DebugPanelUpdateSpendOverTime();
        }
        if ((UnitIsAlive(lv_parentUnit) == false)) {
            lv_progressIsCancelled = false;
            break;
        }
        lv_tickCostMinerals = (lv_tickCostBaseMinerals + lv_tickCostCarryOverMinerals);
        lv_tickCostVespene = (lv_tickCostBaseVespene + lv_tickCostCarryOverVespene);
        lv_tickCostCarryOverMinerals = ModF(lv_tickCostMinerals, 1.0);
        lv_tickCostCarryOverVespene = ModF(lv_tickCostVespene, 1.0);
        if ((lv_tick == (lv_progressTime - lv_tickIncrement))) {
            lv_tickCostMinerals = (lv_progressCostMinerals - lv_tickTotalMinerals);
            lv_tickCostVespene = (lv_progressCostVespene - lv_tickTotalVespene);
        }
        lv_tickTotalMinerals = (lv_tickTotalMinerals + Trunc(lv_tickCostMinerals));
        lv_tickTotalVespene = (lv_tickTotalVespene + Trunc(lv_tickCostVespene));
        if ((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) >= Trunc(lv_tickCostMinerals)) && (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) >= Trunc(lv_tickCostVespene))) {
            PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperSubtract, Trunc(lv_tickCostMinerals));
            PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperSubtract, Trunc(lv_tickCostVespene));
        }
        else {
            UnitSetProgressStage(lv_parentUnit, lv_progressIndex, c_unitProgressStagePause);
            lv_progressIsPaused = true;
            while ((lv_progressIsCancelled == false) && (UnitIsAlive(lv_parentUnit) == true) && ((libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex) < Trunc(lv_tickCostMinerals)) || (libSCPL_gf_PlayerAvailableVespene(lv_playerIndex) < Trunc(lv_tickCostVespene)))) {
                lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
                libPPRL_gf_DebugString((("Pause 1 |" + IntToString(lv_progressIndex) + " == ") + FixedToString(lv_expectedTime, 3) + " / " + FixedToString(lv_tick, 3) + " / " + FixedToString(UnitGetProgressComplete(lv_parentUnit, 1), c_fixedPrecisionAny)));
                lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 2);
                libPPRL_gf_DebugString((("Pause 2 |" + IntToString(lv_progressIndex) + " == ") + FixedToString(lv_expectedTime, 3) + " / " + FixedToString(lv_tick, 3) + " / " + FixedToString(UnitGetProgressComplete(lv_parentUnit, 2), c_fixedPrecisionAny)));
                lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
                if ((UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1) == UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 2)) && (libNtve_gf_QueuedUnitTypeInTrainingQueueSlot(lv_parentUnit, 1, 1) == libNtve_gf_QueuedUnitTypeInTrainingQueueSlot(lv_parentUnit, 2, 1))) {
                    lv_slotTimesAreEqual = true;
                }
                if ((lv_progressIndex == 1) && (lv_tick != lv_expectedTime)) {
                    libPPRL_gf_DebugString(("Pause Cancel 1"));
                    lv_progressIsCancelled = true;
                }
                if ((lv_progressIndex == 2) && (lv_tick != lv_expectedTime)) {
                    lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
                    if ((lv_tick == lv_expectedTime) && (lv_slotTimesAreEqual == false)) {
                        lv_progressIndex = 1;
                        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
                        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 0.0);
                        UnitSetCustomValue(lv_parentUnit, 10, lv_tickCostBaseMinerals);
                        UnitSetCustomValue(lv_parentUnit, 11, lv_tickCostBaseVespene);
                        UnitSetCustomValue(lv_parentUnit, 20, 0.0);
                        UnitSetCustomValue(lv_parentUnit, 21, 0.0);
                        libPPRL_gf_DebugString(("Pause Roll Over"));
                        libPPRL_gf_DebugPanelSetFieldValue(2, (lv_progressUnitType));
                    }
                    else {
                        libPPRL_gf_DebugString(("Pause Cancel 2"));
                        lv_progressIsCancelled = true;
                    }
                }
                if ((lv_progressIsCancelled == true)) {
                    break;
                }
                Wait(lv_tickIncrement, c_timeGame);
            }
            if ((UnitIsAlive(lv_parentUnit) == true)) {
                PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperSubtract, Trunc(lv_tickCostMinerals));
                PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperSubtract, Trunc(lv_tickCostVespene));
                if ((lv_progressIsCancelled == true)) {
                    break;
                }
                if ((lv_progressIndex == 2) && (lv_tick != UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 2)) && (lv_tick == UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1))) {
                    lv_progressIndex = 1;
                    libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 1.0);
                    libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 0.0);
                    UnitSetCustomValue(lv_parentUnit, 10, lv_tickCostBaseMinerals);
                    UnitSetCustomValue(lv_parentUnit, 11, lv_tickCostBaseVespene);
                    UnitSetCustomValue(lv_parentUnit, 20, 0.0);
                    UnitSetCustomValue(lv_parentUnit, 21, 0.0);
                    libPPRL_gf_DebugString(("Resume Roll Over"));
                    libPPRL_gf_DebugPanelSetFieldValue(2, (lv_progressUnitType));
                }

                libPPRL_gf_DebugString(("Resume " + IntToString(lv_progressIndex)));
            }
        }
        if ((lv_progressIsPaused == true)) {
            lv_progressIsPaused = false;
            lv_slotTimesAreEqual = false;
            libPPRL_gf_DebugString(("CONTINUE"));
            UnitSetProgressStage(lv_parentUnit, lv_progressIndex, c_unitProgressStageResume);
        }
        if ((lv_tick == 0.0625)) {
            lv_tick = 0.0;
            UnitSetProgressStage(lv_parentUnit, lv_progressIndex, c_unitProgressStagePause);
            Wait(0.0625, c_timeGame);
            UnitSetProgressStage(lv_parentUnit, lv_progressIndex, c_unitProgressStageResume);
            Wait((lv_tickIncrement - 0.0625), c_timeGame);
            continue;
        }
        if ((lv_tick == (lv_progressTime - lv_tickIncrement))) {
            Wait((lv_tickIncrement - 0.0625), c_timeGame);
            lv_tick += (lv_tickIncrement - 0.0625);
            lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, lv_progressIndex);
            if ((lv_progressIndex == 1) && (lv_tick != lv_expectedTime)) {
                lv_progressIsCancelled = true;
                libPPRL_gf_DebugString(("NoReturn Cancel1"));
            }
            if ((lv_progressIndex == 2) && (lv_tick != lv_expectedTime)) {
                lv_expectedTime = UnitQueueItemTime(lv_parentUnit, c_unitQueueTimeElapsed, 1);
                if ((lv_tick != lv_expectedTime)) {
                    lv_progressIsCancelled = true;
                    libPPRL_gf_DebugString(("NoReturn Cancel2"));
                }

            }
            continue;
        }
        Wait(lv_tickIncrement, c_timeGame);
        libPPRL_gf_DebugString(("TIKKA"));
    }
    libSCPL_gv_player[lv_playerIndex].lv_resourceSpendMinerals -= lv_tickCostBaseMinerals;
    libSCPL_gv_player[lv_playerIndex].lv_resourceSpendVespene -= lv_tickCostBaseVespene;
    if ((lv_progressIsCancelled == true)) {
        PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropMinerals, c_playerPropOperAdd, Trunc(lv_tickTotalMinerals));
        PlayerModifyPropertyFixed(lv_playerIndex, c_playerPropVespene, c_playerPropOperAdd, Trunc(lv_tickTotalVespene));
        libPPRL_gf_DebugString(("REFUND " + FixedToString(Trunc(lv_tickTotalMinerals), 0)));
    }

    if ((lv_progressIndex == 1)) {
        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 1, 0.0);
        UnitSetCustomValue(lv_parentUnit, 10, 0.0);
        UnitSetCustomValue(lv_parentUnit, 11, 0.0);
        libPPRL_gf_DebugPanelSetFieldValue(2, "Empty");
    }
    else if ((lv_progressIndex == 2)) {
        libSCPL_gf_UnitProgressStateSet(lv_parentUnit, 2, 0.0);
        UnitSetCustomValue(lv_parentUnit, 20, 0.0);
        UnitSetCustomValue(lv_parentUnit, 21, 0.0);
        libPPRL_gf_DebugPanelSetFieldValue(5, "Empty");
    }
    libSCPL_gf_DebugPanelUpdateSpendOverTime();
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressUnitStartCommentedTest_Init () {
    libSCPL_gt_ProgressUnitStartCommentedTest = TriggerCreate("libSCPL_gt_ProgressUnitStartCommentedTest_Func");
    TriggerEnable(libSCPL_gt_ProgressUnitStartCommentedTest, false);
    TriggerAddEventUnitTrainProgress(libSCPL_gt_ProgressUnitStartCommentedTest, null, c_unitProgressStageStart);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Progress Unit Cancel Commented
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ProgressUnitCancelCommented_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    libPPRL_gf_DebugString(("TRAINING CANCELLED"));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ProgressUnitCancelCommented_Init () {
    libSCPL_gt_ProgressUnitCancelCommented = TriggerCreate("libSCPL_gt_ProgressUnitCancelCommented_Func");
    TriggerEnable(libSCPL_gt_ProgressUnitCancelCommented, false);
    TriggerAddEventUnitTrainProgress(libSCPL_gt_ProgressUnitCancelCommented, null, c_unitProgressStageCancel);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Worker Production Check Worker Slot
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoWorkerProductionCheckWorkerSlot_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_townHall;
    int lv_playerIndex;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!(((UnitGetType(EventUnit()) == "CommandCenter") || (UnitGetType(EventUnit()) == "OrbitalCommand") || (UnitGetType(EventUnit()) == "Nexus")))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_townHall = EventUnit();
    libSCPL_gf_AutoWorkerProduction(lv_townHall, lv_playerIndex);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoWorkerProductionCheckWorkerSlot_Init () {
    libSCPL_gt_AutoWorkerProductionCheckWorkerSlot = TriggerCreate("libSCPL_gt_AutoWorkerProductionCheckWorkerSlot_Func");
    TriggerAddEventUnitTrainProgress(libSCPL_gt_AutoWorkerProductionCheckWorkerSlot, null, c_unitProgressStageComplete);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Worker Production Check Worker Slot Zerg
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoWorkerProductionCheckWorkerSlotZerg_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_townHall;
    int lv_playerIndex;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitGetType(EventUnitCreatedUnit()) == "Larva"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = UnitGetOwner(EventUnitCreatedUnit());
    lv_townHall = libSCPL_gf_PlayerTownHallClosest(UnitGetPosition(EventUnitCreatedUnit()), lv_playerIndex);
    libSCPL_gf_AutoWorkerProduction(lv_townHall, lv_playerIndex);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoWorkerProductionCheckWorkerSlotZerg_Init () {
    libSCPL_gt_AutoWorkerProductionCheckWorkerSlotZerg = TriggerCreate("libSCPL_gt_AutoWorkerProductionCheckWorkerSlotZerg_Func");
    TriggerAddEventUnitCreated(libSCPL_gt_AutoWorkerProductionCheckWorkerSlotZerg, null, null, "SpawnLarva");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Worker Production Check Vespene Harvester
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoWorkerProductionCheckVespeneHarvester_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_townHall;
    int lv_playerIndex;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!(((UnitGetType(EventUnitProgressUnit()) == "Assimilator") || (UnitGetType(EventUnitProgressUnit()) == "Refinery")))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_townHall = libSCPL_gf_PlayerTownHallClosest(UnitGetPosition(EventUnit()), lv_playerIndex);
    libSCPL_gf_AutoWorkerProduction(lv_townHall, lv_playerIndex);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoWorkerProductionCheckVespeneHarvester_Init () {
    libSCPL_gt_AutoWorkerProductionCheckVespeneHarvester = TriggerCreate("libSCPL_gt_AutoWorkerProductionCheckVespeneHarvester_Func");
    TriggerAddEventUnitConstructProgress(libSCPL_gt_AutoWorkerProductionCheckVespeneHarvester, null, c_unitProgressStageStart);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Worker Production Check Vespene Harvester Zerg
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoWorkerProductionCheckVespeneHarvesterZerg_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_townHall;
    int lv_playerIndex;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitGetType(EventUnitProgressUnit()) == "Extractor"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_townHall = libSCPL_gf_PlayerTownHallClosest(UnitGetPosition(EventUnit()), lv_playerIndex);
    libSCPL_gf_AutoWorkerProduction(lv_townHall, lv_playerIndex);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoWorkerProductionCheckVespeneHarvesterZerg_Init () {
    libSCPL_gt_AutoWorkerProductionCheckVespeneHarvesterZerg = TriggerCreate("libSCPL_gt_AutoWorkerProductionCheckVespeneHarvesterZerg_Func");
    TriggerAddEventUnitConstructProgress(libSCPL_gt_AutoWorkerProductionCheckVespeneHarvesterZerg, null, c_unitProgressStageComplete);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Worker Production Check Morph Construction Zerg
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_townHall;
    int lv_playerIndex;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    if ((EventUnitAbility() == AbilityCommand("ZergBuild", 0))) {
        lv_townHall = libSCPL_gf_PlayerTownHallClosest(PlayerStartLocation(lv_playerIndex), lv_playerIndex);
    }
    else {
        lv_townHall = libSCPL_gf_PlayerTownHallClosest(UnitGetPosition(EventUnit()), lv_playerIndex);
    }
    libSCPL_gf_AutoWorkerProduction(lv_townHall, lv_playerIndex);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg_Init () {
    libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg = TriggerCreate("libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg_Func");
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 10), c_abilMorphStageWait, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 4), c_abilMorphStageWait, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 2), c_abilMorphStageWait, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 0), c_abilMorphStageWait, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 5), c_abilMorphStageWait, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 8), c_abilMorphStageWait, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 9), c_abilMorphStageWait, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 13), c_abilMorphStageWait, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 3), c_abilMorphStageWait, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 14), c_abilMorphStageWait, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 6), c_abilMorphStageWait, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 15), c_abilMorphStageWait, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg, null, AbilityCommand("ZergBuild", 7), c_abilMorphStageWait, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Worker Production Check Town Hall Upgrade
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoWorkerProductionCheckTownHallUpgrade_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_townHall;
    int lv_playerIndex;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_townHall = EventUnit();
    libSCPL_gf_AutoWorkerProduction(lv_townHall, lv_playerIndex);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoWorkerProductionCheckTownHallUpgrade_Init () {
    libSCPL_gt_AutoWorkerProductionCheckTownHallUpgrade = TriggerCreate("libSCPL_gt_AutoWorkerProductionCheckTownHallUpgrade_Func");
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckTownHallUpgrade, null, AbilityCommand("UpgradeToOrbital", 0), c_abilMorphStageUnitEnd, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckTownHallUpgrade, null, AbilityCommand("UpgradeToPlanetaryFortress", 0), c_abilMorphStageUnitEnd, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckTownHallUpgrade, null, AbilityCommand("UpgradeToLair", 0), c_abilMorphStageUnitEnd, false);
    TriggerAddEventUnitAbility(libSCPL_gt_AutoWorkerProductionCheckTownHallUpgrade, null, AbilityCommand("UpgradeToHive", 0), c_abilMorphStageUnitEnd, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Worker Production Check Expansion
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoWorkerProductionCheckExpansion_Func (bool testConds, bool runActions) {
    string auto9E44F9EA_val;

    // Variable Declarations
    region lv_resourceRegion;
    unitgroup lv_resourceGroup;
    unit lv_resourceClosest;
    unit lv_townHall;
    int lv_playerIndex;
    int lv_expansionWorkerCount;
    point lv_expansionWorkerPoint;
    unitgroup lv_expansionWorkers;

    // Variable Initialization
    lv_resourceGroup = UnitGroupEmpty();
    lv_expansionWorkers = UnitGroupEmpty();

    // Conditions
    if (testConds) {
        if (!(((UnitGetType(EventUnitProgressUnit()) == "CommandCenter") || (UnitGetType(EventUnitProgressUnit()) == "Nexus") || (UnitGetType(EventUnitProgressUnit()) == "Hatchery")))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_expansionWorkerCount = 4;
    lv_townHall = EventUnitProgressUnit();
    lv_playerIndex = UnitGetOwner(lv_townHall);
    lv_resourceRegion = RegionCircle(UnitGetPosition(lv_townHall), libSCPL_gv_constants.lv_townHallResourceRadius);
    lv_resourceGroup = UnitGroup(null, c_playerAny, lv_resourceRegion, UnitFilter((1 << c_targetFilterHarvestableResource), 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupLoopBegin(lv_resourceGroup);
    for ( ; !UnitGroupLoopDone() ; UnitGroupLoopStep() ) {
        if (((UnitGetType(UnitGroupLoopCurrent()) == "Assimilator") || (UnitGetType(UnitGroupLoopCurrent()) == "Refinery") || (UnitGetType(UnitGroupLoopCurrent()) == "Extractor"))) {
            UnitGroupRemove(lv_resourceGroup, UnitGroupLoopCurrent());
        }
    }
    UnitGroupLoopEnd();
    if ((UnitGroupCount(lv_resourceGroup, c_unitCountAlive) < 1)) {
        return true;
    }
    lv_resourceClosest = UnitGroupClosestToPoint(lv_resourceGroup, UnitGetPosition(lv_townHall));
    lv_expansionWorkerPoint = PointWithOffsetPolar(UnitGetPosition(lv_townHall), 2.5, AngleBetweenPoints(UnitGetPosition(lv_townHall), UnitGetPosition(lv_resourceClosest)));
    auto9E44F9EA_val = UnitGetType(EventUnitProgressUnit());
    if (auto9E44F9EA_val == "CommandCenter") {
        UnitIssueOrder(lv_townHall, OrderTargetingUnit(AbilityCommand("RallyCommand", 0), lv_resourceClosest), c_orderQueueReplace);
        libNtve_gf_CreateUnitsWithDefaultFacing(lv_expansionWorkerCount, "SCV", 0, lv_playerIndex, lv_expansionWorkerPoint);
        lv_expansionWorkers = UnitLastCreatedGroup();
        UnitIssueOrder(lv_townHall, Order(AbilityCommand("CommandCenterTrain", 0)), c_orderQueueAddToEnd);
    }
    else if (auto9E44F9EA_val == "Nexus") {
        UnitIssueOrder(lv_townHall, OrderTargetingUnit(AbilityCommand("RallyNexus", 0), lv_resourceClosest), c_orderQueueReplace);
        UnitIssueOrder(lv_townHall, Order(AbilityCommand("NexusTrain", 0)), c_orderQueueAddToEnd);
        lv_expansionWorkers = UnitLastCreatedGroup();
        libNtve_gf_CreateUnitsWithDefaultFacing(lv_expansionWorkerCount, "Probe", 0, lv_playerIndex, lv_expansionWorkerPoint);
    }
    else if (auto9E44F9EA_val == "Hatchery") {
        UnitIssueOrder(lv_townHall, OrderTargetingUnit(AbilityCommand("RallyHatchery", 1), lv_resourceClosest), c_orderQueueReplace);
        libNtve_gf_CreateUnitsWithDefaultFacing(lv_expansionWorkerCount, "Drone", 0, lv_playerIndex, lv_expansionWorkerPoint);
        lv_expansionWorkers = UnitLastCreatedGroup();
        libSCPL_gf_AutoWorkerProductionZerg(lv_townHall, lv_playerIndex, 0);
    }
    else {
    }
    UnitGroupIssueOrder(lv_expansionWorkers, OrderTargetingUnit(AbilityCommand("DroneHarvest", 0), lv_resourceClosest), c_orderQueueReplace);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoWorkerProductionCheckExpansion_Init () {
    libSCPL_gt_AutoWorkerProductionCheckExpansion = TriggerCreate("libSCPL_gt_AutoWorkerProductionCheckExpansion_Func");
    TriggerAddEventUnitConstructProgress(libSCPL_gt_AutoWorkerProductionCheckExpansion, null, c_unitProgressStageComplete);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Worker Gather Vespene
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoWorkerGatherVespene_Func (bool testConds, bool runActions) {
    int auto0ED17859_ae;
    int auto0ED17859_ai;

    // Variable Declarations
    unit lv_vespeneBuilding;
    unitgroup lv_vespeneWorkersPotential;
    int lv_vespeneWorkersAddition;
    unit lv_vespeneWorker;
    unit lv_workerTarget;
    int lv_workerIndex;
    int lv_playerIndex;

    // Variable Initialization
    lv_vespeneWorkersPotential = UnitGroupEmpty();

    // Conditions
    if (testConds) {
        if (!(((UnitGetType(EventUnitProgressUnit()) == "Assimilator") || (UnitGetType(EventUnitProgressUnit()) == "Refinery") || (UnitGetType(EventUnitProgressUnit()) == "Extractor")))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_vespeneBuilding = EventUnitProgressUnit();
    lv_playerIndex = UnitGetOwner(lv_vespeneBuilding);
    lv_vespeneWorkersAddition = 3;
    lv_vespeneWorkersPotential = UnitGroup(null, lv_playerIndex, RegionCircle(UnitGetPosition(lv_vespeneBuilding), libSCPL_gv_constants.lv_townHallResourceRadius), UnitFilter((1 << c_targetFilterWorker), 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32)) | (1 << (c_targetFilterSummoned - 32))), 0);
    UnitGroupLoopBegin(lv_vespeneWorkersPotential);
    for ( ; !UnitGroupLoopDone() ; UnitGroupLoopStep() ) {
        lv_workerTarget = OrderGetTargetUnit(UnitOrder(UnitGroupLoopCurrent(), 0));
        if (((UnitHasBehavior2(UnitGroupLoopCurrent(), "CarryHarvestableVespeneGeyserGas") == true) || (UnitHasBehavior2(UnitGroupLoopCurrent(), "CarryHarvestableVespeneGeyserGasProtoss") == true) || (UnitHasBehavior2(UnitGroupLoopCurrent(), "CarryHarvestableVespeneGeyserGasZerg") == true)) && ((UnitGetType(lv_workerTarget) == "Refinery") || (UnitGetType(lv_workerTarget) == "Extractor") || (UnitGetType(lv_workerTarget) == "Assimilator"))) {
            UnitGroupRemove(lv_vespeneWorkersPotential, UnitGroupLoopCurrent());
        }
    }
    UnitGroupLoopEnd();
    auto0ED17859_ae = lv_vespeneWorkersAddition;
    auto0ED17859_ai = 1;
    lv_workerIndex = 1;
    for ( ; ( (auto0ED17859_ai >= 0 && lv_workerIndex <= auto0ED17859_ae) || (auto0ED17859_ai <= 0 && lv_workerIndex >= auto0ED17859_ae) ) ; lv_workerIndex += auto0ED17859_ai ) {
        lv_vespeneWorker = UnitGroupClosestToPoint(lv_vespeneWorkersPotential, UnitGetPosition(lv_vespeneBuilding));
        UnitGroupRemove(lv_vespeneWorkersPotential, lv_vespeneWorker);
        UnitIssueOrder(lv_vespeneWorker, OrderTargetingUnit(AbilityCommand("DroneHarvest", 0), lv_vespeneBuilding), c_orderQueueReplace);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoWorkerGatherVespene_Init () {
    libSCPL_gt_AutoWorkerGatherVespene = TriggerCreate("libSCPL_gt_AutoWorkerGatherVespene_Func");
    TriggerAddEventUnitConstructProgress(libSCPL_gt_AutoWorkerGatherVespene, null, c_unitProgressStageComplete);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Worker Set Harvest State
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoWorkerSetHarvestState_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    unit lv_targetUnit;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_unit = EventUnit();
    lv_targetUnit = OrderGetTargetUnit(EventUnitOrder());
    if (((UnitHasBehavior2(lv_targetUnit, "HarvestableVespeneGeyserGas") == true) || (UnitHasBehavior2(lv_targetUnit, "HarvestableVespeneGeyserGasProtoss") == true) || (UnitHasBehavior2(lv_targetUnit, "HarvestableVespeneGeyserGasZerg") == true))) {
        libSCPL_gf_UnitChargeLinkSet(lv_unit, "HarvestMinerals", 0.0);
        libSCPL_gf_UnitChargeLinkSet(lv_unit, "HarvestGas", 1.0);
        UnitBehaviorAdd(lv_unit, "GameWorkerHarvestGasMarker", lv_unit, 1);
    }
    if (((UnitHasBehavior2(lv_targetUnit, "MineralFieldMinerals") == true) || (UnitHasBehavior2(lv_targetUnit, "MineralFieldMinerals750") == true) || (UnitHasBehavior2(lv_targetUnit, "HighYieldMineralFieldMinerals") == true) || (UnitHasBehavior2(lv_targetUnit, "HighYieldMineralFieldMinerals750") == true) || (UnitHasBehavior2(lv_targetUnit, "MineralFieldMineralsNoRemove") == true))) {
        libSCPL_gf_UnitChargeLinkSet(lv_unit, "HarvestMinerals", 1.0);
        libSCPL_gf_UnitChargeLinkSet(lv_unit, "HarvestGas", 0.0);
        UnitBehaviorRemove(lv_unit, "GameWorkerHarvestGasMarker", 1);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoWorkerSetHarvestState_Init () {
    libSCPL_gt_AutoWorkerSetHarvestState = TriggerCreate("libSCPL_gt_AutoWorkerSetHarvestState_Func");
    TriggerAddEventUnitOrder(libSCPL_gt_AutoWorkerSetHarvestState, null, AbilityCommand("SCVHarvest", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_AutoWorkerSetHarvestState, null, AbilityCommand("MULEGather", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_AutoWorkerSetHarvestState, null, AbilityCommand("DroneHarvest", 0));
    TriggerAddEventUnitOrder(libSCPL_gt_AutoWorkerSetHarvestState, null, AbilityCommand("ProbeHarvest", 0));
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Worker Set Harvest State None
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoWorkerSetHarvestStateNone_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    unit lv_targetUnit;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!(((UnitGetType(EventUnit()) == "Probe") || (UnitGetType(EventUnit()) == "SCV") || (UnitGetType(EventUnit()) == "Drone") || (UnitGetType(EventUnit()) == "MULE")))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_unit = EventUnit();
    libSCPL_gf_UnitChargeLinkSet(lv_unit, "HarvestMinerals", 0.0);
    libSCPL_gf_UnitChargeLinkSet(lv_unit, "HarvestGas", 0.0);
    UnitBehaviorRemove(lv_unit, "GameWorkerHarvestGasMarker", 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoWorkerSetHarvestStateNone_Init () {
    libSCPL_gt_AutoWorkerSetHarvestStateNone = TriggerCreate("libSCPL_gt_AutoWorkerSetHarvestStateNone_Func");
    TriggerAddEventUnitOrder(libSCPL_gt_AutoWorkerSetHarvestStateNone, null, AbilityCommand("move", 0));
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Worker Idle Harvest Resume
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoWorkerIdleHarvestResume_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    int lv_playerIndex;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!(((UnitGetType(EventUnit()) == "Probe") || (UnitGetType(EventUnit()) == "SCV") || (UnitGetType(EventUnit()) == "Drone") || (UnitGetType(EventUnit()) == "MULE")))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_unit = EventUnit();
    lv_playerIndex = UnitGetOwner(lv_unit);
    if ((libSCPL_gf_UnitChargeLink(lv_unit, "HarvestMinerals") == 0.0) && (libSCPL_gf_UnitChargeLink(lv_unit, "HarvestGas") == 0.0)) {
    }
    else if (((UnitHasBehavior2(lv_unit, "CarryHarvestableVespeneGeyserGas") == true) || (UnitHasBehavior2(lv_unit, "CarryHarvestableVespeneGeyserGasProtoss") == true) || (UnitHasBehavior2(lv_unit, "CarryHarvestableVespeneGeyserGasZerg") == true) || (UnitHasBehavior2(lv_unit, "CarryHighYieldMineralFieldMinerals") == true) || (UnitHasBehavior2(lv_unit, "CarryMineralFieldMinerals") == true) || (UnitHasBehavior2(lv_unit, "CarryMineralFieldMineralsNoRemove") == true))) {
        UnitIssueOrder(lv_unit, Order(AbilityCommand("DroneHarvest", 1)), c_orderQueueReplace);
    }
    else if ((libSCPL_gf_UnitChargeLink(lv_unit, "HarvestMinerals") == 1)) {
        UnitIssueOrder(lv_unit, OrderTargetingUnit(AbilityCommand("DroneHarvest", 0), UnitGroupClosestToPoint(libSCPL_gf_PlayerHarvestableMinerals(lv_playerIndex), UnitGetPosition(lv_unit))), c_orderQueueReplace);
    }
    else if ((libSCPL_gf_UnitChargeLink(lv_unit, "HarvestGas") == 1)) {
        UnitIssueOrder(lv_unit, OrderTargetingUnit(AbilityCommand("DroneHarvest", 0), UnitGroupClosestToPoint(libSCPL_gf_PlayerHarvestableGas(lv_playerIndex), UnitGetPosition(lv_unit))), c_orderQueueReplace);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoWorkerIdleHarvestResume_Init () {
    libSCPL_gt_AutoWorkerIdleHarvestResume = TriggerCreate("libSCPL_gt_AutoWorkerIdleHarvestResume_Func");
    TriggerAddEventUnitBecomesIdle(libSCPL_gt_AutoWorkerIdleHarvestResume, null, true);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Unit Life And Shield Scaling On Creation
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_UnitLifeAndShieldScalingOnCreation_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    UnitBehaviorAdd(EventUnit(), "GameIncreasedLifeAndShields", EventUnit(), 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_UnitLifeAndShieldScalingOnCreation_Init () {
    libSCPL_gt_UnitLifeAndShieldScalingOnCreation = TriggerCreate("libSCPL_gt_UnitLifeAndShieldScalingOnCreation_Func");
    TriggerAddEventUnitRegion(libSCPL_gt_UnitLifeAndShieldScalingOnCreation, null, RegionEntireMap(), true);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Warp Gate Research Gateway Built
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_WarpGateResearchGatewayBuilt_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unitConstructed;
    int lv_playerIndex;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitGetType(EventUnitProgressUnit()) == "Gateway"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_unitConstructed = EventUnitProgressUnit();
    while ((PowerLevel(lv_playerIndex, UnitGetPosition(lv_unitConstructed), "PowerSource") < 1) && (UnitIsAlive(lv_unitConstructed) == true)) {
        Wait(0.0625, c_timeGame);
        lv_playerIndex = UnitGetOwner(lv_unitConstructed);
        if ((TechTreeUpgradeCount(lv_playerIndex, "WarpGateResearch", c_techCountCompleteOnly) == 1)) {
            UnitIssueOrder(lv_unitConstructed, Order(AbilityCommand("UpgradeToWarpGate", 0)), c_orderQueueReplace);
        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_WarpGateResearchGatewayBuilt_Init () {
    libSCPL_gt_WarpGateResearchGatewayBuilt = TriggerCreate("libSCPL_gt_WarpGateResearchGatewayBuilt_Func");
    TriggerAddEventUnitConstructProgress(libSCPL_gt_WarpGateResearchGatewayBuilt, null, c_unitProgressStageComplete);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Warp Gate Research Upgrade All Gates
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_WarpGateResearchUpgradeAllGates_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unitgroup lv_playerGateways;
    int lv_playerIndex;

    // Variable Initialization
    lv_playerGateways = UnitGroupEmpty();

    // Conditions
    if (testConds) {
        if (!((libNtve_gf_TriggeringProgressUpgrade() == "WarpGateResearch"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_playerGateways = UnitGroup("Gateway", lv_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupLoopBegin(lv_playerGateways);
    for ( ; !UnitGroupLoopDone() ; UnitGroupLoopStep() ) {
        UnitGroupIssueOrder(lv_playerGateways, Order(AbilityCommand("UpgradeToWarpGate", 0)), c_orderQueueReplace);
    }
    UnitGroupLoopEnd();
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_WarpGateResearchUpgradeAllGates_Init () {
    libSCPL_gt_WarpGateResearchUpgradeAllGates = TriggerCreate("libSCPL_gt_WarpGateResearchUpgradeAllGates_Func");
    TriggerAddEventUnitResearchProgress(libSCPL_gt_WarpGateResearchUpgradeAllGates, null, c_unitProgressStageComplete);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Barracks Train StartStop
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_BarracksTrainStartStop_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_progressUnit;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(EventUnit(), "SidebarDummy") == false))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_progressUnit = EventUnit();
    libSCPL_gf_UnitStatusEvaluateProgressBar(lv_progressUnit);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_BarracksTrainStartStop_Init () {
    libSCPL_gt_BarracksTrainStartStop = TriggerCreate("libSCPL_gt_BarracksTrainStartStop_Func");
    TriggerAddEventUnitAbility(libSCPL_gt_BarracksTrainStartStop, null, AbilityCommand("BarracksTrain", 1), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libSCPL_gt_BarracksTrainStartStop, null, AbilityCommand("BarracksTrain", 0), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libSCPL_gt_BarracksTrainStartStop, null, AbilityCommand("BarracksTrain", 3), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libSCPL_gt_BarracksTrainStartStop, null, AbilityCommand("BarracksTrain", 2), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libSCPL_gt_BarracksTrainStartStop, null, AbilityCommand("BarracksTrain", 1), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_BarracksTrainStartStop, null, AbilityCommand("BarracksTrain", 0), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_BarracksTrainStartStop, null, AbilityCommand("BarracksTrain", 3), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_BarracksTrainStartStop, null, AbilityCommand("BarracksTrain", 2), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_BarracksTrainStartStop, null, AbilityCommand("BarracksTrain", 1), c_unitAbilStageComplete, false);
    TriggerAddEventUnitAbility(libSCPL_gt_BarracksTrainStartStop, null, AbilityCommand("BarracksTrain", 0), c_unitAbilStageComplete, false);
    TriggerAddEventUnitAbility(libSCPL_gt_BarracksTrainStartStop, null, AbilityCommand("BarracksTrain", 3), c_unitAbilStageComplete, false);
    TriggerAddEventUnitAbility(libSCPL_gt_BarracksTrainStartStop, null, AbilityCommand("BarracksTrain", 2), c_unitAbilStageComplete, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: MuleHarvestNearestResoures
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_MuleHarvestNearestResoures_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unitCreated;
    unitgroup lv_resources;
    fixed lv_muleExpireDelay;

    // Variable Initialization
    lv_resources = UnitGroupEmpty();

    // Conditions
    if (testConds) {
        if (!((UnitGetType(EventUnitCreatedUnit()) == "MULE"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_unitCreated = EventUnitCreatedUnit();
    lv_resources = UnitGroup(null, c_playerAny, RegionEntireMap(), UnitFilter((1 << c_targetFilterHarvestableResource), 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupRemoveUnitGroup(lv_resources, UnitGroup("Refinery", c_playerAny, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    UnitGroupRemoveUnitGroup(lv_resources, UnitGroup("Assimilator", c_playerAny, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    UnitGroupRemoveUnitGroup(lv_resources, UnitGroup("Extractor", c_playerAny, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0));
    lv_muleExpireDelay = StringToFixed(CatalogFieldValueGet(c_gameCatalogEffect, "CalldownMULECreatePersistent", "ExpireDelay", c_playerAny));
    Wait((lv_muleExpireDelay + 0.0625), c_timeGame);
    UnitIssueOrder(lv_unitCreated, OrderTargetingUnit(AbilityCommand("MULEGather", 0), UnitGroupClosestToPoint(lv_resources, UnitGetPosition(lv_unitCreated))), c_orderQueueAddToEnd);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_MuleHarvestNearestResoures_Init () {
    libSCPL_gt_MuleHarvestNearestResoures = TriggerCreate("libSCPL_gt_MuleHarvestNearestResoures_Func");
    TriggerAddEventUnitCreated(libSCPL_gt_MuleHarvestNearestResoures, null, null, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Command Center Morph Start
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_CommandCenterMorphStart_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    UnitBehaviorRemove(EventUnit(), "GameUCBCommandCenterChargeLink", 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_CommandCenterMorphStart_Init () {
    libSCPL_gt_CommandCenterMorphStart = TriggerCreate("libSCPL_gt_CommandCenterMorphStart_Func");
    TriggerAddEventUnitAbility(libSCPL_gt_CommandCenterMorphStart, null, AbilityCommand("UpgradeToOrbital", 0), c_abilMorphStageUnitStart, false);
    TriggerAddEventUnitAbility(libSCPL_gt_CommandCenterMorphStart, null, AbilityCommand("UpgradeToPlanetaryFortress", 0), c_abilMorphStageUnitStart, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Command Center Morph Cancel
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_CommandCenterMorphCancel_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    UnitBehaviorAdd(EventUnit(), "GameUCBCommandCenterChargeLink", EventUnit(), 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_CommandCenterMorphCancel_Init () {
    libSCPL_gt_CommandCenterMorphCancel = TriggerCreate("libSCPL_gt_CommandCenterMorphCancel_Func");
    TriggerAddEventUnitAbility(libSCPL_gt_CommandCenterMorphCancel, null, AbilityCommand("UpgradeToOrbital", 0), c_unitAbilStageCancel, false);
    TriggerAddEventUnitAbility(libSCPL_gt_CommandCenterMorphCancel, null, AbilityCommand("UpgradeToPlanetaryFortress", 0), c_unitAbilStageCancel, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: UCB Auto Wall Raise
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_UCBAutoWallRaise_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unitgroup lv_unitGroup;

    // Variable Initialization
    lv_unitGroup = UnitGroupEmpty();

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = UnitGetOwner(EventUnit());
    libSCPL_gv_player[lv_playerIndex].lv_globalTerran_AutoWallToggle = false;
    lv_unitGroup = UnitGroup("SupplyDepotLowered", lv_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupIssueOrder(lv_unitGroup, Order(AbilityCommand("AutoWallRaiseManual", 0)), c_orderQueueReplace);
    UnitIssueOrder(EventUnit(), Order(AbilityCommand("AutoWallToggleUCBOffHidden", 0)), c_orderQueueReplace);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_UCBAutoWallRaise_Init () {
    libSCPL_gt_UCBAutoWallRaise = TriggerCreate("libSCPL_gt_UCBAutoWallRaise_Func");
    TriggerAddEventUnitAbility(libSCPL_gt_UCBAutoWallRaise, null, AbilityCommand("AutoWallRaiseUCB", 0), c_abilEffectStageCast, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: UCB Auto Wall Lower
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_UCBAutoWallLower_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unitgroup lv_unitGroup;

    // Variable Initialization
    lv_unitGroup = UnitGroupEmpty();

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = UnitGetOwner(EventUnit());
    lv_unitGroup = UnitGroup("SupplyDepot", lv_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupIssueOrder(lv_unitGroup, Order(AbilityCommand("AutoWallLowerManual", 0)), c_orderQueueReplace);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_UCBAutoWallLower_Init () {
    libSCPL_gt_UCBAutoWallLower = TriggerCreate("libSCPL_gt_UCBAutoWallLower_Func");
    TriggerAddEventUnitAbility(libSCPL_gt_UCBAutoWallLower, null, AbilityCommand("AutoWallLowerUCB", 0), c_abilEffectStageCast, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: UCB Auto Wall Toggle On
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_UCBAutoWallToggleOn_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unitgroup lv_unitGroup;

    // Variable Initialization
    lv_unitGroup = UnitGroupEmpty();

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = UnitGetOwner(EventUnit());
    libSCPL_gv_player[lv_playerIndex].lv_globalTerran_AutoWallToggle = true;
    lv_unitGroup = UnitGroup("SupplyDepot", lv_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupIssueOrder(lv_unitGroup, Order(AbilityCommand("AutoWallToggleOnHidden", 0)), c_orderQueueReplace);
    lv_unitGroup = UnitGroup("SupplyDepotLowered", lv_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupIssueOrder(lv_unitGroup, Order(AbilityCommand("AutoWallToggleOnHidden", 0)), c_orderQueueReplace);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_UCBAutoWallToggleOn_Init () {
    libSCPL_gt_UCBAutoWallToggleOn = TriggerCreate("libSCPL_gt_UCBAutoWallToggleOn_Func");
    TriggerAddEventUnitAbilityAutoCastChange(libSCPL_gt_UCBAutoWallToggleOn, null, AbilityCommand("AutoWallToggleUCB", 0), c_unitAbilAutoCastChangeOn, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: UCB Auto Wall Toggle Off
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_UCBAutoWallToggleOff_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unitgroup lv_unitGroup;

    // Variable Initialization
    lv_unitGroup = UnitGroupEmpty();

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = UnitGetOwner(EventUnit());
    lv_unitGroup = UnitGroup("SupplyDepot", lv_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupIssueOrder(lv_unitGroup, Order(AbilityCommand("AutoWallToggleOffHidden", 0)), c_orderQueueReplace);
    lv_unitGroup = UnitGroup("SupplyDepotLowered", lv_playerIndex, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    UnitGroupIssueOrder(lv_unitGroup, Order(AbilityCommand("AutoWallToggleOffHidden", 0)), c_orderQueueReplace);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_UCBAutoWallToggleOff_Init () {
    libSCPL_gt_UCBAutoWallToggleOff = TriggerCreate("libSCPL_gt_UCBAutoWallToggleOff_Func");
    TriggerAddEventUnitAbilityAutoCastChange(libSCPL_gt_UCBAutoWallToggleOff, null, AbilityCommand("AutoWallToggleUCB", 0), c_unitAbilAutoCastChangeOff, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Player Auto Wall Unit Created
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_PlayerAutoWallUnitCreated_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unit lv_unit;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_unit = EventUnit();
    lv_playerIndex = UnitGetOwner(lv_unit);
    if ((libSCPL_gv_player[lv_playerIndex].lv_globalTerran_AutoWallToggle == false)) {
        UnitIssueOrder(lv_unit, Order(AbilityCommand("AutoWallToggleOffHidden", 0)), c_orderQueueReplace);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_PlayerAutoWallUnitCreated_Init () {
    libSCPL_gt_PlayerAutoWallUnitCreated = TriggerCreate("libSCPL_gt_PlayerAutoWallUnitCreated_Func");
    TriggerAddEventUnitAbility(libSCPL_gt_PlayerAutoWallUnitCreated, null, AbilityCommand("AutoWallConstructionComplete", 0), c_abilMorphStageUnitEnd, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Creep Tumor Node Create Parent
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoCreepTumorNodeCreateParent_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_node;
    int lv_playerIndex;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_node = EventUnitCreatedUnit();
    libSCPL_gf_AutoCreepTumorNodeParentAdd(lv_node);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoCreepTumorNodeCreateParent_Init () {
    libSCPL_gt_AutoCreepTumorNodeCreateParent = TriggerCreate("libSCPL_gt_AutoCreepTumorNodeCreateParent_Func");
    TriggerAddEventUnitCreated(libSCPL_gt_AutoCreepTumorNodeCreateParent, null, "QueenBuild", null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Creep Tumor Node Create Child
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoCreepTumorNodeCreateChild_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_parent;
    unit lv_node;
    int lv_playerIndex;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_node = EventUnitCreatedUnit();
    lv_parent = EventUnit();
    libSCPL_gf_AutoCreepTumorNodeChildAdd(lv_parent, lv_node);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoCreepTumorNodeCreateChild_Init () {
    libSCPL_gt_AutoCreepTumorNodeCreateChild = TriggerCreate("libSCPL_gt_AutoCreepTumorNodeCreateChild_Func");
    TriggerAddEventUnitCreated(libSCPL_gt_AutoCreepTumorNodeCreateChild, null, "CreepTumorBuild", null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Creep Tumor Node Target Reached
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoCreepTumorNodeTargetReached_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    int lv_nodeIndex;

    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!((UnitGetType(EventUnit()) == "GameAutoCreepNodeTarget"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_playerIndex = EventPlayer();
    lv_nodeIndex = FixedToInt(libSCPL_gf_UnitChargeLink(EventUnit(), "CreepNodeIndex"));
    libSCPL_gf_AutoCreepTumorNodeLineageShift(lv_playerIndex, lv_nodeIndex);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoCreepTumorNodeTargetReached_Init () {
    libSCPL_gt_AutoCreepTumorNodeTargetReached = TriggerCreate("libSCPL_gt_AutoCreepTumorNodeTargetReached_Func");
    TriggerAddEventUnitBehaviorChange(libSCPL_gt_AutoCreepTumorNodeTargetReached, null, "GameAutoCreepNodeTargetCapped", c_unitBehaviorChangeCreate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Auto Creep Tumor Ready
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_AutoCreepTumorReady_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_creepNode;
    int lv_playerIndex;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_creepNode = EventUnit();
    lv_playerIndex = UnitGetOwner(lv_creepNode);
    libSCPL_gf_AutoCreepSpreadTowardsTargetNode(lv_playerIndex, lv_creepNode);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_AutoCreepTumorReady_Init () {
    libSCPL_gt_AutoCreepTumorReady = TriggerCreate("libSCPL_gt_AutoCreepTumorReady_Func");
    TriggerAddEventUnitDamaged(libSCPL_gt_AutoCreepTumorReady, null, c_unitDamageTypeAny, c_unitDamageEither, "GameAutoCreepSpreadHook");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Player Auto Creep Spread Unit Created
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_PlayerAutoCreepSpreadUnitCreated_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;
    unit lv_unit;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_unit = EventUnit();
    lv_playerIndex = UnitGetOwner(lv_unit);
    if ((libSCPL_gv_player[lv_playerIndex].lv_globalZerg_CreepSpreadToggle == false)) {
        UnitIssueOrder(lv_unit, Order(AbilityCommand("AutoCreepSpreadOffHidden", 0)), c_orderQueueReplace);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_PlayerAutoCreepSpreadUnitCreated_Init () {
    libSCPL_gt_PlayerAutoCreepSpreadUnitCreated = TriggerCreate("libSCPL_gt_PlayerAutoCreepSpreadUnitCreated_Func");
    TriggerAddEventUnitAbility(libSCPL_gt_PlayerAutoCreepSpreadUnitCreated, null, AbilityCommand("BurrowCreepTumorDown", 0), c_abilMorphStageUnitEnd, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Resource Display Spend
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ResourceDisplaySpend_Func (bool testConds, bool runActions) {
    // Variable Declarations
    string lv_event;
    string lv_param;
    int lv_playerIndex;
    fixed lv_spend;
    string lv_spendDisplay;

    // Variable Initialization
    lv_event = "";
    lv_param = "";
    lv_spendDisplay = "";

    // Actions
    if (!runActions) {
        return true;
    }

    lv_event = libSCPL_ge_GenericEvent_Ident(libSCPL_ge_GenericEvent_ResourceSpend);
    lv_param = libSCPL_ge_GenericParameter_Ident(libSCPL_ge_GenericParameter_TriggeringPlayer);
    lv_playerIndex = DataTableGetInt(false, TriggerEventParamName(lv_event, lv_param));
    lv_spend = (libSCPL_gv_player[lv_playerIndex].lv_resourceSpendMinerals * (1.0 / libSCPL_gv_constants.lv_spendTickIncrement));
    if ((lv_spend > 0.0)) {
        lv_spendDisplay = ("( - " + FixedToString(lv_spend, 0) + ")");
        libNtve_gf_SetDialogItemText(libSCPL_gv_uI.lv_resourceMineralSpend, StringToText(lv_spendDisplay), PlayerGroupSingle(lv_playerIndex));
        DialogControlSetVisible(libSCPL_gv_uI.lv_resourceMineralSpend, PlayerGroupSingle(lv_playerIndex), true);
    }
    else {
        DialogControlSetVisible(libSCPL_gv_uI.lv_resourceMineralSpend, PlayerGroupSingle(lv_playerIndex), false);
    }
    if ((lv_spend > libSCPL_gf_PlayerAvailableMinerals(lv_playerIndex))) {
        libNtve_gf_SetDialogItemColor(libSCPL_gv_uI.lv_resourceMineralSpend, Color(100.00, 0.00, 0.00), PlayerGroupSingle(lv_playerIndex));
    }
    else {
        libNtve_gf_SetDialogItemColor(libSCPL_gv_uI.lv_resourceMineralSpend, Color(100,100,100), PlayerGroupSingle(lv_playerIndex));
    }
    lv_spend = (libSCPL_gv_player[lv_playerIndex].lv_resourceSpendVespene * (1.0 / libSCPL_gv_constants.lv_spendTickIncrement));
    if ((lv_spend > 0.0)) {
        lv_spendDisplay = ("( - " + FixedToString(lv_spend, 0) + ")");
        libNtve_gf_SetDialogItemText(libSCPL_gv_uI.lv_resourceVespeneSpend, StringToText(lv_spendDisplay), PlayerGroupSingle(lv_playerIndex));
        DialogControlSetVisible(libSCPL_gv_uI.lv_resourceVespeneSpend, PlayerGroupSingle(lv_playerIndex), true);
    }
    else {
        DialogControlSetVisible(libSCPL_gv_uI.lv_resourceVespeneSpend, PlayerGroupSingle(lv_playerIndex), false);
    }
    if ((lv_spend > libSCPL_gf_PlayerAvailableVespene(lv_playerIndex))) {
        libNtve_gf_SetDialogItemColor(libSCPL_gv_uI.lv_resourceVespeneSpend, Color(100.00, 0.00, 0.00), PlayerGroupSingle(lv_playerIndex));
    }
    else {
        libNtve_gf_SetDialogItemColor(libSCPL_gv_uI.lv_resourceVespeneSpend, Color(100,100,100), PlayerGroupSingle(lv_playerIndex));
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ResourceDisplaySpend_Init () {
    libSCPL_gt_ResourceDisplaySpend = TriggerCreate("libSCPL_gt_ResourceDisplaySpend_Func");
    TriggerAddEventGeneric(libSCPL_gt_ResourceDisplaySpend, libSCPL_ge_GenericEvent_Ident(libSCPL_ge_GenericEvent_ResourceSpend));
}

//--------------------------------------------------------------------------------------------------
// Trigger: Control Group Update Trigger
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ControlGroupUpdateTrigger_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    TriggerEnable(libSCPL_gt_ControlGroupUpdateTrigger, false);
    TriggerEnable(libSCPL_gt_ControlGroupUpdate, true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ControlGroupUpdateTrigger_Init () {
    libSCPL_gt_ControlGroupUpdateTrigger = TriggerCreate("libSCPL_gt_ControlGroupUpdateTrigger_Func");
    TriggerEnable(libSCPL_gt_ControlGroupUpdateTrigger, false);
    TriggerAddEventUnitDamaged(libSCPL_gt_ControlGroupUpdateTrigger, null, c_unitDamageTypeAny, c_unitDamageEither, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Control Group Update
//--------------------------------------------------------------------------------------------------
bool libSCPL_gt_ControlGroupUpdate_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_playerIndex;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    TriggerEnable(libSCPL_gt_ControlGroupUpdate, false);
    TriggerEnable(libSCPL_gt_ControlGroupUpdateTrigger, true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libSCPL_gt_ControlGroupUpdate_Init () {
    libSCPL_gt_ControlGroupUpdate = TriggerCreate("libSCPL_gt_ControlGroupUpdate_Func");
    TriggerEnable(libSCPL_gt_ControlGroupUpdate, false);
    TriggerAddEventTimePeriodic(libSCPL_gt_ControlGroupUpdate, 0.125, c_timeGame);
}

void libSCPL_InitTriggers () {
    libSCPL_gt_InitializationPlus_Init();
    libSCPL_gt__1_Init();
    libSCPL_gt__2_Init();
    libSCPL_gt__3_Init();
    libSCPL_gt__4_Init();
    libSCPL_gt__5_Init();
    libSCPL_gt__0_Init();
    libSCPL_gt_GlobalRally00TargetCreated_Init();
    libSCPL_gt_GlobalRally01TargetCreated_Init();
    libSCPL_gt_GlobalRally02TargetCreated_Init();
    libSCPL_gt_GlobalRally00ProducerCreated_Init();
    libSCPL_gt_GlobalRally01ProducerCreated_Init();
    libSCPL_gt_GlobalRally02ProducerCreated_Init();
    libSCPL_gt_GlobalRally00AttachUnit_Init();
    libSCPL_gt_GlobalRally01AttachUnit_Init();
    libSCPL_gt_GlobalRally02AttachUnit_Init();
    libSCPL_gt_ProgressMorphRefundOneStage_Init();
    libSCPL_gt_ProgressMorphRefundTwoStage_Init();
    libSCPL_gt_ProgressMorphStart_Init();
    libSCPL_gt_ProgressMorphCancel_Init();
    libSCPL_gt_ProgressUpgradeRefund_Init();
    libSCPL_gt_ProgressUpgradeStart_Init();
    libSCPL_gt_ProgressArmamentStartRefund_Init();
    libSCPL_gt_ProgressArmamentStart_Init();
    libSCPL_gt_ProgressBuildingStartRefund_Init();
    libSCPL_gt_ProgressBuildingStart_Init();
    libSCPL_gt_ProgressBuildingSCVStart_Init();
    libSCPL_gt_ProgressBuildingSCVResume_Init();
    libSCPL_gt_ProgressBuildingSCVRefundUndo_Init();
    libSCPL_gt_ProgressBuildingCancel_Init();
    libSCPL_gt_ProgressUnitStartRefund_Init();
    libSCPL_gt_ProgressUnitStart_Init();
    libSCPL_gt_ProgressNydusWormUpfrontCostAdjustment_Init();
    libSCPL_gt_ProgressWarpgateUnitUpfrontCostAdjustment_Init();
    libSCPL_gt_ProgressWarpgateUnitSwap_Init();
    libSCPL_gt_ProgressUnitStartCommented_Init();
    libSCPL_gt_ProgressUnitStartCommentedTest_Init();
    libSCPL_gt_ProgressUnitCancelCommented_Init();
    libSCPL_gt_AutoWorkerProductionCheckWorkerSlot_Init();
    libSCPL_gt_AutoWorkerProductionCheckWorkerSlotZerg_Init();
    libSCPL_gt_AutoWorkerProductionCheckVespeneHarvester_Init();
    libSCPL_gt_AutoWorkerProductionCheckVespeneHarvesterZerg_Init();
    libSCPL_gt_AutoWorkerProductionCheckMorphConstructionZerg_Init();
    libSCPL_gt_AutoWorkerProductionCheckTownHallUpgrade_Init();
    libSCPL_gt_AutoWorkerProductionCheckExpansion_Init();
    libSCPL_gt_AutoWorkerGatherVespene_Init();
    libSCPL_gt_AutoWorkerSetHarvestState_Init();
    libSCPL_gt_AutoWorkerSetHarvestStateNone_Init();
    libSCPL_gt_AutoWorkerIdleHarvestResume_Init();
    libSCPL_gt_UnitLifeAndShieldScalingOnCreation_Init();
    libSCPL_gt_WarpGateResearchGatewayBuilt_Init();
    libSCPL_gt_WarpGateResearchUpgradeAllGates_Init();
    libSCPL_gt_BarracksTrainStartStop_Init();
    libSCPL_gt_MuleHarvestNearestResoures_Init();
    libSCPL_gt_CommandCenterMorphStart_Init();
    libSCPL_gt_CommandCenterMorphCancel_Init();
    libSCPL_gt_UCBAutoWallRaise_Init();
    libSCPL_gt_UCBAutoWallLower_Init();
    libSCPL_gt_UCBAutoWallToggleOn_Init();
    libSCPL_gt_UCBAutoWallToggleOff_Init();
    libSCPL_gt_PlayerAutoWallUnitCreated_Init();
    libSCPL_gt_AutoCreepTumorNodeCreateParent_Init();
    libSCPL_gt_AutoCreepTumorNodeCreateChild_Init();
    libSCPL_gt_AutoCreepTumorNodeTargetReached_Init();
    libSCPL_gt_AutoCreepTumorReady_Init();
    libSCPL_gt_PlayerAutoCreepSpreadUnitCreated_Init();
    libSCPL_gt_ResourceDisplaySpend_Init();
    libSCPL_gt_ControlGroupUpdateTrigger_Init();
    libSCPL_gt_ControlGroupUpdate_Init();
}

//--------------------------------------------------------------------------------------------------
// Library Initialization
//--------------------------------------------------------------------------------------------------
bool libSCPL_InitLib_completed = false;

void libSCPL_InitLib () {
    if (libSCPL_InitLib_completed) {
        return;
    }

    libSCPL_InitLib_completed = true;

    libSCPL_InitLibraries();
    libSCPL_InitVariables();
    libSCPL_InitTriggers();
}

include "LibPPRL"

