<?xml version="1.0" encoding="us-ascii"?>
<Catalog>
    <CActorPower id="PowerFast">
        <On index="0" removed="1"/>
        <On index="1" removed="1"/>
    </CActorPower>
    <CActorPower id="PowerFastNearNexus">
        <PowerSource value="PowerSourceFast2"/>
        <VisualArray value="UnpoweredVisualNearNexus"/>
        <VisualArray value="PowerVisualFastNearNexus"/>
    </CActorPower>
    <CActorPower id="PowerFastLowNearNexus">
        <On Terms="Behavior.PowerSourceFast2.Enable; Option Model Low" Send="Create"/>
        <On Terms="Behavior.PowerSourceFast2.Disable; Option Model Low" Send="Destroy"/>
        <PowerSource value="PowerSourceFast2"/>
        <VisualArray value="UnpoweredVisualLow"/>
        <VisualArray value="PowerVisualFastLow"/>
    </CActorPower>
    <!--                                                                                         -->
    <CActorSplat id="PowerVisual">
        <On Terms="ActorOrphan" Send="Destroy"/>
    </CActorSplat>
    <CActorRange id="PowerVisualFastLowNearNexus">
        <Behavior value="PowerSourceFast2"/>
        <Icon value="Assets\Textures\pylonwarpconduitlowringsplat.dds"/>
        <IconScale value="0.004500,0.004500"/>
        <IconArcLength value="1.250000"/>
        <IconTint value="255,0,255,172"/>
        <CliffLevelFlags index="Higher" value="0"/>
    </CActorRange>
    <CActorSplat id="PowerVisualFastNearNexus">
        <FogVisibility value="Visible"/>
        <On Terms="ActorOrphan" Send="Destroy"/>
        <Host Subject="_Selectable"/>
        <HostSiteOps Ops="SOpShadow"/>
        <FadeIn value="0.000000"/>
        <FadeOut value="0.000000"/>
        <HoldTime value="-1.000000"/>
        <Layer value="PowerLayer"/>
        <Model value="PowerVisualFast2"/>
        <Scale value="2.000000"/>
    </CActorSplat>
    <CActorUnit id="Pylon">
        <On Terms="Behavior.IsNexusNearby.On" Target="Power" Send="Destroy"/>
        <On Terms="Behavior.IsNexusNearby.On" Target="PowerFast" Send="Destroy"/>
        <On Terms="Behavior.IsNexusNearby.Off; !ValidateUnit IsWarpgateNearbyBehav" Send="Create Power"/>
        <On Terms="Behavior.IsNexusNearby.Off; ValidateUnit IsWarpgateNearbyBehav" Send="Create PowerFast"/>
        <On Terms="ActorCreation.Pylon; ValidateUnit NexusWarpGateNotNearby" Send="Create Power"/>
        <On Terms="ActorCreation.Pylon; ValidateUnit NexusNotNearbyWarpGateNearby" Send="Create PowerFast"/>
        <On Terms="Behavior.IsNexusNearby.On" Send="Create PowerFastNearNexus"/>
        <On Terms="Behavior.IsNexusNearby.Off" Target="PowerFastNearNexus" Send="Destroy"/>
        <On Terms="Behavior.IsWarpGateNearby.On; !ValidateUnit IsNexusNearbyBehav" Send="Create PowerFast"/>
        <On Terms="Behavior.IsWarpGateNearby.Off; !ValidateUnit IsNexusNearbyBehav" Send="Create Power"/>
        <On Terms="Behavior.IsWarpGateNearby.Off" Target="PowerFast" Send="Destroy"/>
        <On Terms="Behavior.IsWarpGateNearby.On" Target="Power" Send="Destroy"/>
    </CActorUnit>
    <CActorModel id="PylonPlacementModel">
        <On Terms="ActorCreation; ModelName PylonPlacement" Send="Create PowerVisual"/>
        <On Terms="ActorCreation; ModelName PylonXPRPlacement" Send="Create PowerVisual"/>
        <On Terms="TimerExpired; TimerName PylonPowerSearch" Send="Create PylonPowerSearchNexusCircleUnnamed"/>
        <On Terms="TimerExpired; TimerName PylonPowerSearch" Target="PowerVisualFast" Send="SetScale"/>
        <On Terms="Signal.*.PylonPowerCheckNexus" Target="PowerVisualFast" Send="SetScale 2.000000"/>
    </CActorModel>
    <CActorRegionCircle id="PylonPowerSearchNexusCircleUnnamed">
        <On Terms="ActorCreation" Send="QueryRegion ::Self PylonPowerSearchNexusQueryUnnamedCopy AgainstCenterGame"/>
        <On Terms="ActorCreation" Send="TimerSet 0.100000 Die"/>
        <On Terms="TimerExpired; TimerName Die" Send="Destroy"/>
        <Radius value="6.500000"/>
    </CActorRegionCircle>
    <CActorQueryResponse id="PylonPowerSearchNexusQueryUnnamed">
        <Subject Filters="Unit" Terms="ScopeContains _Selectable; ValidateUnit TargetIsPlayer 0 Probe; ValidatePosition CliffLevelEqualOrLesser ::QueryDirector ::Main; ValidateUnitType IsNexus"/>
        <OnResponse Target="_Selectable" Send="Signal PylonPowerCheckNexus" Scope="QueryDirector"/>
    </CActorQueryResponse>
    <CActorRange id="UnpoweredVisualLowNearNexus">
        <Behavior value="PowerSourceFast2"/>
        <Icon value="Assets\Textures\PylonLowRingSplatGrey.dds"/>
        <IconArcLength value="0.750000"/>
    </CActorRange>
    <CActorSplat id="UnpoweredVisualNearNexus">
        <FogVisibility value="Visible"/>
        <Host Subject="_Selectable"/>
        <HostSiteOps Ops="SOpShadow"/>
        <FadeIn value="0.000000"/>
        <FadeOut value="0.000000"/>
        <HoldTime value="-1.000000"/>
        <Layer value="PowerLayer"/>
        <Scale value="2.000000"/>
    </CActorSplat>
</Catalog>
